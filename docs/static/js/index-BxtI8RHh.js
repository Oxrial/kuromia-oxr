import{_ as D}from"./index.vuevuetypescriptsetuptruelang-CF_AvRT1.js";import{p as V}from"./el-message-_NZvmBZy.js";import{u as G,b as H}from"./index-IMGPV_b8.js";import{k as N,l as J,m as Q,n as U,o as X,u as Y,r as d,j as K,x as Z,y as x}from"./element-D5QrkvH2.js";import{h as P,a as L,d as ee,l as c,j as f,a5 as I,J as w,F as C,I as oe,u as S,M as p,P as y,$ as W,X as E,aj as te,x as se,O as M,k as g,H as O,ak as ne,Q as le}from"./vue-CRh11K5_.js";import{_ as q}from"./plugin-vueexport-helper-DlAUqK2U.js";const _=v=>{let m=v.length;const h=v.match(/[a-z]/g);return h&&(m=v.length-h.length+N(h.length/2)),m},ae=P({__name:"item",props:{songss:{default:()=>[]},theme:{default:""},width:{default:0},color:{default:()=>[]}},setup(v){const m=v,h={3:{label:"NEW",color:"#58c147"},1:{label:"SC",color:"#ff9a8b"},2:{label:"舰长",color:"#66bbf9"}},T=L("---"),{copy:$,isSupported:k}=G({source:T}),R=e=>{k&&($(`点歌 ${e.song}`),J({message:`点歌 ${e.song}`,grouping:!0,type:"success",duration:5e3,plain:!0,offset:200,showClose:!0}))},z=L(),j=(e,s)=>{const n=Q(s/(N(l.value*e.columns)+15)),r=N(e.list.length/n);return e.list.forEach((a,i)=>{a.tag&&(a.tagE=h[a.tag]),a.color=N((i+1)/r-1)%m.color.length}),e};ee([()=>m.songss,()=>m.width],([e])=>{z.value=e},{immediate:!0,deep:!0});const l=L(parseInt(getComputedStyle(document.documentElement).fontSize));return(e,s)=>{var a;const n=U,r=X;return c(!0),f(C,null,I((a=S(z))==null?void 0:a.map(i=>j(i,e.width)),i=>(c(),f("div",{class:"song-columns-container",style:w({columns:`${i.columns}rem auto`})},[(c(!0),f(C,null,I(i.list,o=>{var u,b,t;return c(),f("div",{class:oe(["song-item",{"long-text":S(_)(o.song)>=9}])},[p(r,{hidden:!o.tag||o.tag&&o.tag!=3,value:o.tag?(u=o.tagE)==null?void 0:u.label:"",color:o.tag&&((b=o.tagE)==null?void 0:b.color)+"22"||"#a2d3ff","badge-style":{color:o.tag&&((t=o.tagE)==null?void 0:t.color)||"#a2d3ff",fontSize:".6rem",borderWidth:0,padding:".125rem .375rem"},offset:[-16,5]},{default:y(()=>[p(n,{"disable-transitions":"",type:"info",color:(e.theme?e.theme:e.color[o.color]||"#a2d3ff")+"11",style:w({"border-left":`.3125rem ${(e.theme?e.theme:e.color[o.color]||"#a2d3ff")+"44"} solid`,color:e.theme?e.theme:e.color[o.color]||"#a2d3ff"}),onClick:F=>R(o)},{default:y(()=>[W(E(o.song),1)]),_:2},1032,["color","style","onClick"])]),_:2},1032,["hidden","value","color","badge-style"])],2)}),256))],4))),256)}}}),re=q(ae,[["__scopeId","data-v-b7bf3bcf"]]),ce={style:{"min-height":"10rem"}},ie={style:{position:"absolute",right:"5%",bottom:"10%"}},ge={class:"logo-cn"},ue={class:"logo-cn"},me=P({__name:"index",props:{songs:{default:()=>[]},avater:{default:()=>({})},vup:{default:"---"},slogan:{default:""},logo:{default:()=>({fontFamily:"BEYNO",fontSize:"2.7rem",height:"5rem"})},logoCn:{default:"---"},pnglogo:{},theme:{default:""},color:{default:()=>["#66bbf9","#d69dff","#ff9a8b","#d1ac3c","#58c147"]},cates:{default:()=>[]}},setup(v){const m=v,h=te("contentRef"),{width:T}=H(h),$=se(()=>z(Y(m.songs,"song"))),k=[...m.cates],R=e=>[...e.length?[{columns:9.2,list:l(e),length:e.length}]:[]],z=e=>{const s={};return k.forEach(n=>{s[n.code]=R(d(e,r=>r.type.includes(n.value)))}),{...s,song_oth:[...e.length?[{columns:9.2,list:l(e)}]:[]]}},j=e=>{const s=d(e,t=>t.type.includes(1)),n=d(e,t=>t.type.includes(6)),r=d(e,t=>_(t.song)<2),a=d(e,t=>_(t.song)<3),i=d(e,t=>_(t.song)<4),o=d(e,t=>_(t.song)<5),u=d(e,t=>_(t.song)<6),b=d(e,t=>_(t.song)<7);return{...r.length&&{song1:[{columns:4,list:l(r)}]},...a.length&&{song2:[{columns:4,list:l(a)}]},...i.length&&{song3:[{columns:4,list:l(i)}]},...o.length&&{song4:[{columns:6,list:l(o)}]},...u.length&&{song5:[{columns:6,list:l(u)}]},...b.length&&{song6:[{columns:7,list:l(b)}]},...s.length&&{eng:[{columns:7,list:l(s)}]},...n.length&&{oth:[{columns:9.2,list:l(n)}]},...e.length&&{rest:[{columns:6.6,list:l(e)}]}}},l=e=>e.sort((s,n)=>V(s.song,{toneType:"none"}).localeCompare(V(n.song,{toneType:"none"})));return(e,s)=>{const n=D,r=K,a=Z,i=x;return c(),f("div",{ref_key:"contentRef",ref:h,class:"main-container"},[e.logo&&!e.pnglogo?(c(),M(r,{key:0,class:"slogan",style:w({"--slogan":`url(${e.slogan})`})},{default:y(()=>[g("div",ce,[g("div",{class:"logo",style:w({"font-family":e.logo.fontFamily,"font-size":e.logo.fontSize,height:e.logo.height})},E(e.vup),5),g("div",ie,[g("div",ge,E(e.logoCn),1),s[0]||(s[0]=g("div",{style:{"text-align":"right","font-size":"0.875rem","text-shadow":"0.0625rem 0.0625rem 0.125rem black",color:"white"}}," 注：若页面异常请看图片版本 ",-1))]),p(n,O({name:e.avater.name||"",img:e.avater.img,src:e.avater.src||"",width:"4.375rem",height:"4.375rem",is:e.avater.is||"v-fragment","in-style":{top:"5.5rem",position:"absolute","border-radius":".9375rem","margin-left":"5%"}},e.avater.$attr||{}),null,16,["name","img","src","is"])])]),_:1},8,["style"])):(c(),M(r,{key:1,class:"slogan",style:w({"--slogan":`url(${e.slogan})`})},{default:y(()=>[g("div",{class:"logo-main",style:w({"--logo":`url(${e.pnglogo})`})},[p(i,null,{default:y(()=>[p(a,{span:6},{default:y(()=>[g("div",null,[p(n,O({name:e.avater.name||"",img:e.avater.img,src:e.avater.src||"",width:"4.375rem",height:"4.375rem",is:e.avater.is||"v-fragment","in-style":{top:"8.5rem",position:"absolute","border-radius":".9375rem"}},e.avater.$attr||{}),null,16,["name","img","src","is"])])]),_:1}),p(a,{span:18})]),_:1})],4),g("div",null,[g("div",ue,E(e.logoCn),1),s[1]||(s[1]=g("div",{style:{"text-align":"right","font-size":"0.875rem","text-shadow":"0.0625rem 0.0625rem 0.125rem black",color:"white"}}," 注：若页面异常请看图片版本 ",-1))])]),_:1},8,["style"])),(c(!0),f(C,null,I(Object.keys(S($)),o=>(c(),f(C,null,[(c(!0),f(C,null,I(j(S($)[o].flatMap(u=>u.list)),(u,b,t)=>{var F;return c(),f(C,null,[W(E(b)+" ",1),(F=u[0])!=null&&F.list.length?(c(),M(r,{key:0,class:"category-card"},ne({default:y(()=>[p(re,{songss:u,width:S(T),theme:e.theme,color:e.color},null,8,["songss","width","theme","color"])]),_:2},[t===0&&k.find(B=>B.code===o)?{name:"header",fn:y(()=>{var B;return[g("span",{style:w({color:e.color[0]})},E((B=k.find(A=>A.code===o))==null?void 0:B.label),5)]}),key:"0"}:void 0]),1024)):le("",!0)],64)}),256))],64))),256))],512)}}}),be=q(me,[["__scopeId","data-v-5032cca9"]]);export{be as _};
