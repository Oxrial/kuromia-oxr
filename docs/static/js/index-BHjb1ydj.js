import{u as X,a as Y}from"./index-Zkzk9CZV.js";import{h as G,l as n,O as S,P as r,j as i,k as C,H as K,Z as x,a as W,d as U,c as ee,M as g,X as b,J as v,F as m,aa as w,u as a,z as oe,S as se,$ as F,Q as te}from"./vue-DwQkaS4S.js";import{u as M,k as ne,j as le,l as ae,m as re,n as ie,o as ge,p as j,q as de,r as ce,t as fe,v as ue,w as he}from"./element-B2K_PfVG.js";import{_ as pe}from"./plugin-vueexport-helper-DlAUqK2U.js";const me=["xlink:href","fill"],_e=G({__name:"index",props:{width:{default:""},height:{default:""},color:{default:"#333"},prefix:{default:"#icon-"},is:{default:"el-icon"},name:{default:""},inStyle:{}},setup(L){return(f,O)=>(n(),S(x(f.is),null,{default:r(()=>[(n(),i("svg",K({xmlns:"http://www.w3.org/2000/svg",style:{width:f.width,height:f.height,...f.inStyle},"aria-hidden":"true"},f.$attrs),[C("use",{"xlink:href":f.prefix+f.name,fill:f.color},null,8,me)],16))]),_:1}))}}),ye={class:"song-content"},be={class:"logo-cn"},ve={key:0,wrap:"",class:"singer-item"},we={class:"singer"},Ce={key:1,id:"default-song"},$e={class:"song-border"},ze={class:"song-border"},Z=34,Se=G({__name:"index",props:{vup:{},avater:{default:""},slogan:{default:""},logo:{default:()=>({fontFamily:"BEYNO",fontSize:"2.7rem",height:"5rem"})},logoCn:{default:"---"},songs:{default:()=>[]},theme:{default:""},tab:{type:Boolean,default:!0}},setup(L){const f=L,O=W("---"),{copy:H,isSupported:I}=X({source:O}),p=["#66bbf9","#d69dff","#ff9a8b","#d1ac3c","#58c147"],P=e=>ie([33.5+12.5*ge([e<4?4:e,12]),80]),_=(e,l,c)=>(j((e+1)/k(l,c))-1)%p.length,k=(e=[],l)=>j(J(e)/de(A.value/P(l))),E=e=>{let l=e.length;const c=e.match(/[a-zA-Z]/g);return c&&(l=e.length-c.length+j(c.length/2)),l},J=e=>e.filter(l=>E(l.song)>11).length+e.length,y={3:{label:"NEW",color:"#58c147"},1:{label:"SC",color:"#ff9a8b"},2:{label:"舰长",color:"#66bbf9"}};let d={},B={},q=[];U(()=>f.songs,(e,l)=>{if(e.length){const c=e.filter(t=>t.type.includes(1)),$=e.filter(t=>t.type.includes(0)),h={};h.song_other=M($,"song").filter(t=>E(t.song)>5).sort((t,o)=>t.song.localeCompare(o.song,"pinyin")),h.song_eng=M(c,"song").sort((t,o)=>t.song.localeCompare(o.song));for(let t=1;t<=5;t++)h[`song_${t}`]=M($,"song").filter(o=>E(o.song)===t).sort((o,s)=>o.song.localeCompare(s.song,"pinyin"));const z=ne(e,t=>t.singer);d=h,B=z,q=[...Object.keys(z).filter(t=>!!t).sort((t,o)=>t.localeCompare(o,"pinyin",{sensitivity:"accent"})),""]}},{immediate:!0,deep:!0});const A=W(window.innerWidth),{width:Q}=Y(),D=()=>{const e=document.getElementsByClassName("song-main")[0];e&&(A.value=e.offsetWidth)},N=e=>{I&&(H(`点歌 ${e.song}`),ce({message:`点歌 ${e.song}`,grouping:!0,type:"success",duration:5e3,plain:!0,offset:200,showClose:!0}))},V=W("song");return U(()=>Q.value,D),ee(()=>{D()}),(e,l)=>{const c=le,$=ae,h=fe,z=re,T=ue,t=he;return n(),i("div",ye,[g(c,{class:"slogan",style:v({"--slogan":`url(${e.slogan})`})},{default:r(()=>[C("div",{class:"logo",style:v({"font-family":e.logo.fontFamily,"font-size":e.logo.fontSize,height:e.logo.height})},b(e.vup),5),C("div",null,[C("div",be,b(e.logoCn),1),l[1]||(l[1]=C("div",{style:{"text-align":"right","font-size":"0.875rem","text-shadow":"0.0625rem 0.0625rem 0.125rem black",color:"white"}}," 注：若页面异常请看图片版本 ",-1))]),g(_e,{name:e.avater,width:"70",height:"70",is:"v-fragment","in-style":{top:"100px",position:"absolute"}},null,8,["name"])]),_:1},8,["style"]),e.tab?(n(),S(z,{key:0,modelValue:a(V),"onUpdate:modelValue":l[0]||(l[0]=o=>oe(V)?V.value=o:null),class:"song-tabs"},{default:r(()=>[g($,{label:"按歌名",name:"song"}),g($,{label:"按歌手",name:"singer"},{default:r(()=>[(n(!0),i(m,null,w(a(q),o=>(n(),i(m,null,[a(B)[o]?(n(),i("div",ve,[C("span",we,b(o)+": ",1),(n(!0),i(m,null,w(a(B)[o].sort((s,u)=>s.song.localeCompare(u.song,"pinyin",{sensitivity:"accent"})),s=>(n(),S(h,{class:"song-item","disable-transitions":"",onClick:u=>N(s)},{default:r(()=>[F(b(s.song),1)]),_:2},1032,["onClick"]))),256))])):te("",!0)],64))),256))]),_:1})]),_:1},8,["modelValue"])):(n(),i("div",Ce)),(n(),S(se,{to:e.tab?"#pane-song":"#default-song",defer:""},[(n(),i(m,null,w(5,o=>g(c,{class:"song-list"},{default:r(()=>[g(t,{class:"song-main",wrap:"",alignment:"start",direction:"vertical",size:[3,0],style:v({height:k(a(d)[`song_${o}`],o)*Z/16+"rem"})},{default:r(()=>[(n(!0),i(m,null,w(a(d)[`song_${o}`],(s,u)=>(n(),i("div",$e,[g(T,{hidden:!s.tag||s.tag&&s.tag!==3,value:s.tag?y[s.tag].label:"",color:(s.tag&&y[s.tag].color)+"22"||"#a2d3ff","badge-style":{color:s.tag&&y[s.tag].color||"#a2d3ff",fontSize:"9px",borderWidth:0},offset:[-16,5]},{default:r(()=>[g(h,{class:"song-item","disable-transitions":"",type:"info",color:(e.theme?e.theme:p[_(u,a(d)[`song_${o}`],o)]||"#a2d3ff")+"11",onClick:R=>N(s),style:v({"border-left":`5px ${(e.theme?e.theme:p[_(u,a(d)[`song_${o}`],o)]||"#a2d3ff")+"44"} solid`,color:e.theme?e.theme:p[_(u,a(d)[`song_${o}`],o)]||"#a2d3ff"})},{default:r(()=>[F(b(s.song),1)]),_:2},1032,["color","onClick","style"])]),_:2},1032,["hidden","value","color","badge-style"])]))),256))]),_:2},1032,["style"])]),_:2},1024)),64)),(n(),i(m,null,w(["other","eng"],o=>g(c,{class:"song-list"},{default:r(()=>[g(t,{class:"song-main",wrap:"",alignment:"start",direction:"vertical",size:[3,0],style:v({height:(k(a(d)[`song_${o}`],11)*Z+34/2)/16+"rem"})},{default:r(()=>[(n(!0),i(m,null,w(a(d)[`song_${o}`],(s,u)=>(n(),i("div",ze,[g(T,{hidden:!s.tag||s.tag&&s.tag!==3,value:s.tag?y[s.tag].label:"",color:(s.tag&&y[s.tag].color)+"22"||"#a2d3ff","badge-style":{color:s.tag&&y[s.tag].color||"#a2d3ff",fontSize:"9px",borderWidth:0},offset:[-16,5]},{default:r(()=>[g(h,{class:"song-item","disable-transitions":"",type:"info",color:(e.theme?e.theme:p[_(u,a(d)[`song_${o}`],11)]||"#a2d3ff")+"11",style:v({"border-left":`5px ${(e.theme?e.theme:p[_(u,a(d)[`song_${o}`],11)]||"#a2d3ff")+"44"} solid`,"max-width":P(11)/16+"rem",color:e.theme?e.theme:p[_(u,a(d)[`song_${o}`],11)]||"#a2d3ff"}),onClick:R=>N(s)},{default:r(()=>[F(b(s.song),1)]),_:2},1032,["color","style","onClick"])]),_:2},1032,["hidden","value","color","badge-style"])]))),256))]),_:2},1032,["style"])]),_:2},1024)),64))],8,["to"]))])}}}),Ve=pe(Se,[["__scopeId","data-v-5e85a93c"]]);export{Ve as _};
