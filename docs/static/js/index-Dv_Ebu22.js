import{_ as A}from"./index.vuevuetypescriptsetuptruelang-DqGxx7Fi.js";import{p as L}from"./el-message-_NZvmBZy.js";import{u as P,b as U}from"./index-X6AGnhmd.js";import{k as w,l as W,m as D,n as G,o as H,r as v,j as J}from"./element-BvdhPx_l.js";import{h as R,a as I,d as K,l as i,j as b,a5 as B,J as k,F as N,I as X,u as E,M as C,P as $,$ as Y,X as T,aj as q,x as Q,k as S,H as Z,O as V}from"./vue-vsWVRqpa.js";import{_ as j}from"./plugin-vueexport-helper-DlAUqK2U.js";import{s as x,a as ee,b as oe}from"./index-DALRwl9i.js";const y=u=>{let l=u.length;const a=u.match(/[a-z]/g);return a&&(l=u.length-a.length+w(a.length/2)),l},te=R({__name:"item",props:{songss:{default:()=>[]},theme:{default:""},width:{default:0}},setup(u){const l=u,a={3:{label:"NEW",color:"#58c147"},1:{label:"SC",color:"#ff9a8b"},2:{label:"舰长",color:"#66bbf9"}},d=["#66bbf9","#d69dff","#ff9a8b","#d1ac3c","#58c147"],p=I("---"),{copy:z,isSupported:r}=P({source:p}),e=o=>{r&&(z(`点歌 ${o.song}`),W({message:`点歌 ${o.song}`,grouping:!0,type:"success",duration:5e3,plain:!0,offset:200,showClose:!0}))},s=I(),c=(o,h)=>{const m=D((h-2*g.value)/w(g.value*o.columns)),t=w(o.list.length/m);return o.list.forEach((f,_)=>{f.tag&&(f.tagE=a[f.tag]),f.color=w((_+1)/t-1)%d.length}),o};K([()=>l.songss,()=>l.width],([o])=>{s.value=o},{immediate:!0,deep:!0});const g=I(parseInt(getComputedStyle(document.documentElement).fontSize));return(o,h)=>{var f;const m=G,t=H;return i(!0),b(N,null,B((f=E(s))==null?void 0:f.map(_=>c(_,o.width)),_=>(i(),b("div",{class:"song-columns-container",style:k({columns:`${_.columns}rem auto`})},[(i(!0),b(N,null,B(_.list,n=>{var F,M,O;return i(),b("div",{class:X(["song-item",{"long-text":E(y)(n.song)>=9}])},[C(t,{hidden:!n.tag||n.tag&&n.tag!==3,value:n.tag?(F=n.tagE)==null?void 0:F.label:"",color:n.tag&&((M=n.tagE)==null?void 0:M.color)+"22"||"#a2d3ff","badge-style":{color:n.tag&&((O=n.tagE)==null?void 0:O.color)||"#a2d3ff",fontSize:".6rem",borderWidth:0,padding:".125rem .375rem"},offset:[-16,5]},{default:$(()=>[C(m,{"disable-transitions":"",type:"info",color:(o.theme?o.theme:d[n.color]||"#a2d3ff")+"11",style:k({"border-left":`.3125rem ${(o.theme?o.theme:d[n.color]||"#a2d3ff")+"44"} solid`,color:o.theme?o.theme:d[n.color]||"#a2d3ff"}),onClick:ce=>e(n)},{default:$(()=>[Y(T(n.song),1)]),_:2},1032,["color","style","onClick"])]),_:2},1032,["hidden","value","color","badge-style"])],2)}),256))],4))),256)}}}),ne=j(te,[["__scopeId","data-v-307e2d39"]]),se={class:"logo-cn"},le=R({__name:"index",props:{songs:{default:()=>[]},avater:{default:()=>({})},vup:{default:"---"},slogan:{default:""},logo:{default:()=>({fontFamily:"BEYNO",fontSize:"2.7rem",height:"5rem"})},logoCn:{default:"---"}},setup(u){const l=u,a=q("contentRef"),{width:d}=U(a),p=Q(()=>z(l.songs)),z=e=>{const s=v(e,t=>t.type.includes(1)),c=v(e,t=>y(t.song)<2),g=v(e,t=>y(t.song)<3),o=v(e,t=>y(t.song)<4),h=v(e,t=>y(t.song)<5),m=v(e,t=>y(t.song)<6);return{song1:[...c.length?[{columns:4.5,list:r(c),length:c.length}]:[]],song2:[...g.length?[{columns:4.5,list:r(g),length:g.length}]:[]],song3:[...o.length?[{columns:4.5,list:r(o),length:o.length}]:[]],song4:[...h.length?[{columns:4.5,list:r(h),length:h.length}]:[]],song5:[...m.length?[{columns:6.6,list:r(m),length:m.length}]:[]],song6:[...e.length?[{columns:9,list:r(e),length:e.length}]:[]],songeng:[...s.length?[{columns:9,list:r(s),length:s.length}]:[]]}},r=e=>e.sort((s,c)=>L(s.song,{toneType:"none"}).localeCompare(L(c.song,{toneType:"none"})));return(e,s)=>{const c=A,g=J;return i(),b("div",{ref_key:"contentRef",ref:a,class:"main-container"},[C(g,{class:"slogan",style:k({"--slogan":`url(${e.slogan})`})},{default:$(()=>[S("div",{class:"logo",style:k({"font-family":e.logo.fontFamily,"font-size":e.logo.fontSize,height:e.logo.height})},T(e.vup),5),S("div",null,[S("div",se,T(e.logoCn),1),s[0]||(s[0]=S("div",{style:{"text-align":"right","font-size":"0.875rem","text-shadow":"0.0625rem 0.0625rem 0.125rem black",color:"white"}}," 注：若页面异常请看图片版本 ",-1))]),C(c,Z({name:e.avater.name||"",img:e.avater.img,src:e.avater.src||"",width:"4.375rem",height:"4.375rem",is:e.avater.is||"v-fragment","in-style":{top:"5.5rem",position:"absolute","border-radius":".9375rem"}},e.avater.$attr||{}),null,16,["name","img","src","is"])]),_:1},8,["style"]),(i(!0),b(N,null,B(Object.keys(E(p)).sort(),o=>(i(),V(g,{key:o,class:"category-card"},{default:$(()=>[C(ne,{songss:E(p)[o],width:E(d)},null,8,["songss","width"])]),_:2},1024))),128))],512)}}}),ae=j(le,[["__scopeId","data-v-f6a71a8a"]]),re=R({__name:"index",setup(u){const l=[...x,...ee];return(a,d)=>{const p=ae;return i(),V(p,{songs:l,slogan:E(oe),avater:{is:"ElImage",img:!0},vup:"KUROMIA","logo-cn":"库洛米娅"},null,8,["slogan"])}}}),he=j(re,[["__scopeId","data-v-7ed33b47"]]);export{he as default};
