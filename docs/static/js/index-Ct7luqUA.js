import{_ as P}from"./index.vuevuetypescriptsetuptruelang-BkrCUJn8.js";import{p as V}from"./el-message-_NZvmBZy.js";import{u as U,a as D}from"./index-8XcpCeH0.js";import{k as S,l as G,m as H,n as J,o as K,j as R,r as b}from"./element-UiUITlrg.js";import{h as F,a as I,d as X,l as d,j as _,a5 as B,J as $,F as N,I as Y,u as v,M as E,P as k,$ as q,X as T,x as Q,k as C,H as Z,O as W}from"./vue-DwVGnbwD.js";import{_ as A}from"./plugin-vueexport-helper-DlAUqK2U.js";import{s as x,a as ee,b as oe}from"./index-CKgd8VGe.js";const p=g=>{let u=g.length;const r=g.match(/[a-z]/g);return r&&(u=g.length-r.length+S(r.length/2)),u},te=F({__name:"item",props:{songss:{default:()=>[]},theme:{default:""}},setup(g){const u=g,r={3:{label:"NEW",color:"#58c147"},1:{label:"SC",color:"#ff9a8b"},2:{label:"舰长",color:"#66bbf9"}},m=["#66bbf9","#d69dff","#ff9a8b","#d1ac3c","#58c147"],a=I("---"),{copy:e,isSupported:n}=U({source:a}),o=t=>{n&&(e(`点歌 ${t.song}`),G({message:`点歌 ${t.song}`,grouping:!0,type:"success",duration:5e3,plain:!0,offset:200,showClose:!0}))},c=I(),i=(t,M)=>{const z=H(((M-15)/2-32)/S(y.value*t.columns+4)),w=S(t.list.length/z);return t.list.forEach((f,h)=>{f.tag&&(f.tagE=r[f.tag]),f.color=S((h+1)/w-1)%m.length}),t};X(()=>u.songss,t=>{c.value=t},{immediate:!0,deep:!0});const y=I(parseInt(getComputedStyle(document.documentElement).fontSize)),{width:l}=D();return(t,M)=>{var f;const z=J,w=K;return d(!0),_(N,null,B((f=v(c))==null?void 0:f.map(h=>i(h,v(l))),h=>(d(),_("div",{class:"song-columns-container",style:$({columns:`${h.columns}rem auto`})},[(d(!0),_(N,null,B(h.list,s=>{var O,j,L;return d(),_("div",{class:Y(["song-item",{"long-text":v(p)(s.song)>=9}])},[E(w,{hidden:!s.tag||s.tag&&s.tag!==3,value:s.tag?(O=s.tagE)==null?void 0:O.label:"",color:s.tag&&((j=s.tagE)==null?void 0:j.color)+"22"||"#a2d3ff","badge-style":{color:s.tag&&((L=s.tagE)==null?void 0:L.color)||"#a2d3ff",fontSize:".6rem",borderWidth:0,padding:".125rem .375rem"},offset:[-16,5]},{default:k(()=>[E(z,{"disable-transitions":"",type:"info",color:(t.theme?t.theme:m[s.color]||"#a2d3ff")+"11",style:$({"border-left":`.3125rem ${(t.theme?t.theme:m[s.color]||"#a2d3ff")+"44"} solid`,color:t.theme?t.theme:m[s.color]||"#a2d3ff"}),onClick:ce=>o(s)},{default:k(()=>[q(T(s.song),1)]),_:2},1032,["color","style","onClick"])]),_:2},1032,["hidden","value","color","badge-style"])],2)}),256))],4))),256)}}}),se=A(te,[["__scopeId","data-v-d163b0dd"]]),ne={class:"main-container"},le={class:"logo-cn"},ae=F({__name:"index",props:{songs:{default:()=>[]},avater:{default:()=>({})},vup:{},slogan:{default:""},logo:{default:()=>({fontFamily:"BEYNO",fontSize:"2.7rem",height:"5rem"})},logoCn:{default:"---"}},setup(g){const u=g,r=Q(()=>u.songs.reduce((e,n)=>{let o=p(n.song);return o>5&&(o=6),e[`song${o}`]||(e[`song${o}`]=[]),e[`song${o}`].push(n),e},{})),m=e=>{const n=b(e,l=>p(l.song)<2),o=b(e,l=>p(l.song)<3),c=b(e,l=>p(l.song)<4),i=b(e,l=>p(l.song)<5),y=b(e,l=>p(l.song)<6);return[...n.length?[{columns:5,list:a(n),length:n.length}]:[],...o.length?[{columns:5,list:a(o),length:o.length}]:[],...c.length?[{columns:5,list:a(c),length:c.length}]:[],...i.length?[{columns:5,list:a(i),length:i.length}]:[],...y.length?[{columns:6.6,list:a(y),length:y.length}]:[],...e.length?[{columns:9,list:a(e),length:e.length}]:[]]},a=e=>e.sort((n,o)=>V(n.song,{toneType:"none"}).localeCompare(V(o.song,{toneType:"none"})));return(e,n)=>{const o=P,c=R;return d(),_("div",ne,[E(c,{class:"slogan",style:$({"--slogan":`url(${e.slogan})`})},{default:k(()=>[C("div",{class:"logo",style:$({"font-family":e.logo.fontFamily,"font-size":e.logo.fontSize,height:e.logo.height})},T(e.vup),5),C("div",null,[C("div",le,T(e.logoCn),1),n[0]||(n[0]=C("div",{style:{"text-align":"right","font-size":"0.875rem","text-shadow":"0.0625rem 0.0625rem 0.125rem black",color:"white"}}," 注：若页面异常请看图片版本 ",-1))]),E(o,Z({name:e.avater.name||"",img:e.avater.img,src:e.avater.src||"",width:"4.375rem",height:"4.375rem",is:e.avater.is||"v-fragment","in-style":{top:"5.5rem",position:"absolute","border-radius":".9375rem"}},e.avater.$attr||{}),null,16,["name","img","src","is"])]),_:1},8,["style"]),(d(!0),_(N,null,B(Object.keys(v(r)).sort(),i=>(d(),W(c,{key:i,class:"category-card"},{default:k(()=>[E(se,{songss:m(v(r)[i])},null,8,["songss"])]),_:2},1024))),128))])}}}),re=A(ae,[["__scopeId","data-v-ceae6fd0"]]),he=F({__name:"index",setup(g){const u=[...x,...ee];return(r,m)=>{const a=re;return d(),W(a,{songs:u,slogan:v(oe),avater:{is:"ElImage",img:!0},vup:"KUROMIA","logo-cn":"库洛米娅"},null,8,["slogan"])}}});export{he as default};
