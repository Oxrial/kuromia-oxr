import{_ as A}from"./index.vuevuetypescriptsetuptruelang-DqGxx7Fi.js";import{p as L}from"./el-message-_NZvmBZy.js";import{u as P,b as U}from"./index-CEI8RHyG.js";import{k as w,l as W,m as D,n as G,o as H,r as h,j as J}from"./element-BvdhPx_l.js";import{h as R,a as I,d as K,l as i,j as b,a5 as B,J as k,F as N,I as X,u as E,M as C,P as $,$ as Y,X as T,aj as q,x as Q,k as S,H as Z,O as V}from"./vue-vsWVRqpa.js";import{_ as j}from"./plugin-vueexport-helper-DlAUqK2U.js";import{s as x,a as ee,b as oe}from"./index-DALRwl9i.js";const p=g=>{let a=g.length;const r=g.match(/[a-z]/g);return r&&(a=g.length-r.length+w(r.length/2)),a},te=R({__name:"item",props:{songss:{default:()=>[]},theme:{default:""},width:{default:0}},setup(g){const a=g,r={3:{label:"NEW",color:"#58c147"},1:{label:"SC",color:"#ff9a8b"},2:{label:"舰长",color:"#66bbf9"}},d=["#66bbf9","#d69dff","#ff9a8b","#d1ac3c","#58c147"],_=I("---"),{copy:z,isSupported:l}=P({source:_}),e=o=>{l&&(z(`点歌 ${o.song}`),W({message:`点歌 ${o.song}`,grouping:!0,type:"success",duration:5e3,plain:!0,offset:200,showClose:!0}))},s=I(),c=(o,v)=>{const m=D(v/(w(u.value*o.columns)+10)),f=w(o.list.length/m);return o.list.forEach((t,y)=>{t.tag&&(t.tagE=r[t.tag]),t.color=w((y+1)/f-1)%d.length}),o};K([()=>a.songss,()=>a.width],([o])=>{s.value=o},{immediate:!0,deep:!0});const u=I(parseInt(getComputedStyle(document.documentElement).fontSize));return(o,v)=>{var t;const m=G,f=H;return i(!0),b(N,null,B((t=E(s))==null?void 0:t.map(y=>c(y,o.width)),y=>(i(),b("div",{class:"song-columns-container",style:k({columns:`${y.columns}rem auto`})},[(i(!0),b(N,null,B(y.list,n=>{var F,M,O;return i(),b("div",{class:X(["song-item",{"long-text":E(p)(n.song)>=9}])},[C(f,{hidden:!n.tag||n.tag&&n.tag!==3,value:n.tag?(F=n.tagE)==null?void 0:F.label:"",color:n.tag&&((M=n.tagE)==null?void 0:M.color)+"22"||"#a2d3ff","badge-style":{color:n.tag&&((O=n.tagE)==null?void 0:O.color)||"#a2d3ff",fontSize:".6rem",borderWidth:0,padding:".125rem .375rem"},offset:[-16,5]},{default:$(()=>[C(m,{"disable-transitions":"",type:"info",color:(o.theme?o.theme:d[n.color]||"#a2d3ff")+"11",style:k({"border-left":`.3125rem ${(o.theme?o.theme:d[n.color]||"#a2d3ff")+"44"} solid`,color:o.theme?o.theme:d[n.color]||"#a2d3ff"}),onClick:ce=>e(n)},{default:$(()=>[Y(T(n.song),1)]),_:2},1032,["color","style","onClick"])]),_:2},1032,["hidden","value","color","badge-style"])],2)}),256))],4))),256)}}}),ne=j(te,[["__scopeId","data-v-d3a65068"]]),se={class:"logo-cn"},le=R({__name:"index",props:{songs:{default:()=>[]},avater:{default:()=>({})},vup:{default:"---"},slogan:{default:""},logo:{default:()=>({fontFamily:"BEYNO",fontSize:"2.7rem",height:"5rem"})},logoCn:{default:"---"}},setup(g){const a=g,r=q("contentRef"),{width:d}=U(r),_=Q(()=>z(a.songs)),z=e=>{const s=h(e,t=>t.type.includes(1)),c=h(e,t=>p(t.song)<2),u=h(e,t=>p(t.song)<3),o=h(e,t=>p(t.song)<4),v=h(e,t=>p(t.song)<5),m=h(e,t=>p(t.song)<6),f=h(e,t=>p(t.song)<7);return{song1:[...c.length?[{columns:4,list:l(c),length:c.length}]:[]],song2:[...u.length?[{columns:4,list:l(u),length:u.length}]:[]],song3:[...o.length?[{columns:4,list:l(o),length:o.length}]:[]],song4:[...v.length?[{columns:6,list:l(v),length:v.length}]:[]],song5:[...m.length?[{columns:6,list:l(m),length:m.length}]:[]],song6:[...f.length?[{columns:9,list:l(f),length:f.length}]:[]],song7:[...e.length?[{columns:9,list:l(e),length:e.length}]:[]],songeng:[...s.length?[{columns:9,list:l(s),length:s.length}]:[]]}},l=e=>e.sort((s,c)=>L(s.song,{toneType:"none"}).localeCompare(L(c.song,{toneType:"none"})));return(e,s)=>{const c=A,u=J;return i(),b("div",{ref_key:"contentRef",ref:r,class:"main-container"},[C(u,{class:"slogan",style:k({"--slogan":`url(${e.slogan})`})},{default:$(()=>[S("div",{class:"logo",style:k({"font-family":e.logo.fontFamily,"font-size":e.logo.fontSize,height:e.logo.height})},T(e.vup),5),S("div",null,[S("div",se,T(e.logoCn),1),s[0]||(s[0]=S("div",{style:{"text-align":"right","font-size":"0.875rem","text-shadow":"0.0625rem 0.0625rem 0.125rem black",color:"white"}}," 注：若页面异常请看图片版本 ",-1))]),C(c,Z({name:e.avater.name||"",img:e.avater.img,src:e.avater.src||"",width:"4.375rem",height:"4.375rem",is:e.avater.is||"v-fragment","in-style":{top:"5.5rem",position:"absolute","border-radius":".9375rem"}},e.avater.$attr||{}),null,16,["name","img","src","is"])]),_:1},8,["style"]),(i(!0),b(N,null,B(Object.keys(E(_)).sort(),o=>(i(),V(u,{key:o,class:"category-card"},{default:$(()=>[C(ne,{songss:E(_)[o],width:E(d)},null,8,["songss","width"])]),_:2},1024))),128))],512)}}}),ae=j(le,[["__scopeId","data-v-4e3b9754"]]),re=R({__name:"index",setup(g){const a=[...x,...ee];return(r,d)=>{const _=ae;return i(),V(_,{songs:a,slogan:E(oe),avater:{is:"ElImage",img:!0},vup:"KUROMIA","logo-cn":"库洛米娅"},null,8,["slogan"])}}}),pe=j(re,[["__scopeId","data-v-7ed33b47"]]);export{pe as default};
