import{u as K,a as x}from"./index-qnR4E0aC.js";import{h as I,l as n,O as E,P as i,j as r,k as z,H as ee,Z as oe,a as k,d as G,c as se,M as c,X as C,J as w,F as f,aa as $,u as t,z as te,S as ne,$ as O,Q as H}from"./vue-DwQkaS4S.js";import{u as N,k as le,j as ae,l as re,m as ie,n as V,o as ge,p as de,q as ce,r as ue,t as fe,v as pe}from"./element-Bnzt5eaQ.js";import{_ as me}from"./plugin-vueexport-helper-DlAUqK2U.js";const he=["xlink:href","fill"],_e=I({__name:"index",props:{width:{default:""},height:{default:""},color:{default:"#333"},prefix:{default:"#icon-"},is:{default:"el-icon"},name:{default:""},inStyle:{}},setup(q){return(d,A)=>(n(),E(oe(d.is),null,{default:i(()=>[(n(),r("svg",ee({xmlns:"http://www.w3.org/2000/svg",style:{width:d.width,height:d.height,...d.inStyle},"aria-hidden":"true"},d.$attrs),[z("use",{"xlink:href":d.prefix+d.name,fill:d.color},null,8,he)],16))]),_:1}))}}),ye={class:"song-content"},be={class:"logo-cn"},ve={key:0,wrap:"",class:"singer-item"},Ce={class:"singer"},we={key:1,id:"default-song"},$e={class:"song-border"},ze={class:"song-border"},Se=I({__name:"index",props:{vup:{},avater:{default:""},slogan:{default:""},logo:{default:()=>({fontFamily:"BEYNO",fontSize:"2.7rem",height:"5rem"})},logoCn:{default:"---"},songs:{default:()=>[]},theme:{default:""},tab:{type:Boolean,default:!0},specSongs:{default:()=>[]}},setup(q){const d=q,A=k("---"),{copy:J,isSupported:Q}=K({source:A}),p=["#66bbf9","#d69dff","#ff9a8b","#d1ac3c","#58c147"],m=k(16),_=k(36.09),T=e=>(32+14.53*ge([e<4?4:e,12]))/16*m.value,y=(e,l,u)=>(V((e+1)/W(l,u))-1)%p.length,W=(e=[],l)=>V(R(e)/de(U.value/T(l))),M=e=>{let l=e.length;const u=e.match(/[a-zA-Z]/g);return u&&(l=e.length-u.length+V(u.length/2)),l},R=e=>e.filter(l=>M(l.song)>11).length+e.length,b={3:{label:"NEW",color:"#58c147"},1:{label:"SC",color:"#ff9a8b"},2:{label:"舰长",color:"#66bbf9"}};let g={},F={},D=[];G(()=>[d.songs,d.specSongs],([e,l],u)=>{if(e.length){const B=e.filter(o=>o.type.includes(1)),v=e.filter(o=>o.type.includes(0)),h={};h.song_other=N(v,"song").filter(o=>M(o.song)>5).sort((o,s)=>o.song.localeCompare(s.song,"pinyin")),h.song_eng=N(B,"song").sort((o,s)=>o.song.localeCompare(s.song));for(let o=1;o<=5;o++)h[`song_${o}`]=N(v,"song").filter(s=>M(s.song)===o).sort((s,a)=>s.song.localeCompare(a.song,"pinyin"));if(l.length){const o=N(l,"song").sort((s,a)=>s.song.localeCompare(a.song));h.song_spec=o}const S=le(e,o=>o.singer);g=h,F=S,D=[...Object.keys(S).filter(o=>!!o).sort((o,s)=>o.localeCompare(s,"pinyin",{sensitivity:"accent"})),""]}},{immediate:!0,deep:!0});const U=k(window.innerWidth),{width:X}=x(),Z=()=>{const e=document.getElementsByClassName("song-main")[0];e&&(U.value=e.offsetWidth)},P=e=>{Q&&(J(`点歌 ${e.song}`),ce({message:`点歌 ${e.song}`,grouping:!0,type:"success",duration:5e3,plain:!0,offset:200,showClose:!0}))},j=k("song");return G(()=>X.value,Z),se(()=>{Z(),m.value=+getComputedStyle(document.documentElement).getPropertyValue("font-size").replace("px",""),_.value=_.value/16*m.value,console.log("🚀 ~ onMounted ~ ih:",_.value)}),(e,l)=>{const u=ae,B=re,v=ue,h=ie,S=fe,L=pe;return n(),r("div",ye,[c(u,{class:"slogan",style:w({"--slogan":`url(${e.slogan})`})},{default:i(()=>[z("div",{class:"logo",style:w({"font-family":e.logo.fontFamily,"font-size":e.logo.fontSize,height:e.logo.height})},C(e.vup),5),z("div",null,[z("div",be,C(e.logoCn),1),l[1]||(l[1]=z("div",{style:{"text-align":"right","font-size":"0.875rem","text-shadow":"0.0625rem 0.0625rem 0.125rem black",color:"white"}}," 注：若页面异常请看图片版本 ",-1))]),c(_e,{name:e.avater,width:"4.375rem",height:"4.375rem",is:"v-fragment","in-style":{top:"5rem",position:"absolute","border-radius":".9375rem"}},null,8,["name"])]),_:1},8,["style"]),e.tab?(n(),E(h,{key:0,modelValue:t(j),"onUpdate:modelValue":l[0]||(l[0]=o=>te(j)?j.value=o:null),class:"song-tabs"},{default:i(()=>[c(B,{label:"按歌名",name:"song"}),c(B,{label:"按歌手",name:"singer"},{default:i(()=>[(n(!0),r(f,null,$(t(D),o=>(n(),r(f,null,[t(F)[o]?(n(),r("div",ve,[z("span",Ce,C(o)+": ",1),(n(!0),r(f,null,$(t(F)[o].sort((s,a)=>s.song.localeCompare(a.song,"pinyin",{sensitivity:"accent"})),s=>(n(),E(v,{class:"song-item","disable-transitions":"",onClick:a=>P(s)},{default:i(()=>[O(C(s.song),1)]),_:2},1032,["onClick"]))),256))])):H("",!0)],64))),256))]),_:1})]),_:1},8,["modelValue"])):(n(),r("div",we)),(n(),E(ne,{to:e.tab?"#pane-song":"#default-song",defer:""},[(n(),r(f,null,$(5,o=>c(u,{class:"song-list"},{default:i(()=>[c(L,{class:"song-main",wrap:"",alignment:"start",direction:"vertical",size:[3,0],style:w({height:t(V)(W(t(g)[`song_${o}`],o)*t(_)/t(m))+"rem"})},{default:i(()=>[(n(!0),r(f,null,$(t(g)[`song_${o}`],(s,a)=>(n(),r("div",$e,[c(S,{hidden:!s.tag||s.tag&&s.tag!==3,value:s.tag?b[s.tag].label:"",color:(s.tag&&b[s.tag].color)+"22"||"#a2d3ff","badge-style":{color:s.tag&&b[s.tag].color||"#a2d3ff",fontSize:"9px",borderWidth:0},offset:[-16,5]},{default:i(()=>[c(v,{class:"song-item","disable-transitions":"",type:"info",color:(e.theme?e.theme:p[y(a,t(g)[`song_${o}`],o)]||"#a2d3ff")+"11",onClick:Y=>P(s),style:w({"border-left":`.3125rem ${(e.theme?e.theme:p[y(a,t(g)[`song_${o}`],o)]||"#a2d3ff")+"44"} solid`,color:e.theme?e.theme:p[y(a,t(g)[`song_${o}`],o)]||"#a2d3ff",width:T(o)/t(m)+"rem"})},{default:i(()=>[O(C(s.song),1)]),_:2},1032,["color","onClick","style"])]),_:2},1032,["hidden","value","color","badge-style"])]))),256))]),_:2},1032,["style"])]),_:2},1024)),64)),(n(),r(f,null,$(["other","spec","eng"],o=>(n(),r(f,null,[t(g)[`song_${o}`]?(n(),E(u,{key:0,class:"song-list"},{default:i(()=>[c(L,{class:"song-main",wrap:"",alignment:"start",direction:"vertical",size:[3,0],style:w({height:(W(t(g)[`song_${o}`],11)*t(_)+t(_)/2)/t(m)+"rem"})},{default:i(()=>[(n(!0),r(f,null,$(t(g)[`song_${o}`],(s,a)=>(n(),r("div",ze,[c(S,{hidden:!s.tag||s.tag&&s.tag!==3,value:s.tag?b[s.tag].label:"",color:(s.tag&&b[s.tag].color)+"22"||"#a2d3ff","badge-style":{color:s.tag&&b[s.tag].color||"#a2d3ff",fontSize:"9px",borderWidth:0},offset:[-16,5]},{default:i(()=>[c(v,{class:"song-item","disable-transitions":"",type:"info",color:(e.theme?e.theme:p[y(a,t(g)[`song_${o}`],11)]||"#a2d3ff")+"11",style:w({"border-left":`5px ${(e.theme?e.theme:p[y(a,t(g)[`song_${o}`],11)]||"#a2d3ff")+"44"} solid`,"max-width":T(11)/t(m)+"rem",color:e.theme?e.theme:p[y(a,t(g)[`song_${o}`],11)]||"#a2d3ff"}),onClick:Y=>P(s)},{default:i(()=>[O(C(s.song),1)]),_:2},1032,["color","style","onClick"])]),_:2},1032,["hidden","value","color","badge-style"])]))),256))]),_:2},1032,["style"])]),_:2},1024)):H("",!0)],64))),64))],8,["to"]))])}}}),Ve=me(Se,[["__scopeId","data-v-c8a42a08"]]);export{Ve as _};
