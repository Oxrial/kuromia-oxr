import{_ as W}from"./index.vuevuetypescriptsetuptruelang-0eQf3H3O.js";import{p as P}from"./el-message-_NZvmBZy.js";import{u as q,b as A}from"./index-Dykh78Ku.js";import{k as $,l as D,m as G,n as H,o as J,r as _,j as K,p as Q,q as U}from"./element-BZovQTf-.js";import{h as j,a as N,d as X,l as c,j as C,a5 as T,J as S,F as R,I as Y,u as w,M as p,P as b,$ as Z,X as z,aj as x,x as ee,O as I,k as g,H as V}from"./vue-vsWVRqpa.js";import{_ as F}from"./plugin-vueexport-helper-DlAUqK2U.js";import{s as oe,a as ne,b as te}from"./index-B1N_C2P9.js";const y=d=>{let i=d.length;const m=d.match(/[a-z]/g);return m&&(i=d.length-m.length+$(m.length/2)),i},se=j({__name:"item",props:{songss:{default:()=>[]},theme:{default:""},width:{default:0}},setup(d){const i=d,m={3:{label:"NEW",color:"#58c147"},1:{label:"SC",color:"#ff9a8b"},2:{label:"舰长",color:"#66bbf9"}},h=["#66bbf9","#d69dff","#ff9a8b","#d1ac3c","#58c147"],k=N("---"),{copy:B,isSupported:l}=q({source:k}),e=o=>{l&&(B(`点歌 ${o.song}`),D({message:`点歌 ${o.song}`,grouping:!0,type:"success",duration:5e3,plain:!0,offset:200,showClose:!0}))},s=N(),a=(o,f)=>{const r=G(f/($(u.value*o.columns)+15)),v=$(o.list.length/r);return o.list.forEach((n,E)=>{n.tag&&(n.tagE=m[n.tag]),n.color=$((E+1)/v-1)%h.length}),o};X([()=>i.songss,()=>i.width],([o])=>{s.value=o},{immediate:!0,deep:!0});const u=N(parseInt(getComputedStyle(document.documentElement).fontSize));return(o,f)=>{var n;const r=H,v=J;return c(!0),C(R,null,T((n=w(s))==null?void 0:n.map(E=>a(E,o.width)),E=>(c(),C("div",{class:"song-columns-container",style:S({columns:`${E.columns}rem auto`})},[(c(!0),C(R,null,T(E.list,t=>{var L,M,O;return c(),C("div",{class:Y(["song-item",{"long-text":w(y)(t.song)>=9}])},[p(v,{hidden:!t.tag||t.tag&&t.tag!==3,value:t.tag?(L=t.tagE)==null?void 0:L.label:"",color:t.tag&&((M=t.tagE)==null?void 0:M.color)+"22"||"#a2d3ff","badge-style":{color:t.tag&&((O=t.tagE)==null?void 0:O.color)||"#a2d3ff",fontSize:".6rem",borderWidth:0,padding:".125rem .375rem"},offset:[-16,5]},{default:b(()=>[p(r,{"disable-transitions":"",type:"info",color:(o.theme?o.theme:h[t.color]||"#a2d3ff")+"11",style:S({"border-left":`.3125rem ${(o.theme?o.theme:h[t.color]||"#a2d3ff")+"44"} solid`,color:o.theme?o.theme:h[t.color]||"#a2d3ff"}),onClick:de=>e(t)},{default:b(()=>[Z(z(t.song),1)]),_:2},1032,["color","style","onClick"])]),_:2},1032,["hidden","value","color","badge-style"])],2)}),256))],4))),256)}}}),le=F(se,[["__scopeId","data-v-f04cd363"]]),ae={style:{"min-height":"10rem"}},re={class:"logo-cn"},ge={class:"logo-cn"},ce=j({__name:"index",props:{songs:{default:()=>[]},avater:{default:()=>({})},vup:{default:"---"},slogan:{default:""},logo:{default:()=>({fontFamily:"BEYNO",fontSize:"2.7rem",height:"5rem"})},logoCn:{default:"---"},pnglogo:{}},setup(d){const i=d,m=x("contentRef"),{width:h}=A(m),k=ee(()=>B(i.songs)),B=e=>{const s=_(e,n=>n.type.includes(1)),a=_(e,n=>y(n.song)<2),u=_(e,n=>y(n.song)<3),o=_(e,n=>y(n.song)<4),f=_(e,n=>y(n.song)<5),r=_(e,n=>y(n.song)<6),v=_(e,n=>y(n.song)<7);return{song1:[...a.length?[{columns:4,list:l(a),length:a.length}]:[]],song2:[...u.length?[{columns:4,list:l(u),length:u.length}]:[]],song3:[...o.length?[{columns:4,list:l(o),length:o.length}]:[]],song4:[...f.length?[{columns:6,list:l(f),length:f.length}]:[]],song5:[...r.length?[{columns:6,list:l(r),length:r.length}]:[]],song6:[...v.length?[{columns:9.2,list:l(v),length:v.length}]:[]],song7:[...e.length?[{columns:9.2,list:l(e),length:e.length}]:[]],songeng:[...s.length?[{columns:9.2,list:l(s),length:s.length}]:[]]}},l=e=>e.sort((s,a)=>P(s.song,{toneType:"none"}).localeCompare(P(a.song,{toneType:"none"})));return(e,s)=>{const a=W,u=K,o=Q,f=U;return c(),C("div",{ref_key:"contentRef",ref:m,class:"main-container"},[e.logo&&!e.pnglogo?(c(),I(u,{key:0,class:"slogan",style:S({"--slogan":`url(${e.slogan})`})},{default:b(()=>[g("div",ae,[g("div",{class:"logo",style:S({"font-family":e.logo.fontFamily,"font-size":e.logo.fontSize,height:e.logo.height})},z(e.vup),5),g("div",null,[g("div",re,z(e.logoCn),1),s[0]||(s[0]=g("div",{style:{"text-align":"right","font-size":"0.875rem","text-shadow":"0.0625rem 0.0625rem 0.125rem black",color:"white"}}," 注：若页面异常请看图片版本 ",-1))]),p(a,V({name:e.avater.name||"",img:e.avater.img,src:e.avater.src||"",width:"4.375rem",height:"4.375rem",is:e.avater.is||"v-fragment","in-style":{top:"5.5rem",position:"absolute","border-radius":".9375rem","margin-left":"5%"}},e.avater.$attr||{}),null,16,["name","img","src","is"])])]),_:1},8,["style"])):(c(),I(u,{key:1,class:"slogan",style:S({"--slogan":`url(${e.slogan})`})},{default:b(()=>[g("div",{class:"logo-main",style:S({"--logo":`url(${e.pnglogo})`})},[p(f,null,{default:b(()=>[p(o,{span:6},{default:b(()=>[g("div",null,[p(a,V({name:e.avater.name||"",img:e.avater.img,src:e.avater.src||"",width:"4.375rem",height:"4.375rem",is:e.avater.is||"v-fragment","in-style":{top:"8.5rem",position:"absolute","border-radius":".9375rem"}},e.avater.$attr||{}),null,16,["name","img","src","is"])])]),_:1}),p(o,{span:18})]),_:1})],4),g("div",null,[g("div",ge,z(e.logoCn),1),s[1]||(s[1]=g("div",{style:{"text-align":"right","font-size":"0.875rem","text-shadow":"0.0625rem 0.0625rem 0.125rem black",color:"white"}}," 注：若页面异常请看图片版本 ",-1))])]),_:1},8,["style"])),(c(!0),C(R,null,T(Object.keys(w(k)).sort(),r=>(c(),I(u,{key:r,class:"category-card"},{default:b(()=>[p(le,{songss:w(k)[r],width:w(h)},null,8,["songss","width"])]),_:2},1024))),128))],512)}}}),ie=F(ce,[["__scopeId","data-v-49fec4fb"]]),me="/kuromia-oxr/static/png/logo-gP7dQiZ1.png",ue=j({__name:"index",setup(d){const i=[...oe,...ne];return(m,h)=>{const k=ie;return c(),I(k,{songs:i,pnglogo:w(me),slogan:w(te),avater:{name:"kuku"},vup:"Kuromiya","logo-cn":"库洛米娅"},null,8,["pnglogo","slogan"])}}}),we=F(ue,[["__scopeId","data-v-3e9f65b9"]]);export{we as default};
