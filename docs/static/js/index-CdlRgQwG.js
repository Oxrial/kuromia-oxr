import{_ as P}from"./index.vuevuetypescriptsetuptruelang-CF_AvRT1.js";import{p as L}from"./el-message-_NZvmBZy.js";import{u as W,b as A}from"./index-B8NBU2WD.js";import{k as z,l as D,m as G,n as H,o as J,r as v,j as U,x as X,y as Y}from"./element-D5QrkvH2.js";import{h as O,a as N,d as q,l as m,j as _,a5 as R,J as b,F as j,I as K,u as k,M as f,P as h,$ as Q,X as E,aj as Z,x,O as T,k as g,H as M,ak as ee}from"./vue-CRh11K5_.js";import{_ as V}from"./plugin-vueexport-helper-DlAUqK2U.js";const y=p=>{let d=p.length;const u=p.match(/[a-z]/g);return u&&(d=p.length-u.length+z(u.length/2)),d},oe=O({__name:"item",props:{songss:{default:()=>[]},theme:{default:""},width:{default:0},color:{default:()=>[]}},setup(p){const d=p,u={3:{label:"NEW",color:"#58c147"},1:{label:"SC",color:"#ff9a8b"},2:{label:"舰长",color:"#66bbf9"}},B=N("---"),{copy:C,isSupported:w}=W({source:B}),I=o=>{w&&(C(`点歌 ${o.song}`),D({message:`点歌 ${o.song}`,grouping:!0,type:"success",duration:5e3,plain:!0,offset:200,showClose:!0}))},S=N(),c=(o,a)=>{const r=G(a/(z(e.value*o.columns)+15)),i=z(o.list.length/r);return o.list.forEach((l,n)=>{l.tag&&(l.tagE=u[l.tag]),l.color=z((n+1)/i-1)%d.color.length}),o};q([()=>d.songss,()=>d.width],([o])=>{S.value=o},{immediate:!0,deep:!0});const e=N(parseInt(getComputedStyle(document.documentElement).fontSize));return(o,a)=>{var l;const r=H,i=J;return m(!0),_(j,null,R((l=k(S))==null?void 0:l.map(n=>c(n,o.width)),n=>(m(),_("div",{class:"song-columns-container",style:b({columns:`${n.columns}rem auto`})},[(m(!0),_(j,null,R(n.list,t=>{var s,$,F;return m(),_("div",{class:K(["song-item",{"long-text":k(y)(t.song)>=9}])},[f(i,{hidden:!t.tag||t.tag&&t.tag!==3,value:t.tag?(s=t.tagE)==null?void 0:s.label:"",color:t.tag&&(($=t.tagE)==null?void 0:$.color)+"22"||"#a2d3ff","badge-style":{color:t.tag&&((F=t.tagE)==null?void 0:F.color)||"#a2d3ff",fontSize:".6rem",borderWidth:0,padding:".125rem .375rem"},offset:[-16,5]},{default:h(()=>[f(r,{"disable-transitions":"",type:"info",color:(o.theme?o.theme:o.color[t.color]||"#a2d3ff")+"11",style:b({"border-left":`.3125rem ${(o.theme?o.theme:o.color[t.color]||"#a2d3ff")+"44"} solid`,color:o.theme?o.theme:o.color[t.color]||"#a2d3ff"}),onClick:ge=>I(t)},{default:h(()=>[Q(E(t.song),1)]),_:2},1032,["color","style","onClick"])]),_:2},1032,["hidden","value","color","badge-style"])],2)}),256))],4))),256)}}}),te=V(oe,[["__scopeId","data-v-4530d33a"]]),se={style:{"min-height":"10rem"}},ne={style:{position:"absolute",right:"5%",bottom:"10%"}},le={class:"logo-cn"},ae={class:"logo-cn"},re=O({__name:"index",props:{songs:{default:()=>[]},avater:{default:()=>({})},vup:{default:"---"},slogan:{default:""},logo:{default:()=>({fontFamily:"BEYNO",fontSize:"2.7rem",height:"5rem"})},logoCn:{default:"---"},pnglogo:{},theme:{default:""},color:{default:()=>["#66bbf9","#d69dff","#ff9a8b","#d1ac3c","#58c147"]},cates:{default:()=>[]}},setup(p){const d=p,u=Z("contentRef"),{width:B}=A(u),C=x(()=>S(d.songs)),w=[{label:"英文",code:"eng",value:1},...d.cates],I=e=>[...e.length?[{columns:9.2,list:c(e),length:e.length}]:[]],S=e=>{const o={};w.forEach(s=>{o[s.code]=I(v(e,$=>$.type.includes(s.value)))});const a=v(e,s=>y(s.song)<2),r=v(e,s=>y(s.song)<3),i=v(e,s=>y(s.song)<4),l=v(e,s=>y(s.song)<5),n=v(e,s=>y(s.song)<6),t=v(e,s=>y(s.song)<7);return{song1:[...a.length?[{columns:4,list:c(a),length:a.length}]:[]],song2:[...r.length?[{columns:4,list:c(r),length:r.length}]:[]],song3:[...i.length?[{columns:4,list:c(i),length:i.length}]:[]],song4:[...l.length?[{columns:6,list:c(l),length:l.length}]:[]],song5:[...n.length?[{columns:6,list:c(n),length:n.length}]:[]],song6:[...t.length?[{columns:9.2,list:c(t),length:t.length}]:[]],song7:[...e.length?[{columns:9.2,list:c(e),length:e.length}]:[]],...o}},c=e=>e.sort((o,a)=>L(o.song,{toneType:"none"}).localeCompare(L(a.song,{toneType:"none"})));return(e,o)=>{const a=P,r=U,i=X,l=Y;return m(),_("div",{ref_key:"contentRef",ref:u,class:"main-container"},[e.logo&&!e.pnglogo?(m(),T(r,{key:0,class:"slogan",style:b({"--slogan":`url(${e.slogan})`})},{default:h(()=>[g("div",se,[g("div",{class:"logo",style:b({"font-family":e.logo.fontFamily,"font-size":e.logo.fontSize,height:e.logo.height})},E(e.vup),5),g("div",ne,[g("div",le,E(e.logoCn),1),o[0]||(o[0]=g("div",{style:{"text-align":"right","font-size":"0.875rem","text-shadow":"0.0625rem 0.0625rem 0.125rem black",color:"white"}}," 注：若页面异常请看图片版本 ",-1))]),f(a,M({name:e.avater.name||"",img:e.avater.img,src:e.avater.src||"",width:"4.375rem",height:"4.375rem",is:e.avater.is||"v-fragment","in-style":{top:"5.5rem",position:"absolute","border-radius":".9375rem","margin-left":"5%"}},e.avater.$attr||{}),null,16,["name","img","src","is"])])]),_:1},8,["style"])):(m(),T(r,{key:1,class:"slogan",style:b({"--slogan":`url(${e.slogan})`})},{default:h(()=>[g("div",{class:"logo-main",style:b({"--logo":`url(${e.pnglogo})`})},[f(l,null,{default:h(()=>[f(i,{span:6},{default:h(()=>[g("div",null,[f(a,M({name:e.avater.name||"",img:e.avater.img,src:e.avater.src||"",width:"4.375rem",height:"4.375rem",is:e.avater.is||"v-fragment","in-style":{top:"8.5rem",position:"absolute","border-radius":".9375rem"}},e.avater.$attr||{}),null,16,["name","img","src","is"])])]),_:1}),f(i,{span:18})]),_:1})],4),g("div",null,[g("div",ae,E(e.logoCn),1),o[1]||(o[1]=g("div",{style:{"text-align":"right","font-size":"0.875rem","text-shadow":"0.0625rem 0.0625rem 0.125rem black",color:"white"}}," 注：若页面异常请看图片版本 ",-1))])]),_:1},8,["style"])),(m(!0),_(j,null,R(Object.keys(k(C)),n=>(m(),T(r,{key:n,class:"category-card"},ee({default:h(()=>[f(te,{songss:k(C)[n],width:k(B),theme:e.theme,color:e.color},null,8,["songss","width","theme","color"])]),_:2},[w.find(t=>t.code===n)?{name:"header",fn:h(()=>{var t;return[g("span",{style:b({color:e.color[0]})},E((t=w.find(s=>s.code===n))==null?void 0:t.label),5)]}),key:"0"}:void 0]),1024))),128))],512)}}}),he=V(re,[["__scopeId","data-v-9dda4bad"]]);export{he as _};
