const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["static/js/prod-rX7P05QU.js","static/js/index-BWJHVO3S.js","static/js/vue-CRh11K5_.js","static/js/element-D5QrkvH2.js","static/css/index-lif4nDYi.css","static/js/vidstack-audio-PDku_PuW.js","static/js/vidstack-CSv7rfHP-De2AgVgb.js","static/js/vidstack-DSYpsFWk-CXrW6vdh.js","static/js/plugin-vueexport-helper-DlAUqK2U.js","static/js/vidstack-video-pINelbIi.js","static/js/vidstack-hls-D9povyGH.js","static/js/vidstack-dash-8tV-zgwF.js","static/js/vidstack-vimeo-DnI42Inb.js","static/js/vidstack-BSPPDWLF-CJ8Hblv4.js","static/js/vidstack-krOAtKMi-C3UUF7YD.js","static/js/vidstack-youtube-gaw-ZHsi.js","static/js/vidstack-Zc3I7oOd-CA6XwpqT.js","static/js/vidstack-kV1-bfkY-DghwAJ0s.js","static/js/vidstack-DJTshtlu-BA2WJqWV.js"])))=>i.map(i=>d[i]);
var db=Object.defineProperty;var hu=i=>{throw TypeError(i)};var pb=(i,s,t)=>s in i?db(i,s,{enumerable:!0,configurable:!0,writable:!0,value:t}):i[s]=t;var g=(i,s,t)=>pb(i,typeof s!="symbol"?s+"":s,t),gl=(i,s,t)=>s.has(i)||hu("Cannot "+t);var r=(i,s,t)=>(gl(i,s,"read from private field"),t?t.call(i):s.get(i)),u=(i,s,t)=>s.has(i)?hu("Cannot add the same private member more than once"):s instanceof WeakSet?s.add(i):s.set(i,t),d=(i,s,t,e)=>(gl(i,s,"write to private field"),e?e.call(i,t):s.set(i,t),t),o=(i,s,t)=>(gl(i,s,"access private method"),t);import{_ as qt}from"./index-BWJHVO3S.js";import{f as fb,h as mb,i as gb,s as yb,j as bb,a as $b}from"./element-D5QrkvH2.js";import{h as wb,a as yl,c as vb,j as cu,M as uu,P as Qa,F as du,l as bl,$ as pu,X as fu,u as _r,k as $l,a5 as Tb,O as kb}from"./vue-CRh11K5_.js";import{_ as Sb}from"./plugin-vueexport-helper-DlAUqK2U.js";const Fe=Symbol(0);let wo=!1,Ul=!1,Pe=null,Tn=null,re=null,Xt=0,wn=[],Oc={};const Ab=()=>{},vr=0,ed=1,vo=2,nl=3;function Pb(){wo=!0,queueMicrotask(sd)}function sd(){if(!wn.length){wo=!1;return}Ul=!0;for(let i=0;i<wn.length;i++)wn[i].$st!==vr&&_b(wn[i]);wn=[],wo=!1,Ul=!1}function _b(i){let s=[i];for(;i=i[Fe];)i.$e&&i.$st!==vr&&s.push(i);for(let t=s.length-1;t>=0;t--)Fc(s[t])}function Eb(i){const s=Gl();return Ia(s,i.length?i.bind(null,yr.bind(s)):i,null)}function S(i){return Ia(Pe,i,null)}function Br(i){return Ia(null,i,null)}function ci(){Ul||sd()}function rl(){return Pe}function ne(i,s){try{return Ia(s,i,null)}catch(t){Dc(s,t);return}}function id(i,s=Pe){return s==null?void 0:s.$cx[i]}function xb(i,s,t=Pe){t&&(t.$cx={...t.$cx,[i]:s})}function q(i){if(!i||!Pe)return i||Ab;const s=Pe;return s.$d?Array.isArray(s.$d)?s.$d.push(i):s.$d=[s.$d,i]:s.$d=i,function(){s.$st!==nl&&(i.call(null),al(s.$d)?s.$d=null:Array.isArray(s.$d)&&s.$d.splice(s.$d.indexOf(i),1))}}function yr(i=!0){if(this.$st!==nl){if(this.$h)if(Array.isArray(this.$h))for(let s=this.$h.length-1;s>=0;s--)yr.call(this.$h[s]);else yr.call(this.$h);if(i){const s=this[Fe];s&&(Array.isArray(s.$h)?s.$h.splice(s.$h.indexOf(this),1):s.$h=null),Cb(this)}}}function Cb(i){i.$st=nl,i.$d&&nd(i),i.$s&&Kl(i,0),i[Fe]=null,i.$s=null,i.$o=null,i.$h=null,i.$cx=Oc,i.$eh=null}function nd(i){try{if(Array.isArray(i.$d))for(let s=i.$d.length-1;s>=0;s--){const t=i.$d[s];t.call(t)}else i.$d.call(i.$d);i.$d=null}catch(s){Dc(i,s)}}function Ia(i,s,t){const e=Pe,n=Tn;Pe=i,Tn=t;try{return s.call(i)}finally{Pe=e,Tn=n}}function Dc(i,s){if(!i||!i.$eh)throw s;let t=0,e=i.$eh.length,n=s;for(t=0;t<e;t++)try{i.$eh[t](n);break}catch(a){n=a}if(t===e)throw n}function Vc(){return this.$st===nl?this.$v:(Tn&&!this.$e&&(!re&&Tn.$s&&Tn.$s[Xt]==this?Xt++:re?re.push(this):re=[this]),this.$c&&Fc(this),this.$v)}function rd(i){const s=al(i)?i(this.$v):i;if(this.$ch(this.$v,s)&&(this.$v=s,this.$o))for(let t=0;t<this.$o.length;t++)ld(this.$o[t],vo);return this.$v}const Rc=function(){this[Fe]=null,this.$h=null,Pe&&Pe.append(this)},pn=Rc.prototype;pn.$cx=Oc;pn.$eh=null;pn.$c=null;pn.$d=null;pn.append=function(i){i[Fe]=this,this.$h?Array.isArray(this.$h)?this.$h.push(i):this.$h=[this.$h,i]:this.$h=i,i.$cx=i.$cx===Oc?this.$cx:{...this.$cx,...i.$cx},this.$eh&&(i.$eh=i.$eh?[...i.$eh,...this.$eh]:this.$eh)};pn.dispose=function(){yr.call(this)};function Gl(){return new Rc}const ad=function(s,t,e){Rc.call(this),this.$st=t?vo:vr,this.$i=!1,this.$e=!1,this.$s=null,this.$o=null,this.$v=s,t&&(this.$c=t),e&&e.dirty&&(this.$ch=e.dirty)},Nc=ad.prototype;Object.setPrototypeOf(Nc,pn);Nc.$ch=Lb;Nc.call=Vc;function Hc(i,s,t){return new ad(i,s,t)}function Lb(i,s){return i!==s}function al(i){return typeof i=="function"}function Fc(i){if(i.$st===ed)for(let s=0;s<i.$s.length&&(Fc(i.$s[s]),i.$st!==vo);s++);i.$st===vo?od(i):i.$st=vr}function Mb(i){i.$h&&yr.call(i,!1),i.$d&&nd(i),i.$eh=i[Fe]?i[Fe].$eh:null}function od(i){let s=re,t=Xt;re=null,Xt=0;try{Mb(i);const e=Ia(i,i.$c,i);mu(i),!i.$e&&i.$i?rd.call(i,e):(i.$v=e,i.$i=!0)}catch(e){mu(i),Dc(i,e)}finally{re=s,Xt=t,i.$st=vr}}function mu(i){if(re){if(i.$s&&Kl(i,Xt),i.$s&&Xt>0){i.$s.length=Xt+re.length;for(let t=0;t<re.length;t++)i.$s[Xt+t]=re[t]}else i.$s=re;let s;for(let t=Xt;t<i.$s.length;t++)s=i.$s[t],s.$o?s.$o.push(i):s.$o=[i]}else i.$s&&Xt<i.$s.length&&(Kl(i,Xt),i.$s.length=Xt)}function ld(i,s){if(!(i.$st>=s)&&(i.$e&&i.$st===vr&&(wn.push(i),wo||Pb()),i.$st=s,i.$o))for(let t=0;t<i.$o.length;t++)ld(i.$o[t],ed)}function Kl(i,s){let t,e;for(let n=s;n<i.$s.length;n++)t=i.$s[n],t.$o&&(e=t.$o.indexOf(i),t.$o[e]=t.$o[t.$o.length-1],t.$o.pop())}function To(...i){}function ks(i){return i===null}function _e(i){return typeof i>"u"}function UT(i){return ks(i)||_e(i)}function Ib(i){return(i==null?void 0:i.constructor)===Object}function Ae(i){return typeof i=="number"&&!Number.isNaN(i)}function x(i){return typeof i=="string"}function gu(i){return typeof i=="boolean"}function Ss(i){return typeof i=="function"}function Lt(i){return Array.isArray(i)}const qb=Event,hd=Symbol("DOM_EVENT");var Ku,Wu;class rt extends(Wu=qb,Ku=hd,Wu){constructor(t,...e){var a,l;super(t,e[0]);g(this,Ku,!0);g(this,"detail");g(this,"triggers",new Ob);this.detail=(a=e[0])==null?void 0:a.detail;const n=(l=e[0])==null?void 0:l.trigger;n&&this.triggers.add(n)}get trigger(){return this.triggers.source}get originEvent(){return this.triggers.origin}get isOriginTrusted(){var t;return((t=this.triggers.origin)==null?void 0:t.isTrusted)??!1}}class Ob{constructor(){g(this,"chain",[])}get source(){return this.chain[0]}get origin(){return this.chain[this.chain.length-1]}add(s){this.chain.push(s),Db(s)&&this.chain.push(...s.triggers)}remove(s){return this.chain.splice(this.chain.indexOf(s),1)[0]}has(s){return this.chain.some(t=>t===s)}hasType(s){return!!this.findType(s)}findType(s){return this.chain.find(t=>t.type===s)}walk(s){for(const t of this.chain){const e=s(t);if(e)return[t,e]}}[Symbol.iterator](){return this.chain.values()}}function Db(i){return!!(i!=null&&i[hd])}class cd extends EventTarget{constructor(){super(...arguments);g(this,"$ts__events")}addEventListener(t,e,n){return super.addEventListener(t,e,n)}removeEventListener(t,e,n){return super.removeEventListener(t,e,n)}}function ae(i,s,t,e){return i.addEventListener(s,t,e),q(()=>i.removeEventListener(s,t,e))}var kn,Sn;class dt{constructor(s){u(this,kn);u(this,Sn);d(this,kn,s),d(this,Sn,new AbortController),q(this.abort.bind(this))}get signal(){return r(this,Sn).signal}add(s,t,e){if(this.signal.aborted)throw Error("aborted");return r(this,kn).addEventListener(s,t,{...e,signal:e!=null&&e.signal?Vb(this.signal,e.signal):this.signal}),this}remove(s,t){return r(this,kn).removeEventListener(s,t),this}abort(s){r(this,Sn).abort(s)}}kn=new WeakMap,Sn=new WeakMap;function Vb(...i){const s=new AbortController,t={signal:s.signal};function e(n){s.abort(n.target.reason)}for(const n of i){if(n.aborted){s.abort(n.reason);break}n.addEventListener("abort",e,t)}return s.signal}function Rb(i){return!!(i!=null&&i.type.startsWith("touch"))}function Tr(i){return!!(i!=null&&i.type.startsWith("key"))}function Nb(i){return Tr(i)&&i.key==="Enter"}function ol(i){return Tr(i)&&(i.key==="Enter"||i.key===" ")}function ud(i){return i instanceof Node}function C(i,s,t){if(i)if(!t&&t!==""&&t!==0)i.removeAttribute(s);else{const e=t===!0?"":t+"";i.getAttribute(s)!==e&&i.setAttribute(s,e)}else return}function Ps(i,s,t){if(i)!t&&t!==0?i.style.removeProperty(s):i.style.setProperty(s,t+"");else return}function O(i,s){const t=Hc(i,null,s),e=Vc.bind(t);return e[Fe]=!0,e.set=rd.bind(t),e}function Hb(i){return al(i)&&Fe in i}function _s(i,s){const t=Hc(s==null?void 0:s.initial,i,s),e=Vc.bind(t);return e[Fe]=!0,e}function Fb(i,s){const t=Hc(null,function(){let n=i();return al(n)&&q(n),null},void 0);return t.$e=!0,od(t),yr.bind(t,!0)}function Bb(i){return Hb(i)&&"set"in i}const y=Fb;function gi(i){return{id:Symbol(),provide:i}}function xe(i,s,t=rl()){var n;const e=!_e(s);xb(i.id,e?s:(n=i.provide)==null?void 0:n.call(i),t)}function Ot(i){return id(i.id)}function Be(i){return!_e(id(i.id))}const Or=Symbol(0),Dr=Symbol(0),dd=Symbol(0),wl={};var ju,An,Pn,Pi,_n,Ge,pd,fd,md,gd;ju=dd;class Ub{constructor(s,t,e){u(this,Ge);g(this,"$ts__events");g(this,"$ts__vars");g(this,ju,null);g(this,"$el",O(null));g(this,"el",null);g(this,"scope",null);g(this,"attachScope",null);g(this,"connectScope",null);g(this,"component",null);g(this,"destroyed",!1);g(this,"props",wl);g(this,"attrs",null);g(this,"styles",null);g(this,"state");g(this,"$state");u(this,An,[]);u(this,Pn,[]);u(this,Pi,[]);u(this,_n,[]);var l;this.scope=t,e!=null&&e.scope&&e.scope.append(t);let n=s.state,a=s.props;if(n&&(this.$state=n.create(),this.state=new Proxy(this.$state,{get:(h,c)=>this.$state[c]()}),xe(n,this.$state)),a&&(this.props=Gb(a),e!=null&&e.props))for(const h of Object.keys(e.props))(l=this.props[h])==null||l.set(e.props[h]);q(this.destroy.bind(this))}setup(){ne(()=>{for(const s of r(this,An))s()},this.scope)}attach(s){this.el||(this.el=s,this.$el.set(s),ne(()=>{this.attachScope=Gl(),ne(()=>{for(const t of r(this,Pn))t(this.el);o(this,Ge,pd).call(this),o(this,Ge,fd).call(this)},this.attachScope)},this.scope),s.dispatchEvent(new Event("attached")))}detach(){var s;(s=this.attachScope)==null||s.dispose(),this.attachScope=null,this.connectScope=null,this.el=null,this.$el.set(null)}connect(){!this.el||!this.attachScope||!r(this,Pi).length||ne(()=>{this.connectScope=Gl(),ne(()=>{for(const s of r(this,Pi))s(this.el)},this.connectScope)},this.attachScope)}disconnect(){var s;(s=this.connectScope)==null||s.dispose(),this.connectScope=null}destroy(){if(this.destroyed)return;this.destroyed=!0,ne(()=>{for(const t of r(this,_n))t(this.el)},this.scope);const s=this.el;this.detach(),this.scope.dispose(),r(this,An).length=0,r(this,Pn).length=0,r(this,Pi).length=0,r(this,_n).length=0,this.component=null,this.attrs=null,this.styles=null,this.props=wl,this.scope=null,this.state=wl,this.$state=null,s&&delete s.$}addHooks(s){s.onSetup&&r(this,An).push(s.onSetup.bind(s)),s.onAttach&&r(this,Pn).push(s.onAttach.bind(s)),s.onConnect&&r(this,Pi).push(s.onConnect.bind(s)),s.onDestroy&&r(this,_n).push(s.onDestroy.bind(s))}}An=new WeakMap,Pn=new WeakMap,Pi=new WeakMap,_n=new WeakMap,Ge=new WeakSet,pd=function(){if(this.attrs)for(const s of Object.keys(this.attrs))Ss(this.attrs[s])?y(o(this,Ge,md).bind(this,s)):C(this.el,s,this.attrs[s])},fd=function(){if(this.styles)for(const s of Object.keys(this.styles))Ss(this.styles[s])?y(o(this,Ge,gd).bind(this,s)):Ps(this.el,s,this.styles[s])},md=function(s){C(this.el,s,this.attrs[s].call(this.component))},gd=function(s){Ps(this.el,s,this.styles[s].call(this.component))};function Gb(i){const s={};for(const t of Object.keys(i)){const e=i[t];s[t]=O(e,e)}return s}let Vr={$$:null};function Kb(i,s){return Eb(()=>{Vr.$$=new Ub(i,rl(),s);const t=new i;return Vr.$$.component=t,Vr.$$=null,t})}class de extends EventTarget{constructor(){super();g(this,"$$");Vr.$$&&this.attach(Vr)}get el(){return this.$$.el}get $el(){return this.$$.$el()}get scope(){return this.$$.scope}get attachScope(){return this.$$.attachScope}get connectScope(){return this.$$.connectScope}get $props(){return this.$$.props}get $state(){return this.$$.$state}get state(){return this.$$.state}attach({$$:t}){return this.$$=t,t.addHooks(this),this}addEventListener(t,e,n){this.listen(t,e,n)}removeEventListener(t,e,n){var a;(a=this.el)==null||a.removeEventListener(t,e,n)}setAttributes(t){this.$$.attrs||(this.$$.attrs={}),Object.assign(this.$$.attrs,t)}setStyles(t){this.$$.styles||(this.$$.styles={}),Object.assign(this.$$.styles,t)}setCSSVars(t){this.setStyles(t)}createEvent(t,...e){return new rt(t,e[0])}dispatch(t,...e){if(!this.el)return!1;const n=t instanceof Event?t:new rt(t,e[0]);return Object.defineProperty(n,"target",{get:()=>this.$$.component}),Br(()=>{var a,l;return(l=(a=this.$$)[dd])==null||l.call(a,n),this.el.dispatchEvent(n)})}dispatchEvent(t){return this.dispatch(t)}listen(t,e,n){return this.el?ae(this.el,t,e,n):To}}class tt extends de{subscribe(s){return ne(()=>y(()=>s(this.state)),this.$$.scope)}destroy(){this.$$.destroy()}}function z(i,s,t){i[Or]||(i[Or]=new Set),i[Or].add(s)}function $t(i,s,t){i[Dr]||(i[Dr]=new Set),i[Dr].add(s)}var En;class kr{constructor(s){g(this,"id",Symbol(0));g(this,"record");u(this,En);this.record=s,d(this,En,Object.getOwnPropertyDescriptors(s))}create(){const s={},t=new Proxy(s,{get:(e,n)=>s[n]()});for(const e of Object.keys(this.record)){const n=r(this,En)[e].get;s[e]=n?_s(n.bind(t)):O(this.record[e])}return s}reset(s,t){for(const e of Object.keys(s))!r(this,En)[e].get&&(!t||t(e))&&s[e].set(this.record[e])}}En=new WeakMap;function Bc(i){return Ot(i)}function Wb(i,s){for(const t of i)t(s)}function yd(i){return i.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function jb(i){return i.charAt(0).toUpperCase()+i.slice(1)}function ko(i){return i?"true":"false"}function Qb(){const i=new Set;return{add(...s){for(const t of s)i.add(t)},empty(){for(const s of i)s();i.clear()}}}function GT(i){return Object.keys(i)}function Wl(){let i,s;return{promise:new Promise((e,n)=>{i=e,s=n}),resolve:i,reject:s}}function zb(i){return new Promise(s=>setTimeout(s,i))}function fn(i){let s=-1,t;function e(...n){t=n,!(s>=0)&&(s=window.requestAnimationFrame(()=>{i.apply(this,t),s=-1,t=void 0}))}return e}const Yb=typeof window<"u"?"requestIdleCallback"in window?window.requestIdleCallback:i=>window.setTimeout(i,1):To;function Xb(i,s){return new Promise(t=>{Yb(e=>{i==null||i(e),t()},s)})}var jt={fullscreenEnabled:0,fullscreenElement:1,requestFullscreen:2,exitFullscreen:3,fullscreenchange:4,fullscreenerror:5,fullscreen:6},yu=["webkitFullscreenEnabled","webkitFullscreenElement","webkitRequestFullscreen","webkitExitFullscreen","webkitfullscreenchange","webkitfullscreenerror","-webkit-full-screen"],bu=["mozFullScreenEnabled","mozFullScreenElement","mozRequestFullScreen","mozCancelFullScreen","mozfullscreenchange","mozfullscreenerror","-moz-full-screen"],$u=["msFullscreenEnabled","msFullscreenElement","msRequestFullscreen","msExitFullscreen","MSFullscreenChange","MSFullscreenError","-ms-fullscreen"],Kt=typeof window<"u"&&typeof window.document<"u"?window.document:{},ee="fullscreenEnabled"in Kt&&Object.keys(jt)||yu[0]in Kt&&yu||bu[0]in Kt&&bu||$u[0]in Kt&&$u||[],an={requestFullscreen:function(i){return i[ee[jt.requestFullscreen]]()},requestFullscreenFunction:function(i){return i[ee[jt.requestFullscreen]]},get exitFullscreen(){return Kt[ee[jt.exitFullscreen]].bind(Kt)},get fullscreenPseudoClass(){return":"+ee[jt.fullscreen]},addEventListener:function(i,s,t){return Kt.addEventListener(ee[jt[i]],s,t)},removeEventListener:function(i,s,t){return Kt.removeEventListener(ee[jt[i]],s,t)},get fullscreenEnabled(){return!!Kt[ee[jt.fullscreenEnabled]]},set fullscreenEnabled(i){},get fullscreenElement(){return Kt[ee[jt.fullscreenElement]]},set fullscreenElement(i){},get onfullscreenchange(){return Kt[("on"+ee[jt.fullscreenchange]).toLowerCase()]},set onfullscreenchange(i){return Kt[("on"+ee[jt.fullscreenchange]).toLowerCase()]=i},get onfullscreenerror(){return Kt[("on"+ee[jt.fullscreenerror]).toLowerCase()]},set onfullscreenerror(i){return Kt[("on"+ee[jt.fullscreenerror]).toLowerCase()]=i}},qa=Jb;function Jb(i,s,t){var e=null,n=null,a=t&&t.leading,l=t&&t.trailing;a==null&&(a=!0),l==null&&(l=!a),a==!0&&(l=!1);var h=function(){e&&(clearTimeout(e),e=null)},c=function(){var f=n;h(),f&&f()},p=function(){var f=a&&!e,m=this,b=arguments;if(n=function(){return i.apply(m,b)},e||(e=setTimeout(function(){if(e=null,l)return n()},s)),f)return f=!1,n()};return p.cancel=h,p.flush=c,p}var bd=Zb;function Zb(i,s,t){var e=null,n=null,a=function(){e&&(clearTimeout(e),n=null,e=null)},l=function(){var c=n;a(),c&&c()},h=function(){if(!s)return i.apply(this,arguments);var c=this,p=arguments,f=t&&!e;if(a(),n=function(){i.apply(c,p)},e=setTimeout(function(){if(e=null,!f){var m=n;return n=null,m()}},s),f)return n()};return h.cancel=a,h.flush=l,h}const wu=i=>typeof i=="object"&&i!=null&&i.nodeType===1,vu=(i,s)=>(!s||i!=="hidden")&&i!=="visible"&&i!=="clip",vl=(i,s)=>{if(i.clientHeight<i.scrollHeight||i.clientWidth<i.scrollWidth){const t=getComputedStyle(i,null);return vu(t.overflowY,s)||vu(t.overflowX,s)||(e=>{const n=(a=>{if(!a.ownerDocument||!a.ownerDocument.defaultView)return null;try{return a.ownerDocument.defaultView.frameElement}catch{return null}})(e);return!!n&&(n.clientHeight<e.scrollHeight||n.clientWidth<e.scrollWidth)})(i)}return!1},za=(i,s,t,e,n,a,l,h)=>a<i&&l>s||a>i&&l<s?0:a<=i&&h<=t||l>=s&&h>=t?a-i-e:l>s&&h<t||a<i&&h>t?l-s+n:0,t$=i=>{const s=i.parentElement;return s??(i.getRootNode().host||null)},e$=(i,s)=>{var t,e,n,a;if(typeof document>"u")return[];const{scrollMode:l,block:h,inline:c,boundary:p,skipOverflowHiddenElements:f}=s,m=typeof p=="function"?p:Me=>Me!==p;if(!wu(i))throw new TypeError("Invalid target");const b=document.scrollingElement||document.documentElement,w=[];let v=i;for(;wu(v)&&m(v);){if(v=t$(v),v===b){w.push(v);break}v!=null&&v===document.body&&vl(v)&&!vl(document.documentElement)||v!=null&&vl(v,f)&&w.push(v)}const k=(e=(t=window.visualViewport)==null?void 0:t.width)!=null?e:innerWidth,G=(a=(n=window.visualViewport)==null?void 0:n.height)!=null?a:innerHeight,{scrollX:ht,scrollY:wt}=window,{height:pe,width:Dt,top:Ce,right:Ze,bottom:Le,left:yi}=i.getBoundingClientRect(),{top:Na,right:Ls,bottom:Ar,left:Pr}=(Me=>{const J=window.getComputedStyle(Me);return{top:parseFloat(J.scrollMarginTop)||0,right:parseFloat(J.scrollMarginRight)||0,bottom:parseFloat(J.scrollMarginBottom)||0,left:parseFloat(J.scrollMarginLeft)||0}})(i);let Ht=h==="start"||h==="nearest"?Ce-Na:h==="end"?Le+Ar:Ce+pe/2-Na+Ar,Ct=c==="center"?yi+Dt/2-Pr+Ls:c==="end"?Ze+Ls:yi-Pr;const bn=[];for(let Me=0;Me<w.length;Me++){const J=w[Me],{height:fe,width:bi,top:ts,right:$n,bottom:pl,left:Ha}=J.getBoundingClientRect();if(l==="if-needed"&&Ce>=0&&yi>=0&&Le<=G&&Ze<=k&&Ce>=ts&&Le<=pl&&yi>=Ha&&Ze<=$n)return bn;const Fa=getComputedStyle(J),Ba=parseInt(Fa.borderLeftWidth,10),Ua=parseInt(Fa.borderTopWidth,10),Ga=parseInt(Fa.borderRightWidth,10),Ka=parseInt(Fa.borderBottomWidth,10);let Ms=0,Is=0;const Wa="offsetWidth"in J?J.offsetWidth-J.clientWidth-Ba-Ga:0,ja="offsetHeight"in J?J.offsetHeight-J.clientHeight-Ua-Ka:0,fl="offsetWidth"in J?J.offsetWidth===0?0:bi/J.offsetWidth:0,ml="offsetHeight"in J?J.offsetHeight===0?0:fe/J.offsetHeight:0;if(b===J)Ms=h==="start"?Ht:h==="end"?Ht-G:h==="nearest"?za(wt,wt+G,G,Ua,Ka,wt+Ht,wt+Ht+pe,pe):Ht-G/2,Is=c==="start"?Ct:c==="center"?Ct-k/2:c==="end"?Ct-k:za(ht,ht+k,k,Ba,Ga,ht+Ct,ht+Ct+Dt,Dt),Ms=Math.max(0,Ms+wt),Is=Math.max(0,Is+ht);else{Ms=h==="start"?Ht-ts-Ua:h==="end"?Ht-pl+Ka+ja:h==="nearest"?za(ts,pl,fe,Ua,Ka+ja,Ht,Ht+pe,pe):Ht-(ts+fe/2)+ja/2,Is=c==="start"?Ct-Ha-Ba:c==="center"?Ct-(Ha+bi/2)+Wa/2:c==="end"?Ct-$n+Ga+Wa:za(Ha,$n,bi,Ba,Ga+Wa,Ct,Ct+Dt,Dt);const{scrollLeft:ou,scrollTop:lu}=J;Ms=ml===0?0:Math.max(0,Math.min(lu+Ms/ml,J.scrollHeight-fe/ml+ja)),Is=fl===0?0:Math.max(0,Math.min(ou+Is/fl,J.scrollWidth-bi/fl+Wa)),Ht+=lu-Ms,Ct+=ou-Is}bn.push({el:J,top:Ms,left:Is})}return bn},Tl=i=>i===null?"":i+"",s$=i=>i===null?null:i+"",i$=i=>i===null?0:Number(i),$d=i=>i!==null,n$=()=>null,r$=i=>i===null?[]:JSON.parse(i),a$=i=>i===null?{}:JSON.parse(i);function o$(i){if(i===null)return s$;switch(typeof i){case"undefined":return Tl;case"string":return Tl;case"boolean":return $d;case"number":return i$;case"function":return n$;case"object":return Lt(i)?r$:a$;default:return Tl}}const qs=Symbol(0),wd=Symbol(0),on=Symbol(0),Si=Symbol(0);var As;(function(i){i[i.Idle=0]="Idle";const t=1;i[i.Pending=t]="Pending";const e=2;i[i.Ready=e]="Ready"})(As||(As={}));function et(i,s){var e,n,a;class t extends i{constructor(...c){super(...c);g(this,"$");g(this,n,As.Idle);g(this,e,null);g(this,"keepAlive",!1);g(this,"forwardKeepAlive",!0);if(this.$=ne(()=>Kb(s),null),this.$.$$.addHooks(this),s.props){const p=this.$props,f=Object.getOwnPropertyDescriptors(this);for(const m of Object.keys(f))m in s.props&&(p[m].set(this[m]),delete this[m])}}static get observedAttributes(){var c;if(!this[qs]&&s.props){const p=new Map;for(const f of Object.keys(s.props)){let m=(c=this.attrs)==null?void 0:c[f],b=x(m)?m:m&&(m==null?void 0:m.attr);b!==!1&&(b||(b=yd(f)),p.set(b,{prop:f,converter:m&&!x(m)&&(m==null?void 0:m.converter)||o$(s.props[f])}))}this[qs]=p}return this[qs]?Array.from(this[qs].keys()):[]}get scope(){return this.$.$$.scope}get attachScope(){return this.$.$$.attachScope}get connectScope(){return this.$.$$.connectScope}get $props(){return this.$.$$.props}get $state(){return this.$.$$.$state}get state(){return this.$.state}attributeChangedCallback(c,p,f){var w;const m=this.constructor;if(!m[qs]){(w=super.attributeChangedCallback)==null||w.call(this,c,p,f);return}const b=m[qs].get(c);b&&(this[b.prop]=b.converter(f))}connectedCallback(){var f;const c=(f=this.$)==null?void 0:f.$$;if(!c||c.destroyed)return;if(this[on]!==As.Ready){h$.call(this);return}if(!this.isConnected)return;this.hasAttribute("keep-alive")&&(this.keepAlive=!0),c.connect(),Lt(this[Si])&&Wb(this[Si],this),this[Si]=null;const p=super.connectedCallback;p&&ne(()=>p.call(this),this.connectScope)}disconnectedCallback(){var f;const c=(f=this.$)==null?void 0:f.$$;if(!c||c.destroyed)return;c.disconnect();const p=super.disconnectedCallback;p&&p.call(this),!this.keepAlive&&!this.hasAttribute("keep-alive")&&setTimeout(()=>{requestAnimationFrame(()=>{this.isConnected||c.destroy()})},0)}[(a=qs,n=on,e=Si,wd)](){const c=this.$.$$,p=this.constructor;if(c.destroyed)return;const f=p[qs];if(f)for(const m of this.attributes){let b=f.get(m.name);b&&b.converter&&c.props[b.prop].set(b.converter(this.getAttribute(m.name)))}c.setup(),c.attach(this),this[on]=As.Ready,this.connectedCallback()}subscribe(c){return this.$.subscribe(c)}destroy(){this.disconnectedCallback(),this.$.destroy()}}return g(t,"attrs"),g(t,a,null),l$(t,s),t}function l$(i,s){const t=i.prototype,e=s.prototype;if(s.props)for(const n of Object.keys(s.props))Object.defineProperty(t,n,{enumerable:!0,configurable:!0,get(){return this.$props[n]()},set(a){this.$props[n].set(a)}});if(e[Or])for(const n of e[Or])Object.defineProperty(t,n,{enumerable:!0,configurable:!0,get(){return this.$[n]},set(a){this.$[n]=a}});if(e[Dr])for(const n of e[Dr])t[n]=function(...a){return this.$[n](...a)}}function h$(){if(this[on]!==As.Idle)return;this[on]=As.Pending;const i=u$(this),s=i&&window.customElements.get(i.localName),t=i&&i[on]===As.Ready;if(i&&(!s||!t)){c$.call(this,i);return}vd.call(this,i)}async function c$(i){await window.customElements.whenDefined(i.localName),i[on]!==As.Ready&&await new Promise(s=>(i[Si]??(i[Si]=[])).push(s)),vd.call(this,i)}function vd(i){if(this.isConnected){if(i){i.keepAlive&&i.forwardKeepAlive&&(this.keepAlive=!0,this.setAttribute("keep-alive",""));const s=this.$.$$.scope;s&&i.$.$$.attachScope.append(s)}this[wd]()}}function u$(i){let s=i.parentNode,t=i.localName.split("-",1)[0]+"-";for(;s;){if(s.nodeType===1&&s.localName.startsWith(t))return s;s=s.parentNode}return null}function Y(i,s=!1){(s||!window.customElements.get(i.tagName))&&window.customElements.define(i.tagName,i)}var KT='<path fill-rule="evenodd" clip-rule="evenodd" d="M6 7C5.63181 7 5.33333 7.29848 5.33333 7.66667V14.8667C5.33333 14.9403 5.39361 14.9999 5.46724 15.0009C10.8844 15.0719 15.2614 19.449 15.3325 24.8661C15.3334 24.9397 15.393 25 15.4667 25H26C26.3682 25 26.6667 24.7015 26.6667 24.3333V7.66667C26.6667 7.29848 26.3682 7 26 7H6ZM17.0119 22.2294C17.0263 22.29 17.0802 22.3333 17.1425 22.3333H23.3333C23.7015 22.3333 24 22.0349 24 21.6667V10.3333C24 9.96514 23.7015 9.66667 23.3333 9.66667H8.66667C8.29848 9.66667 8 9.96514 8 10.3333V13.1909C8 13.2531 8.04332 13.3071 8.10392 13.3214C12.5063 14.3618 15.9715 17.827 17.0119 22.2294Z" fill="currentColor"/> <path d="M13.2 25C13.2736 25 13.3334 24.9398 13.3322 24.8661C13.2615 20.5544 9.77889 17.0718 5.46718 17.0011C5.39356 16.9999 5.33333 17.0597 5.33333 17.1333V18.8667C5.33333 18.9403 5.39348 18.9999 5.4671 19.0015C8.67465 19.0716 11.2617 21.6587 11.3319 24.8662C11.3335 24.9399 11.393 25 11.4667 25H13.2Z" fill="currentColor"/> <path d="M5.33333 21.1333C5.33333 21.0597 5.39332 20.9998 5.46692 21.0022C7.57033 21.0712 9.26217 22.763 9.33114 24.8664C9.33356 24.94 9.27364 25 9.2 25H6C5.63181 25 5.33333 24.7015 5.33333 24.3333V21.1333Z" fill="currentColor"/>';const Td=gi();function D(){return Ot(Td)}function Tu(i,s){const t=s.composedPath()[0];return ud(t)&&i.contains(t)}const jl=new Set;{let i=function(){for(const s of jl)try{s()}catch{}window.requestAnimationFrame(i)};i()}function d$(i){return jl.add(i),()=>jl.delete(i)}function pt(i,s,t){i.hasAttribute(s)||i.setAttribute(s,t)}function mn(i,s){if(i.hasAttribute("aria-label")||i.hasAttribute("data-no-label"))return;if(!Ss(s)){C(i,"aria-label",s);return}function t(){C(i,"aria-label",s())}y(t)}function kd(i){const s=getComputedStyle(i);return s.display!=="none"&&parseInt(s.opacity)>0}function p$(i){return!!i&&("checkVisibility"in i?i.checkVisibility({checkOpacity:!0,checkVisibilityCSS:!0}):kd(i))}function Sd(i,s){return d$(()=>s(p$(i)))}function Ad(i,s,t){for(;s;){if(s===i)return!0;if(t!=null&&t(s))break;s=s.parentElement}return!1}function ln(i,s){return new dt(i).add("pointerup",t=>{t.button===0&&!t.defaultPrevented&&s(t)}).add("keydown",t=>{ol(t)&&s(t)})}function Pd(i){return Rb(i)&&(i.touches.length>1||i.changedTouches.length>1)}function f$(i){let s=rl(),t=window.requestAnimationFrame(()=>{ne(i,s),t=-1});return()=>void window.cancelAnimationFrame(t)}function m$(i,s,t){let e,n=i,a=i.parentElement,l=i.content.firstElementChild,h=[];!l&&i.firstElementChild&&(i.innerHTML=i.firstElementChild.outerHTML,i.firstElementChild.remove(),l=i.content.firstElementChild);for(let c=0;c<s;c++)e=document.importNode(l,!0),t==null||t(e,c),a.insertBefore(e,n.nextSibling),h.push(e),n=e;return q(()=>{for(let c=0;c<h.length;c++)h[c].remove()}),h}function g$(i){const s=document.createElement("template");return s.innerHTML=i,s.content}function y$(i){return i.cloneNode(!0).firstElementChild}function b$(i,s,t,{offsetVarName:e,xOffset:n,yOffset:a,...l}){if(!i)return;const h=t.replace(" ","-").replace("-center","");if(Ps(i,"visibility",s?null:"hidden"),!s)return;let c=t.includes("top");const p=m=>t.includes("left")?`calc(-1 * ${m})`:m,f=m=>c?`calc(-1 * ${m})`:m;return fb(s,i,()=>{mb(s,i,{placement:h,middleware:[...l.middleware??[],gb({fallbackAxisSideDirection:"start",crossAxis:!1}),yb()],...l}).then(({x:m,y:b,middlewareData:w})=>{var k;const v=!!((k=w.flip)!=null&&k.index);c=t.includes(v?"bottom":"top"),i.setAttribute("data-placement",v?t.startsWith("top")?t.replace("top","bottom"):t.replace("bottom","top"):t),Object.assign(i.style,{top:`calc(${b+"px"} + ${f(a?a+"px":`var(--${e}-y-offset, 0px)`)})`,left:`calc(${m+"px"} + ${p(n?n+"px":`var(--${e}-x-offset, 0px)`)})`})})})}function $$(i){return getComputedStyle(i).animationName!=="none"}function So(i){return i instanceof HTMLElement}function w$(i,s){return[...i].sort(s?T$:v$)}function v$(i,s){return i.height===s.height?(i.bitrate??0)-(s.bitrate??0):i.height-s.height}function T$(i,s){return s.height===i.height?(s.bitrate??0)-(i.bitrate??0):s.height-i.height}function k$(i){return i?"true":"false"}function Ue(i){return()=>k$(i())}const S$=(navigator==null?void 0:navigator.userAgent.toLowerCase())||"",_d=/iphone|ipad|ipod|ios|crios|fxios/i.test(S$),Ed=/(iphone|ipod)/gi.test((navigator==null?void 0:navigator.platform)||""),A$=!!window.chrome,WT=!!window.safari||_d;function xd(){return P$()&&Ss(screen.orientation.unlock)}function P$(){return!_e(window.screen.orientation)&&!_e(window.screen.orientation.lock)}function _$(i,s){return i||(i=document.createElement("audio")),i.canPlayType(s).length>0}function E$(i,s){return i||(i=document.createElement("video")),i.canPlayType(s).length>0}function x$(i){return i||(i=document.createElement("video")),i.canPlayType("application/vnd.apple.mpegurl").length>0}function jT(i){return!!document.pictureInPictureEnabled&&!(i!=null&&i.disablePictureInPicture)}function QT(i){return Ss(i==null?void 0:i.webkitSupportsPresentationMode)&&Ss(i==null?void 0:i.webkitSetPresentationMode)}async function C$(){const i=document.createElement("video");return i.volume=.5,await zb(0),i.volume===.5}function L$(){return(window==null?void 0:window.ManagedMediaSource)??(window==null?void 0:window.MediaSource)??(window==null?void 0:window.WebKitMediaSource)}function M$(){return(window==null?void 0:window.SourceBuffer)??(window==null?void 0:window.WebKitSourceBuffer)}function Uc(){const i=L$();if(_e(i))return!1;const s=i&&Ss(i.isTypeSupported)&&i.isTypeSupported('video/mp4; codecs="avc1.42E01E,mp4a.40.2"'),t=M$(),e=_e(t)||!_e(t.prototype)&&Ss(t.prototype.appendBuffer)&&Ss(t.prototype.remove);return!!s&&!!e}function I$(){return Uc()}const q$=/\.(m4a|m4b|mp4a|mpga|mp2|mp2a|mp3|m2a|m3a|wav|weba|aac|oga|spx|flac)($|\?)/i,O$=new Set(["audio/mpeg","audio/ogg","audio/3gp","audio/mp3","audio/webm","audio/flac","audio/m4a","audio/m4b","audio/mp4a"]),D$=/\.(mp4|og[gv]|webm|mov|m4v)(#t=[,\d+]+)?($|\?)/i,V$=new Set(["video/mp4","video/webm","video/3gp","video/ogg","video/avi","video/mpeg"]),R$=/\.(m3u8)($|\?)/i,N$=/\.(mpd)($|\?)/i,H$=new Set(["application/vnd.apple.mpegurl","audio/mpegurl","audio/x-mpegurl","application/x-mpegurl","video/x-mpegurl","video/mpegurl","application/mpegurl"]),F$=new Set(["application/dash+xml"]);function Gc({src:i,type:s}){return x(i)?q$.test(i)||O$.has(s)||i.startsWith("blob:")&&s==="audio/object":s==="audio/object"}function Kc(i){return x(i.src)?D$.test(i.src)||V$.has(i.type)||i.src.startsWith("blob:")&&i.type==="video/object"||Oa(i)&&x$():i.type==="video/object"}function Oa({src:i,type:s}){return x(i)&&R$.test(i)||H$.has(s)}function Wc({src:i,type:s}){return x(i)&&N$.test(i)||F$.has(s)}function B$(i){return x(i.src)&&(Gc(i)||Kc(i)||Oa(i))}function zT(i){return typeof window.MediaStream<"u"&&i instanceof window.MediaStream}function YT(i,s){const t=new URLSearchParams;for(const e of Object.keys(s))t.set(e,s[e]+"");return i+"?"+t.toString()}function Da(i,s="preconnect"){const t=document.querySelector(`link[href="${i}"]`);if(!ks(t))return!0;const e=document.createElement("link");return e.rel=s,e.href=i,e.crossOrigin="true",document.head.append(e),!0}const Ya={};function XT(i){if(Ya[i])return Ya[i].promise;const s=Wl(),t=document.querySelector(`script[src="${i}"]`);if(!ks(t))return s.resolve(),s.promise;const e=document.createElement("script");return e.src=i,e.onload=()=>{s.resolve(),delete Ya[i]},e.onerror=()=>{s.reject(),delete Ya[i]},setTimeout(()=>document.head.append(e),0),s.promise}function Rr(i){return i==="use-credentials"?"include":x(i)?"same-origin":void 0}function U$({title:i,src:s,download:t}){const e=gu(t)||t===""?s.src:x(t)?t:t==null?void 0:t.url;return G$({url:e,src:s,download:t})?{url:e,name:!gu(t)&&!x(t)&&(t==null?void 0:t.filename)||i.toLowerCase()||"media"}:null}function G$({url:i,src:s,download:t}){return x(i)&&(t&&t!==!0||Gc(s)||Kc(s))}function ku(i,s){return s>=i.startTime&&s<i.endTime}function K$(i,s,t){let e=null,n=rl();function a(){const l=x(s)?[s]:s,h=i.toArray().find(c=>l.includes(c.kind)&&c.mode==="showing");if(h!==e){if(!h){t(null),e=null;return}h.readyState==2?t(h):(t(null),ne(()=>{const c=ae(h,"load",()=>{t(h),c()},{once:!0})},n)),e=h}}return a(),ae(i,"mode-change",a)}const W$=Symbol(0),j$=Symbol(0),Q$=Symbol(0),z$=Symbol(0),Y$=Symbol(0),X$=Symbol(0),J$=Symbol(0),M={crossOrigin:W$,readyState:j$,updateActiveCues:Q$,canLoad:z$,onModeChange:Y$,native:X$,nativeHLS:J$};var Qu,zu,Yu,Xu,Qr,is,_i,zr,Ei,At,ns,mt,Cd,Ql,Cr,zl,Yl,Xl;class Ao extends cd{constructor(t){super();u(this,mt);g(this,"src");g(this,"content");g(this,"type");g(this,"encoding");g(this,"id","");g(this,"label","");g(this,"language","");g(this,"kind");g(this,"default",!1);u(this,Qr,!1);u(this,is,0);u(this,_i,"disabled");u(this,zr,{});u(this,Ei,[]);u(this,At,[]);u(this,ns,[]);g(this,Xu,0);g(this,Yu);g(this,zu,null);g(this,Qu,null);for(const e of Object.keys(t))this[e]=t[e];this.type||(this.type="vtt"),t.content?o(this,mt,Cd).call(this,t):t.src||(this[M.readyState]=2)}static createId(t){return`vds-${t.type}-${t.kind}-${t.src??t.label??"?"}`}get metadata(){return r(this,zr)}get regions(){return r(this,Ei)}get cues(){return r(this,At)}get activeCues(){return r(this,ns)}get readyState(){return this[M.readyState]}get mode(){return r(this,_i)}set mode(t){this.setMode(t)}addCue(t,e){var l;let n=0,a=r(this,At).length;for(n=0;n<a&&!(t.endTime<=r(this,At)[n].startTime);n++);n===a?r(this,At).push(t):r(this,At).splice(n,0,t),t instanceof TextTrackCue||(l=this[M.native])==null||l.track.addCue(t),this.dispatchEvent(new rt("add-cue",{detail:t,trigger:e})),ku(t,r(this,is))&&this[M.updateActiveCues](r(this,is),e)}removeCue(t,e){var a;const n=r(this,At).indexOf(t);if(n>=0){const l=r(this,ns).includes(t);r(this,At).splice(n,1),(a=this[M.native])==null||a.track.removeCue(t),this.dispatchEvent(new rt("remove-cue",{detail:t,trigger:e})),l&&this[M.updateActiveCues](r(this,is),e)}}setMode(t,e){var n;r(this,_i)!==t&&(d(this,_i,t),t==="disabled"?(d(this,ns,[]),o(this,mt,Xl).call(this)):this.readyState===2?this[M.updateActiveCues](r(this,is),e):o(this,mt,Ql).call(this),this.dispatchEvent(new rt("mode-change",{detail:this,trigger:e})),(n=this[M.onModeChange])==null||n.call(this))}[(Xu=M.readyState,Yu=M.crossOrigin,zu=M.onModeChange,Qu=M.native,M.updateActiveCues)](t,e){if(d(this,is,t),this.mode==="disabled"||!r(this,At).length)return;const n=[];for(let l=0,h=r(this,At).length;l<h;l++){const c=r(this,At)[l];ku(c,t)&&n.push(c)}let a=n.length!==r(this,ns).length;if(!a){for(let l=0;l<n.length;l++)if(!r(this,ns).includes(n[l])){a=!0;break}}d(this,ns,n),a&&o(this,mt,Xl).call(this,e)}[M.canLoad](){d(this,Qr,!0),r(this,_i)!=="disabled"&&o(this,mt,Ql).call(this)}}Qr=new WeakMap,is=new WeakMap,_i=new WeakMap,zr=new WeakMap,Ei=new WeakMap,At=new WeakMap,ns=new WeakMap,mt=new WeakSet,Cd=function(t){qt(async()=>{const{parseText:e,VTTCue:n,VTTRegion:a}=await import("./prod-rX7P05QU.js").then(l=>l.d);return{parseText:e,VTTCue:n,VTTRegion:a}},__vite__mapDeps([0,1,2,3,4])).then(({parseText:e,VTTCue:n,VTTRegion:a})=>{!x(t.content)||t.type==="json"?(o(this,mt,Yl).call(this,t.content,n,a),this.readyState!==3&&o(this,mt,Cr).call(this)):e(t.content,{type:t.type}).then(({cues:l,regions:h})=>{d(this,At,l),d(this,Ei,h),o(this,mt,Cr).call(this)})})},Ql=async function(){var t,e;if(!(!r(this,Qr)||this[M.readyState]>0)){if(this[M.readyState]=1,this.dispatchEvent(new rt("load-start")),!this.src){o(this,mt,Cr).call(this);return}try{const{parseResponse:n,VTTCue:a,VTTRegion:l}=await qt(async()=>{const{parseResponse:p,VTTCue:f,VTTRegion:m}=await import("./prod-rX7P05QU.js").then(b=>b.d);return{parseResponse:p,VTTCue:f,VTTRegion:m}},__vite__mapDeps([0,1,2,3,4])),h=(t=this[M.crossOrigin])==null?void 0:t.call(this),c=fetch(this.src,{headers:this.type==="json"?{"Content-Type":"application/json"}:void 0,credentials:Rr(h)});if(this.type==="json")o(this,mt,Yl).call(this,await(await c).text(),a,l);else{const{errors:p,metadata:f,regions:m,cues:b}=await n(c,{type:this.type,encoding:this.encoding});if(((e=p[0])==null?void 0:e.code)===0)throw p[0];d(this,zr,f),d(this,Ei,m),d(this,At,b)}o(this,mt,Cr).call(this)}catch(n){o(this,mt,zl).call(this,n)}}},Cr=function(){if(this[M.readyState]=2,!this.src||this.type!=="vtt"){const e=this[M.native];if(e&&!e.managed)for(const n of r(this,At))e.track.addCue(n)}const t=new rt("load");this[M.updateActiveCues](r(this,is),t),this.dispatchEvent(t)},zl=function(t){this[M.readyState]=3,this.dispatchEvent(new rt("error",{detail:t}))},Yl=function(t,e,n){try{const{regions:a,cues:l}=tw(t,e,n);d(this,Ei,a),d(this,At,l)}catch(a){o(this,mt,zl).call(this,a)}},Xl=function(t){this.dispatchEvent(new rt("cue-change",{trigger:t}))};const Z$=/captions|subtitles/;function Nt(i){return Z$.test(i.kind)}function tw(i,s,t){const e=x(i)?JSON.parse(i):i;let n=[],a=[];return e.regions&&t&&(n=e.regions.map(l=>Object.assign(new t,l))),(e.cues||Lt(e))&&(a=(Lt(e)?e:e.cues).filter(l=>Ae(l.startTime)&&Ae(l.endTime)).map(l=>Object.assign(new s(0,0,""),l))),{regions:n,cues:a}}let Jl=O(!1);ae(document,"pointerdown",()=>{Jl.set(!1)}),ae(document,"keydown",i=>{i.metaKey||i.altKey||i.ctrlKey||Jl.set(!0)});var Rs,Ke,Ld,Md,Id,qd;class gn extends de{constructor(){super(...arguments);u(this,Ke);u(this,Rs,O(!1))}onConnect(t){y(()=>{const e=new dt(t);if(!Jl()){r(this,Rs).set(!1),Xa(t,!1),e.add("pointerenter",o(this,Ke,Id).bind(this)).add("pointerleave",o(this,Ke,qd).bind(this));return}const n=document.activeElement===t;r(this,Rs).set(n),Xa(t,n),e.add("focus",o(this,Ke,Ld).bind(this)).add("blur",o(this,Ke,Md).bind(this))})}focused(){return r(this,Rs).call(this)}}Rs=new WeakMap,Ke=new WeakSet,Ld=function(){r(this,Rs).set(!0),Xa(this.el,!0)},Md=function(){r(this,Rs).set(!1),Xa(this.el,!1)},Id=function(){Su(this.el,!0)},qd=function(){Su(this.el,!1)};function Xa(i,s){C(i,"data-focus",s),C(i,"data-hocus",s)}function Su(i,s){C(i,"data-hocus",s),C(i,"data-hover",s)}function kl(i){return i instanceof Error?i:Error(typeof i=="string"?i:JSON.stringify(i))}function es(i,s){if(!i)throw Error("Assertion failed.")}function Ee(i,s=2){return Number(i.toFixed(s))}function ew(i){var s;return((s=String(i).split(".")[1])==null?void 0:s.length)??0}function jc(i,s,t){return Math.max(i,Math.min(t,s))}var xi;class sw extends de{constructor(t){super();u(this,xi);d(this,xi,t)}onAttach(t){const{$props:e,ariaKeys:n}=D(),a=t.getAttribute("aria-keyshortcuts");if(a){n[r(this,xi)]=a,q(()=>{delete n[r(this,xi)]});return}const l=e.keyShortcuts()[r(this,xi)];if(l){const h=Lt(l)?l.join(" "):x(l)?l:l==null?void 0:l.keys;t.setAttribute("aria-keyshortcuts",Lt(h)?h.join(" "):h)}}}xi=new WeakMap;function Sl(i,s){const t=String(i),e=t.length;if(e<s){const a=s-e;return`${"0".repeat(a)}${i}`}return t}function Od(i){const s=Math.trunc(i/3600),t=Math.trunc(i%3600/60),e=Math.trunc(i%60),n=Number((i-Math.trunc(i)).toPrecision(3));return{hours:s,minutes:t,seconds:e,fraction:n}}function Qc(i,{padHrs:s=null,padMins:t=null,showHrs:e=!1,showMs:n=!1}={}){const{hours:a,minutes:l,seconds:h,fraction:c}=Od(i),p=s?Sl(a,2):a,f=t||ks(t)&&i>=3600?Sl(l,2):l,m=Sl(h,2),b=n&&c>0?`.${String(c).replace(/^0?\./,"")}`:"",w=`${f}:${m}${b}`;return a>0||e?`${p}:${w}`:w}function Au(i){const s=[],{hours:t,minutes:e,seconds:n}=Od(i);return t>0&&s.push(`${t} hour`),e>0&&s.push(`${e} min`),(n>0||s.length===0)&&s.push(`${n} sec`),s.join(" ")}var ge,ui,Dd,Ci,Li,Ie,no;class iw extends de{constructor(t){super();u(this,ui);u(this,ge);u(this,Ci,-1);u(this,Li,-1);u(this,Ie,null);d(this,ge,t),y(o(this,ui,Dd).bind(this))}onDestroy(){var t;(t=r(this,Ie))==null||t.call(this),d(this,Ie,null)}show(t){var e,n,a;o(this,ui,no).call(this),window.cancelAnimationFrame(r(this,Li)),d(this,Li,-1),(e=r(this,Ie))==null||e.call(this),d(this,Ie,null),d(this,Ci,window.setTimeout(()=>{d(this,Ci,-1);const l=r(this,ge).content();l&&l.style.removeProperty("display"),S(()=>r(this,ge).onChange(!0,t))},((a=(n=r(this,ge)).showDelay)==null?void 0:a.call(n))??0))}hide(t){o(this,ui,no).call(this),S(()=>r(this,ge).onChange(!1,t)),d(this,Li,requestAnimationFrame(()=>{var n;o(this,ui,no).call(this),d(this,Li,-1);const e=r(this,ge).content();if(e){const a=()=>{e.style.display="none",d(this,Ie,null)};if($$(e)){(n=r(this,Ie))==null||n.call(this);const h=ae(e,"animationend",a,{once:!0});d(this,Ie,h)}else a()}}))}}ge=new WeakMap,ui=new WeakSet,Dd=function(){const t=r(this,ge).trigger();if(!t){this.hide();return}const e=this.show.bind(this),n=this.hide.bind(this);r(this,ge).listen(t,e,n)},Ci=new WeakMap,Li=new WeakMap,Ie=new WeakMap,no=function(){window.clearTimeout(r(this,Ci)),d(this,Ci,-1)};var rs,We,Vd,Rd,Nd,Hd;class Jt extends de{constructor(t){super();u(this,We);u(this,rs);d(this,rs,t),new gn,t.keyShortcut&&new sw(t.keyShortcut)}onSetup(){const{disabled:t}=this.$props;this.setAttributes({"data-pressed":r(this,rs).isPresssed,"aria-pressed":o(this,We,Vd).bind(this),"aria-disabled":()=>t()?"true":null})}onAttach(t){pt(t,"tabindex","0"),pt(t,"role","button"),pt(t,"type","button")}onConnect(t){const e=ln(t,o(this,We,Nd).bind(this));for(const n of["click","touchstart"])e.add(n,o(this,We,Hd).bind(this),{passive:!0})}}rs=new WeakMap,We=new WeakSet,Vd=function(){return ko(r(this,rs).isPresssed())},Rd=function(t){Bb(r(this,rs).isPresssed)&&r(this,rs).isPresssed.set(e=>!e)},Nd=function(t){if(this.$props.disabled()||this.el.hasAttribute("data-disabled")){t.preventDefault(),t.stopImmediatePropagation();return}t.preventDefault(),(r(this,rs).onPress??o(this,We,Rd)).call(this,t)},Hd=function(t){this.$props.disabled()&&(t.preventDefault(),t.stopImmediatePropagation())},g(Jt,"props",{disabled:!1});var Ml,as,je,Fd,Bd,Ud,Gd;let nw=(Ml=class extends tt{constructor(){super();u(this,je);u(this,as);new Jt({isPresssed:o(this,je,Bd).bind(this),onPress:o(this,je,Fd).bind(this)})}onSetup(){d(this,as,D());const{canAirPlay:t,isAirPlayConnected:e}=r(this,as).$state;this.setAttributes({"data-active":e,"data-supported":t,"data-state":o(this,je,Ud).bind(this),"aria-hidden":Ue(()=>!t())})}onAttach(t){t.setAttribute("data-media-tooltip","airplay"),mn(t,o(this,je,Gd).bind(this))}},as=new WeakMap,je=new WeakSet,Fd=function(t){r(this,as).remote.requestAirPlay(t)},Bd=function(){const{remotePlaybackType:t,remotePlaybackState:e}=r(this,as).$state;return t()==="airplay"&&e()!=="disconnected"},Ud=function(){const{remotePlaybackType:t,remotePlaybackState:e}=r(this,as).$state;return t()==="airplay"&&e()},Gd=function(){const{remotePlaybackState:t}=r(this,as).$state;return`AirPlay ${t()}`},g(Ml,"props",Jt.props),Ml);var Il,Mi,un,Kd,Zl;let rw=(Il=class extends tt{constructor(){super();u(this,un);u(this,Mi);new Jt({isPresssed:o(this,un,Zl).bind(this),keyShortcut:"togglePaused",onPress:o(this,un,Kd).bind(this)})}onSetup(){d(this,Mi,D());const{paused:t,ended:e}=r(this,Mi).$state;this.setAttributes({"data-paused":t,"data-ended":e})}onAttach(t){t.setAttribute("data-media-tooltip","play"),mn(t,"Play")}},Mi=new WeakMap,un=new WeakSet,Kd=function(t){const e=r(this,Mi).remote;o(this,un,Zl).call(this)?e.pause(t):e.play(t)},Zl=function(){const{paused:t}=r(this,Mi).$state;return!t()},g(Il,"props",Jt.props),Il);var Ii,Qe,jd,th,eh;class Wd extends tt{constructor(){super();u(this,Qe);u(this,Ii);new Jt({isPresssed:o(this,Qe,th).bind(this),keyShortcut:"toggleCaptions",onPress:o(this,Qe,jd).bind(this)})}onSetup(){d(this,Ii,D()),this.setAttributes({"data-active":o(this,Qe,th).bind(this),"data-supported":()=>!o(this,Qe,eh).call(this),"aria-hidden":Ue(o(this,Qe,eh).bind(this))})}onAttach(t){t.setAttribute("data-media-tooltip","caption"),mn(t,"Captions")}}Ii=new WeakMap,Qe=new WeakSet,jd=function(t){r(this,Ii).remote.toggleCaptions(t)},th=function(){const{textTrack:t}=r(this,Ii).$state,e=t();return!!e&&Nt(e)},eh=function(){const{hasCaptions:t}=r(this,Ii).$state;return!t()},g(Wd,"props",Jt.props);var ql,Ns,Es,Qd,sh,zd;let aw=(ql=class extends tt{constructor(){super();u(this,Es);u(this,Ns);new Jt({isPresssed:o(this,Es,sh).bind(this),keyShortcut:"toggleFullscreen",onPress:o(this,Es,Qd).bind(this)})}onSetup(){d(this,Ns,D());const{fullscreen:t}=r(this,Ns).$state,e=o(this,Es,zd).bind(this);this.setAttributes({"data-active":t,"data-supported":e,"aria-hidden":Ue(()=>!e())})}onAttach(t){t.setAttribute("data-media-tooltip","fullscreen"),mn(t,"Fullscreen")}},Ns=new WeakMap,Es=new WeakSet,Qd=function(t){const e=r(this,Ns).remote,n=this.$props.target();o(this,Es,sh).call(this)?e.exitFullscreen(n,t):e.enterFullscreen(n,t)},sh=function(){const{fullscreen:t}=r(this,Ns).$state;return t()},zd=function(){const{canFullscreen:t}=r(this,Ns).$state;return t()},g(ql,"props",{...Jt.props,target:"prefer-media"}),ql);var Ol,qi,He,Yd,ro,Xd;let ow=(Ol=class extends tt{constructor(){super();u(this,He);u(this,qi);new Jt({isPresssed:o(this,He,ro).bind(this),keyShortcut:"toggleMuted",onPress:o(this,He,Yd).bind(this)})}onSetup(){d(this,qi,D()),this.setAttributes({"data-muted":o(this,He,ro).bind(this),"data-state":o(this,He,Xd).bind(this)})}onAttach(t){t.setAttribute("data-media-mute-button",""),t.setAttribute("data-media-tooltip","mute"),mn(t,"Mute")}},qi=new WeakMap,He=new WeakSet,Yd=function(t){const e=r(this,qi).remote;o(this,He,ro).call(this)?e.unmute(t):e.mute(t)},ro=function(){const{muted:t,volume:e}=r(this,qi).$state;return t()||e()===0},Xd=function(){const{muted:t,volume:e}=r(this,qi).$state,n=e();if(t()||n===0)return"muted";if(n>=.5)return"high";if(n<.5)return"low"},g(Ol,"props",Jt.props),Ol);var Dl,Hs,xs,Jd,ih,Zd;let lw=(Dl=class extends tt{constructor(){super();u(this,xs);u(this,Hs);new Jt({isPresssed:o(this,xs,ih).bind(this),keyShortcut:"togglePictureInPicture",onPress:o(this,xs,Jd).bind(this)})}onSetup(){d(this,Hs,D());const{pictureInPicture:t}=r(this,Hs).$state,e=o(this,xs,Zd).bind(this);this.setAttributes({"data-active":t,"data-supported":e,"aria-hidden":Ue(()=>!e())})}onAttach(t){t.setAttribute("data-media-tooltip","pip"),mn(t,"PiP")}},Hs=new WeakMap,xs=new WeakSet,Jd=function(t){const e=r(this,Hs).remote;o(this,xs,ih).call(this)?e.exitPictureInPicture(t):e.enterPictureInPicture(t)},ih=function(){const{pictureInPicture:t}=r(this,Hs).$state;return t()},Zd=function(){const{canPictureInPicture:t}=r(this,Hs).$state;return t()},g(Dl,"props",Jt.props),Dl);var Fs,di,ep,sp,ip;class tp extends tt{constructor(){super();u(this,di);u(this,Fs);new gn}onSetup(){d(this,Fs,D());const{seeking:t}=r(this,Fs).$state,{seconds:e}=this.$props,n=o(this,di,ep).bind(this);this.setAttributes({seconds:e,"data-seeking":t,"data-supported":n,"aria-hidden":Ue(()=>!n())})}onAttach(t){pt(t,"tabindex","0"),pt(t,"role","button"),pt(t,"type","button"),t.setAttribute("data-media-tooltip","seek"),mn(t,o(this,di,sp).bind(this))}onConnect(t){ln(t,o(this,di,ip).bind(this))}}Fs=new WeakMap,di=new WeakSet,ep=function(){const{canSeek:t}=r(this,Fs).$state;return t()},sp=function(){const{seconds:t}=this.$props;return`Seek ${t()>0?"forward":"backward"} ${t()} seconds`},ip=function(t){const{seconds:e,disabled:n}=this.$props;if(n())return;const{currentTime:a}=r(this,Fs).$state,l=a()+e();r(this,Fs).remote.seek(l,t)},g(tp,"props",{disabled:!1,seconds:30});var Oi,Oo,rp;class np extends tt{constructor(){super();u(this,Oo);u(this,Oi);new gn}onSetup(){d(this,Oi,D());const{disabled:t}=this.$props,{live:e,liveEdge:n}=r(this,Oi).$state,a=()=>!e();this.setAttributes({"data-edge":n,"data-hidden":a,"aria-disabled":Ue(()=>t()||n()),"aria-hidden":Ue(a)})}onAttach(t){pt(t,"tabindex","0"),pt(t,"role","button"),pt(t,"type","button"),t.setAttribute("data-media-tooltip","live")}onConnect(t){ln(t,o(this,Oo,rp).bind(this))}}Oi=new WeakMap,Oo=new WeakSet,rp=function(t){const{disabled:e}=this.$props,{liveEdge:n}=r(this,Oi).$state;e()||n()||r(this,Oi).remote.seekToLiveEdge(t)},g(np,"props",{disabled:!1});const zc=new kr({min:0,max:100,value:0,step:1,pointerValue:0,focused:!1,dragging:!1,pointing:!1,hidden:!1,get active(){return this.dragging||this.focused||this.pointing},get fillRate(){return Pu(this.min,this.max,this.value)},get fillPercent(){return this.fillRate*100},get pointerRate(){return Pu(this.min,this.max,this.pointerValue)},get pointerPercent(){return this.pointerRate*100}});function Pu(i,s,t){const e=s-i,n=t-i;return e>0?n/e:0}var xn,Bs,Do,op;class ap extends de{constructor(t){super();u(this,Do);u(this,xn);u(this,Bs);d(this,xn,t)}onConnect(t){d(this,Bs,new IntersectionObserver(e=>{var n,a;(a=(n=r(this,xn)).callback)==null||a.call(n,e,r(this,Bs))},r(this,xn))),r(this,Bs).observe(t),q(o(this,Do,op).bind(this))}}xn=new WeakMap,Bs=new WeakMap,Do=new WeakSet,op=function(){var t;(t=r(this,Bs))==null||t.disconnect(),d(this,Bs,void 0)};const Yc=gi(),Nr=gi();function hw(i,s,t,e){return jc(i,Ee(t,ew(e)),s)}function cw(i,s,t,e){const n=jc(0,t,1),a=s-i,l=a*n,h=l/e,c=e*Math.round(h);return i+c}const Al={Left:-1,ArrowLeft:-1,Up:1,ArrowUp:1,Right:1,ArrowRight:1,Down:-1,ArrowDown:-1};var Pt,Us,Cn,A,lp,Gs,ye,os,hp,cp,up,dp,pp,ao,Os,Lr,fp,mp,gp,yp,oo,nh,Ln,ls,bp,$p,rh,ah,wp,vp,Vo;class uw extends de{constructor(t,e){super();u(this,A);u(this,Pt);u(this,Us);u(this,Cn);u(this,Gs,null);u(this,ye,null);u(this,os,null);u(this,Ln);u(this,ls,!1);u(this,Vo,qa(t=>{o(this,A,Os).call(this,o(this,A,Lr).call(this,t),t)},20,{leading:!0}));d(this,Pt,t),d(this,Us,e)}onSetup(){Be(Nr)&&d(this,Cn,Ot(Nr))}onConnect(t){y(o(this,A,up).bind(this,t)),y(o(this,A,dp).bind(this,t)),r(this,Pt).swipeGesture&&y(o(this,A,lp).bind(this))}}Pt=new WeakMap,Us=new WeakMap,Cn=new WeakMap,A=new WeakSet,lp=function(){var e;const{pointer:t}=r(this,Us).$state;if(t()!=="coarse"||!r(this,Pt).swipeGesture()){d(this,Gs,null);return}d(this,Gs,(e=r(this,Us).player.el)==null?void 0:e.querySelector("media-provider,[data-media-provider]")),r(this,Gs)&&new dt(r(this,Gs)).add("touchstart",o(this,A,hp).bind(this),{passive:!0}).add("touchmove",o(this,A,cp).bind(this),{passive:!1})},Gs=new WeakMap,ye=new WeakMap,os=new WeakMap,hp=function(t){d(this,ye,t.touches[0])},cp=function(t){if(ks(r(this,ye))||Pd(t))return;const e=t.touches[0],n=e.clientX-r(this,ye).clientX,a=e.clientY-r(this,ye).clientY,l=this.$state.dragging();!l&&Math.abs(a)>5||l||(t.preventDefault(),Math.abs(n)>20&&(d(this,ye,e),d(this,os,this.$state.value()),o(this,A,oo).call(this,r(this,os),t)))},up=function(t){const{hidden:e}=this.$props;new dt(t).add("focus",o(this,A,pp).bind(this)).add("keyup",o(this,A,$p).bind(this)).add("keydown",o(this,A,bp).bind(this)),!(e()||r(this,Pt).isDisabled())&&new dt(t).add("pointerenter",o(this,A,fp).bind(this)).add("pointermove",o(this,A,mp).bind(this)).add("pointerleave",o(this,A,gp).bind(this)).add("pointerdown",o(this,A,yp).bind(this))},dp=function(t){r(this,Pt).isDisabled()||!this.$state.dragging()||new dt(document).add("pointerup",o(this,A,wp).bind(this),{capture:!0}).add("pointermove",r(this,Vo).bind(this)).add("touchmove",o(this,A,vp).bind(this),{passive:!1})},pp=function(){o(this,A,Os).call(this,this.$state.value())},ao=function(t,e){var f,m,b,w;const{value:n,min:a,max:l,dragging:h}=this.$state,c=Math.max(a(),Math.min(t,l()));n.set(c);const p=this.createEvent("value-change",{detail:c,trigger:e});if(this.dispatch(p),(m=(f=r(this,Pt)).onValueChange)==null||m.call(f,p),h()){const v=this.createEvent("drag-value-change",{detail:c,trigger:e});this.dispatch(v),(w=(b=r(this,Pt)).onDragValueChange)==null||w.call(b,v)}},Os=function(t,e){const{pointerValue:n,dragging:a}=this.$state;n.set(t),this.dispatch("pointer-value-change",{detail:t,trigger:e}),a()&&o(this,A,ao).call(this,t,e)},Lr=function(t){let e,n=this.el.getBoundingClientRect(),{min:a,max:l}=this.$state;if(this.$props.orientation()==="vertical"){const{bottom:h,height:c}=n;e=(h-t.clientY)/c}else if(r(this,ye)&&Ae(r(this,os))){const{width:h}=r(this,Gs).getBoundingClientRect(),c=(t.clientX-r(this,ye).clientX)/h,p=l()-a(),f=p*Math.abs(c);e=(c<0?r(this,os)-f:r(this,os)+f)/p}else{const{left:h,width:c}=n;e=(t.clientX-h)/c}return Math.max(a(),Math.min(l(),r(this,Pt).roundValue(cw(a(),l(),e,r(this,Pt).getStep()))))},fp=function(t){this.$state.pointing.set(!0)},mp=function(t){const{dragging:e}=this.$state;e()||o(this,A,Os).call(this,o(this,A,Lr).call(this,t),t)},gp=function(t){this.$state.pointing.set(!1)},yp=function(t){if(t.button!==0)return;const e=o(this,A,Lr).call(this,t);o(this,A,oo).call(this,e,t),o(this,A,Os).call(this,e,t)},oo=function(t,e){var l,h,c,p;const{dragging:n}=this.$state;if(n())return;n.set(!0),r(this,Us).remote.pauseControls(e);const a=this.createEvent("drag-start",{detail:t,trigger:e});this.dispatch(a),(h=(l=r(this,Pt)).onDragStart)==null||h.call(l,a),(p=(c=r(this,Cn))==null?void 0:c.onDragStart)==null||p.call(c)},nh=function(t,e){var l,h,c,p;const{dragging:n}=this.$state;if(!n())return;n.set(!1),r(this,Us).remote.resumeControls(e);const a=this.createEvent("drag-end",{detail:t,trigger:e});this.dispatch(a),(h=(l=r(this,Pt)).onDragEnd)==null||h.call(l,a),d(this,ye,null),d(this,os,null),(p=(c=r(this,Cn))==null?void 0:c.onDragEnd)==null||p.call(c)},Ln=new WeakMap,ls=new WeakMap,bp=function(t){if(!Object.keys(Al).includes(t.key))return;const{key:n}=t,a=o(this,A,rh).call(this,t);if(!ks(a)){o(this,A,Os).call(this,a,t),o(this,A,ao).call(this,a,t);return}const l=o(this,A,ah).call(this,t);r(this,ls)||(d(this,ls,n===r(this,Ln)),!this.$state.dragging()&&r(this,ls)&&o(this,A,oo).call(this,l,t)),o(this,A,Os).call(this,l,t),d(this,Ln,n)},$p=function(t){if(!Object.keys(Al).includes(t.key)||!ks(o(this,A,rh).call(this,t)))return;const n=r(this,ls)?this.$state.pointerValue():o(this,A,ah).call(this,t);o(this,A,ao).call(this,n,t),o(this,A,nh).call(this,n,t),d(this,Ln,""),d(this,ls,!1)},rh=function(t){let e=t.key,{min:n,max:a}=this.$state;return e==="Home"||e==="PageUp"?n():e==="End"||e==="PageDown"?a():!t.metaKey&&/^[0-9]$/.test(e)?(a()-n())/10*Number(e):null},ah=function(t){var ht,wt;const{key:e,shiftKey:n}=t;t.preventDefault(),t.stopPropagation();const{shiftKeyMultiplier:a}=this.$props,{min:l,max:h,value:c,pointerValue:p}=this.$state,f=r(this,Pt).getStep(),m=r(this,Pt).getKeyStep(),b=n?m*a():m,w=Number(Al[e]),v=b*w,k=r(this,ls)?p():((wt=(ht=r(this,Pt)).getValue)==null?void 0:wt.call(ht))??c(),G=(k+v)/f;return Math.max(l(),Math.min(h(),Number((f*G).toFixed(3))))},wp=function(t){if(t.button!==0)return;t.preventDefault(),t.stopImmediatePropagation();const e=o(this,A,Lr).call(this,t);o(this,A,Os).call(this,e,t),o(this,A,nh).call(this,e,t)},vp=function(t){t.preventDefault()},Vo=new WeakMap;const Ur=gi(()=>({}));var Yr,Ft,Xr,Jr,kt,Tp,kp,Sp,Ap,Pp,_p,Ep,xp,Ro;class hn extends de{constructor(t){super();u(this,kt);u(this,Yr);u(this,Ft);u(this,Xr,O(!0));u(this,Jr,O(!0));u(this,Ro,fn((t,e)=>{var n,a;(n=this.el)==null||n.style.setProperty("--slider-fill",t+"%"),(a=this.el)==null||a.style.setProperty("--slider-pointer",e+"%")}));d(this,Ft,t)}onSetup(){d(this,Yr,D());const t=new gn;t.attach(this),this.$state.focused=t.focused.bind(t),Be(Ur)||xe(Ur,{default:"value"}),xe(Yc,{orientation:this.$props.orientation,disabled:r(this,Ft).isDisabled,preview:O(null)}),y(o(this,kt,Sp).bind(this)),y(o(this,kt,Ap).bind(this)),y(o(this,kt,Pp).bind(this)),o(this,kt,Ep).call(this),new uw(r(this,Ft),r(this,Yr)).attach(this),new ap({callback:o(this,kt,Tp).bind(this)}).attach(this)}onAttach(t){pt(t,"role","slider"),pt(t,"tabindex","0"),pt(t,"autocomplete","off"),y(o(this,kt,xp).bind(this))}onConnect(t){q(Sd(t,r(this,Xr).set)),y(o(this,kt,kp).bind(this))}}Yr=new WeakMap,Ft=new WeakMap,Xr=new WeakMap,Jr=new WeakMap,kt=new WeakSet,Tp=function(t){r(this,Jr).set(t[0].isIntersecting)},kp=function(){const{hidden:t}=this.$props;this.$state.hidden.set(t()||!r(this,Xr).call(this)||!r(this,Jr).bind(this))},Sp=function(){const{dragging:t,value:e,min:n,max:a}=this.$state;S(t)||e.set(hw(n(),a(),e(),r(this,Ft).getStep()))},Ap=function(){this.$state.step.set(r(this,Ft).getStep())},Pp=function(){if(!r(this,Ft).isDisabled())return;const{dragging:t,pointing:e}=this.$state;t.set(!1),e.set(!1)},_p=function(){return ko(r(this,Ft).isDisabled())},Ep=function(){const{orientation:t}=this.$props,{dragging:e,active:n,pointing:a}=this.$state;this.setAttributes({"data-dragging":e,"data-pointing":a,"data-active":n,"aria-disabled":o(this,kt,_p).bind(this),"aria-valuemin":r(this,Ft).aria.valueMin??this.$state.min,"aria-valuemax":r(this,Ft).aria.valueMax??this.$state.max,"aria-valuenow":r(this,Ft).aria.valueNow,"aria-valuetext":r(this,Ft).aria.valueText,"aria-orientation":t})},xp=function(){const{fillPercent:t,pointerPercent:e}=this.$state;r(this,Ro).call(this,Ee(t(),3),Ee(e(),3))},Ro=new WeakMap,g(hn,"props",{hidden:!1,disabled:!1,step:1,keyStep:1,orientation:"horizontal",shiftKeyMultiplier:5});var ze,Cp,Lp,Mp,Ip;class Gr extends tt{constructor(){super();u(this,ze);new hn({getStep:this.$props.step,getKeyStep:this.$props.keyStep,roundValue:Math.round,isDisabled:this.$props.disabled,aria:{valueNow:o(this,ze,Cp).bind(this),valueText:o(this,ze,Lp).bind(this)}})}onSetup(){y(o(this,ze,Mp).bind(this)),y(o(this,ze,Ip).bind(this))}}ze=new WeakSet,Cp=function(){const{value:t}=this.$state;return Math.round(t())},Lp=function(){const{value:t,max:e}=this.$state;return Ee(t()/e()*100,2)+"%"},Mp=function(){const{value:t}=this.$props;this.$state.value.set(t())},Ip=function(){const{min:t,max:e}=this.$props;this.$state.min.set(t()),this.$state.max.set(e())},g(Gr,"props",{...hn.props,min:0,max:100,value:0}),g(Gr,"state",zc);const ss=new Map,Ja=new Map;var Zr,Mn,ta,ot,qp,Op,lh,hh,ch,uh,Dp,lo;const au=class au{constructor(s,t,e){u(this,ot);u(this,Zr);u(this,Mn);u(this,ta);g(this,"$images",O([]));d(this,Mn,s),d(this,ta,t),d(this,Zr,e),y(o(this,ot,qp).bind(this))}static create(s,t){const e=D();return new au(s,t,e)}};Zr=new WeakMap,Mn=new WeakMap,ta=new WeakMap,ot=new WeakSet,qp=function(){var e;const{canLoad:s}=r(this,Zr).$state;if(!s())return;const t=r(this,Mn).call(this);if(t){if(x(t)&&ss.has(t)){const n=ss.get(t);if(ss.delete(t),ss.set(t,n),ss.size>99){const a=ss.keys().next().value;ss.delete(a)}this.$images.set(ss.get(t))}else if(x(t)){const n=r(this,ta).call(this),a=t+"::"+n;if(!Ja.has(a)){const l=new Promise(async(h,c)=>{try{const p=await fetch(t,{credentials:Rr(n)});if(p.headers.get("content-type")==="application/json"){const m=await p.json();if(Lt(m))if(m[0]&&"text"in m[0])h(o(this,ot,hh).call(this,m));else{for(let b=0;b<m.length;b++){const w=m[b];es(Ib(w),!1),es("url"in w&&x(w.url),!1),es("startTime"in w&&Ae(w.startTime),!1)}h(m)}else h(o(this,ot,lh).call(this,m));return}qt(()=>import("./prod-rX7P05QU.js").then(m=>m.d),__vite__mapDeps([0,1,2,3,4])).then(async({parseResponse:m})=>{try{const{cues:b}=await m(p);h(o(this,ot,hh).call(this,b))}catch(b){c(b)}})}catch(p){c(p)}}).then(h=>(ss.set(a,h),h)).catch(h=>{o(this,ot,lo).call(this,t,h)}).finally(()=>{x(a)&&Ja.delete(a)});Ja.set(a,l)}(e=Ja.get(a))==null||e.then(l=>{this.$images.set(l||[])})}else if(Lt(t))try{this.$images.set(o(this,ot,Op).call(this,t))}catch(n){o(this,ot,lo).call(this,t,n)}else try{this.$images.set(o(this,ot,lh).call(this,t))}catch(n){o(this,ot,lo).call(this,t,n)}return()=>{this.$images.set([])}}},Op=function(s){const t=o(this,ot,ch).call(this);return s.map((e,n)=>(es(e.url&&x(e.url)),es("startTime"in e&&Ae(e.startTime)),{...e,url:x(e.url)?o(this,ot,uh).call(this,e.url,t):e.url}))},lh=function(s){var l;es(x(s.url)),es(Lt(s.tiles)&&((l=s.tiles)==null?void 0:l.length));const t=new URL(s.url),e=[],n="tile_width"in s?s.tile_width:s.tileWidth,a="tile_height"in s?s.tile_height:s.tileHeight;for(const h of s.tiles)e.push({url:t,startTime:"start"in h?h.start:h.startTime,width:n,height:a,coords:{x:h.x,y:h.y}});return e},hh=function(s){for(let n=0;n<s.length;n++){const a=s[n];es("startTime"in a&&Ae(a.startTime)),es("text"in a&&x(a.text))}const t=[],e=o(this,ot,ch).call(this);for(const n of s){const[a,l]=n.text.split("#"),h=o(this,ot,Dp).call(this,l);t.push({url:o(this,ot,uh).call(this,a,e),startTime:n.startTime,endTime:n.endTime,width:h==null?void 0:h.w,height:h==null?void 0:h.h,coords:h&&Ae(h.x)&&Ae(h.y)?{x:h.x,y:h.y}:void 0})}return t},ch=function(){let s=S(r(this,Mn));return!x(s)||!/^https?:/.test(s)?location.href:s},uh=function(s,t){return/^https?:/.test(s)?new URL(s):new URL(s,t)},Dp=function(s){if(!s)return{};const[t,e]=s.split("="),n=e==null?void 0:e.split(","),a={};if(!t||!n)return null;for(let l=0;l<t.length;l++){const h=+n[l];isNaN(h)||(a[t[l]]=h)}return a},lo=function(s,t){};let oh=au;var In,qn,H,Vp,ph,Rp,Np,Hp,Fp,fh,Bp,Up,mh,wi,Gp;class dh extends tt{constructor(){super(...arguments);u(this,H);g(this,"media");u(this,In);u(this,qn,[])}onSetup(){this.media=D(),d(this,In,oh.create(this.$props.src,this.$state.crossOrigin)),o(this,H,ph).call(this),this.setAttributes({"data-loading":o(this,H,Fp).bind(this),"data-error":o(this,H,fh).bind(this),"data-hidden":this.$state.hidden,"aria-hidden":Ue(this.$state.hidden)})}onConnect(t){y(o(this,H,Vp).bind(this)),y(o(this,H,Bp).bind(this)),y(o(this,H,ph).bind(this)),y(o(this,H,Rp).bind(this)),y(o(this,H,Up).bind(this)),y(o(this,H,mh).bind(this))}getTime(){return this.$props.time()}}In=new WeakMap,qn=new WeakMap,H=new WeakSet,Vp=function(){const t=this.$state.img();t&&new dt(t).add("load",o(this,H,Np).bind(this)).add("error",o(this,H,Hp).bind(this))},ph=function(){const{crossOrigin:t}=this.$props,{crossOrigin:e}=this.$state,{crossOrigin:n}=this.media.$state,a=t()!==null?t():n();e.set(a===!0?"anonymous":a)},Rp=function(){const{src:t,loading:e,error:n}=this.$state;return t()&&(e.set(!0),n.set(null)),()=>{o(this,H,Gp).call(this),e.set(!1),n.set(null)}},Np=function(){const{loading:t,error:e}=this.$state;o(this,H,mh).call(this),t.set(!1),e.set(null)},Hp=function(t){const{loading:e,error:n}=this.$state;e.set(!1),n.set(t)},Fp=function(){const{loading:t,hidden:e}=this.$state;return!e()&&t()},fh=function(){const{error:t}=this.$state;return!ks(t())},Bp=function(){const{hidden:t}=this.$state,{duration:e}=this.media.$state,n=r(this,In).$images();t.set(o(this,H,fh).call(this)||!Number.isFinite(e())||n.length===0)},Up=function(){let t=r(this,In).$images();if(!t.length)return;let e=this.getTime(),{src:n,activeThumbnail:a}=this.$state,l=-1,h=null;for(let c=t.length-1;c>=0;c--){const p=t[c];if(e>=p.startTime&&(!p.endTime||e<p.endTime)){l=c;break}}t[l]&&(h=t[l]),a.set(h),n.set((h==null?void 0:h.url.href)||"")},mh=function(){if(!this.scope||this.$state.hidden())return;const t=this.el,e=this.$state.img(),n=this.$state.activeThumbnail();if(!e||!n||!t)return;let a=n.width??e.naturalWidth,l=(n==null?void 0:n.height)??e.naturalHeight,{maxWidth:h,maxHeight:c,minWidth:p,minHeight:f,width:m,height:b}=getComputedStyle(this.el);p==="100%"&&(p=parseFloat(m)+""),f==="100%"&&(f=parseFloat(b)+"");let w=Math.max(parseInt(p)/a,parseInt(f)/l),v=Math.min(Math.max(parseInt(p),parseInt(h))/a,Math.max(parseInt(f),parseInt(c))/l),k=!isNaN(v)&&v<1?v:w>1?w:1;o(this,H,wi).call(this,t,"--thumbnail-width",`${a*k}px`),o(this,H,wi).call(this,t,"--thumbnail-height",`${l*k}px`),o(this,H,wi).call(this,e,"width",`${e.naturalWidth*k}px`),o(this,H,wi).call(this,e,"height",`${e.naturalHeight*k}px`),o(this,H,wi).call(this,e,"transform",n.coords?`translate(-${n.coords.x*k}px, -${n.coords.y*k}px)`:""),o(this,H,wi).call(this,e,"max-width","none")},wi=function(t,e,n){t.style.setProperty(e,n),r(this,qn).push(()=>t.style.removeProperty(e))},Gp=function(){for(const t of r(this,qn))t();d(this,qn,[])},g(dh,"props",{src:null,time:0,crossOrigin:null}),g(dh,"state",new kr({src:"",img:null,thumbnails:[],activeThumbnail:null,crossOrigin:null,loading:!1,error:null,hidden:!1}));var Ks,No,ea;class Xc extends tt{constructor(){super(...arguments);u(this,Ks);u(this,No);u(this,ea)}onSetup(){d(this,ea,Bc(Gr.state)),d(this,Ks,Ot(Ur)),d(this,No,_s(this.getValueText.bind(this)))}getValueText(){var k,G;const{type:t,format:e,decimalPlaces:n,padHours:a,padMinutes:l,showHours:h,showMs:c}=this.$props,{value:p,pointerValue:f,min:m,max:b}=r(this,ea),w=(e==null?void 0:e())??r(this,Ks).default,v=t()==="current"?p():f();if(w==="percent"){const ht=b()-m(),wt=v/ht*100;return(r(this,Ks).percent??Ee)(wt,n())+"%"}else return w==="time"?(r(this,Ks).time??Qc)(v,{padHrs:a(),padMins:l(),showHrs:h(),showMs:c()}):(((G=(k=r(this,Ks)).value)==null?void 0:G.call(k,v))??v.toFixed(2))+""}}Ks=new WeakMap,No=new WeakMap,ea=new WeakMap,g(Xc,"props",{type:"pointer",format:null,showHours:!1,showMs:!1,padHours:null,padMinutes:null,decimalPlaces:2});const dw=Xc.prototype;$t(dw,"getValueText");var On,sa;class Kp extends tt{constructor(){super(...arguments);u(this,On);u(this,sa,fn(()=>{const{disabled:t,orientation:e}=r(this,On);if(t())return;const n=this.el,{offset:a,noClamp:l}=this.$props;n&&pw(n,{clamp:!l(),offset:a(),orientation:e()})}))}onSetup(){d(this,On,Ot(Yc));const{active:t}=Bc(Gr.state);this.setAttributes({"data-visible":t})}onAttach(t){Object.assign(t.style,{position:"absolute",top:0,left:0,width:"max-content"})}onConnect(t){const{preview:e}=r(this,On);e.set(t),q(()=>e.set(null)),y(r(this,sa).bind(this));const n=new ResizeObserver(r(this,sa).bind(this));n.observe(t),q(()=>n.disconnect())}}On=new WeakMap,sa=new WeakMap,g(Kp,"props",{offset:0,noClamp:!1});function pw(i,{clamp:s,offset:t,orientation:e}){const n=getComputedStyle(i),a=parseFloat(n.width),l=parseFloat(n.height),h={top:null,right:null,bottom:null,left:null};if(h[e==="horizontal"?"bottom":"left"]=`calc(100% + var(--media-slider-preview-offset, ${t}px))`,e==="horizontal"){const c=a/2;if(!s)h.left=`calc(var(--slider-pointer) - ${c}px)`;else{const p=`max(0px, calc(var(--slider-pointer) - ${c}px))`,f=`calc(100% - ${a}px)`;h.left=`min(${p}, ${f})`}}else{const c=l/2;if(!s)h.bottom=`calc(var(--slider-pointer) - ${c}px)`;else{const p=`max(${c}px, calc(var(--slider-pointer) - ${c}px))`,f=`calc(100% - ${l}px)`;h.bottom=`min(${p}, ${f})`}}Object.assign(i.style,h)}var eo,se,St,Wp,jp,Qp,zp,Yp,ia,Xp,Jp,Zp;let fw=(eo=class extends tt{constructor(){super(...arguments);u(this,St);u(this,se);u(this,ia,qa(o(this,St,Xp).bind(this),25))}onSetup(){d(this,se,D());const{audioGain:t}=r(this,se).$state;xe(Ur,{default:"percent",value(e){return(e*(t()??1)).toFixed(2)},percent(e){return Math.round(e*(t()??1))}}),new hn({getStep:this.$props.step,getKeyStep:this.$props.keyStep,roundValue:Math.round,isDisabled:o(this,St,zp).bind(this),aria:{valueMax:o(this,St,Qp).bind(this),valueNow:o(this,St,Wp).bind(this),valueText:o(this,St,jp).bind(this)},onDragValueChange:o(this,St,Zp).bind(this),onValueChange:o(this,St,Jp).bind(this)}).attach(this),y(o(this,St,Yp).bind(this))}onAttach(t){t.setAttribute("data-media-volume-slider",""),pt(t,"aria-label","Volume");const{canSetVolume:e}=r(this,se).$state;this.setAttributes({"data-supported":e,"aria-hidden":Ue(()=>!e())})}},se=new WeakMap,St=new WeakSet,Wp=function(){const{value:t}=this.$state,{audioGain:e}=r(this,se).$state;return Math.round(t()*(e()??1))},jp=function(){const{value:t,max:e}=this.$state,{audioGain:n}=r(this,se).$state;return Ee(t()/e()*(n()??1)*100,2)+"%"},Qp=function(){const{audioGain:t}=r(this,se).$state;return this.$state.max()*(t()??1)},zp=function(){const{disabled:t}=this.$props,{canSetVolume:e}=r(this,se).$state;return t()||!e()},Yp=function(){const{muted:t,volume:e}=r(this,se).$state,n=t()?0:e()*100;this.$state.value.set(n),this.dispatch("value-change",{detail:n})},ia=new WeakMap,Xp=function(t){if(!t.trigger)return;const e=Ee(t.detail/100,3);r(this,se).remote.changeVolume(e,t)},Jp=function(t){r(this,ia).call(this,t)},Zp=function(t){r(this,ia).call(this,t)},g(eo,"props",{...hn.props,keyStep:5,shiftKeyMultiplier:2}),g(eo,"state",zc),eo);var so,it,Dn,na,P,tf,ef,sf,nf,rf,gh,af,Vn,of,lf,yh,hf,bh,cf,uf,df,pf,ff,mf,vi,gf,yf,bf;let mw=(so=class extends tt{constructor(){super();u(this,P);u(this,it);u(this,Dn);u(this,na,O(null));u(this,Vn,!1);const{noSwipeGesture:t}=this.$props;new hn({swipeGesture:()=>!t(),getValue:o(this,P,bh).bind(this),getStep:o(this,P,cf).bind(this),getKeyStep:o(this,P,uf).bind(this),roundValue:o(this,P,df),isDisabled:o(this,P,pf).bind(this),aria:{valueNow:o(this,P,ff).bind(this),valueText:o(this,P,mf).bind(this)},onDragStart:o(this,P,of).bind(this),onDragValueChange:o(this,P,lf).bind(this),onDragEnd:o(this,P,yh).bind(this),onValueChange:o(this,P,hf).bind(this)})}onSetup(){d(this,it,D()),xe(Ur,{default:"time",value:o(this,P,yf).bind(this),time:o(this,P,bf).bind(this)}),this.setAttributes({"data-chapters":o(this,P,ef).bind(this)}),this.setStyles({"--slider-progress":o(this,P,tf).bind(this)}),y(o(this,P,nf).bind(this)),y(o(this,P,sf).bind(this))}onAttach(t){t.setAttribute("data-media-time-slider",""),pt(t,"aria-label","Seek")}onConnect(t){y(o(this,P,rf).bind(this)),K$(r(this,it).textTracks,"chapters",r(this,na).set)}},it=new WeakMap,Dn=new WeakMap,na=new WeakMap,P=new WeakSet,tf=function(){const{bufferedEnd:t,duration:e}=r(this,it).$state;return Ee(Math.min(t()/Math.max(e(),1),1)*100,3)+"%"},ef=function(){var e;const{duration:t}=r(this,it).$state;return((e=r(this,na).call(this))==null?void 0:e.cues.length)&&Number.isFinite(t())&&t()>0},sf=function(){d(this,Dn,qa(o(this,P,gh).bind(this),this.$props.seekingRequestThrottle()))},nf=function(){if(this.$state.hidden())return;const{value:t,dragging:e}=this.$state,n=o(this,P,bh).call(this);S(e)||(t.set(n),this.dispatch("value-change",{detail:n}))},rf=function(){const t=r(this,it).player.el,{preview:e}=Ot(Yc);t&&e()&&C(t,"data-preview",this.$state.active())},gh=function(t,e){r(this,it).remote.seeking(t,e)},af=function(t,e,n){r(this,Dn).cancel();const{live:a}=r(this,it).$state;if(a()&&e>=99){r(this,it).remote.seekToLiveEdge(n);return}r(this,it).remote.seek(t,n)},Vn=new WeakMap,of=function(t){const{pauseWhileDragging:e}=this.$props;if(e()){const{paused:n}=r(this,it).$state;d(this,Vn,!n()),r(this,it).remote.pause(t)}},lf=function(t){r(this,Dn).call(this,o(this,P,vi).call(this,t.detail),t)},yh=function(t){const{seeking:e}=r(this,it).$state;S(e)||o(this,P,gh).call(this,o(this,P,vi).call(this,t.detail),t);const n=t.detail;o(this,P,af).call(this,o(this,P,vi).call(this,n),n,t);const{pauseWhileDragging:a}=this.$props;a()&&r(this,Vn)&&(r(this,it).remote.play(t),d(this,Vn,!1))},hf=function(t){const{dragging:e}=this.$state;e()||!t.trigger||o(this,P,yh).call(this,t)},bh=function(){const{currentTime:t}=r(this,it).$state;return o(this,P,gf).call(this,t())},cf=function(){const t=this.$props.step()/r(this,it).$state.duration()*100;return Number.isFinite(t)?t:1},uf=function(){const t=this.$props.keyStep()/r(this,it).$state.duration()*100;return Number.isFinite(t)?t:1},df=function(t){return Ee(t,3)},pf=function(){const{disabled:t}=this.$props,{canSeek:e}=r(this,it).$state;return t()||!e()},ff=function(){const{value:t}=this.$state;return Math.round(t())},mf=function(){const t=o(this,P,vi).call(this,this.$state.value()),{duration:e}=r(this,it).$state;return Number.isFinite(t)?`${Au(t)} out of ${Au(e())}`:"live"},vi=function(t){const{duration:e}=r(this,it).$state;return Ee(t/100*e(),5)},gf=function(t){const{liveEdge:e,duration:n}=r(this,it).$state,a=Math.max(0,Math.min(1,e()?1:Math.min(t,n())/n()));return Number.isNaN(a)?0:Number.isFinite(a)?a*100:100},yf=function(t){const e=o(this,P,vi).call(this,t),{live:n,duration:a}=r(this,it).$state;return Number.isFinite(e)?(n()?e-a():e).toFixed(0):"LIVE"},bf=function(t,e){const n=o(this,P,vi).call(this,t),{live:a,duration:l}=r(this,it).$state,h=a()?n-l():n;return Number.isFinite(n)?`${h<0?"-":""}${Qc(Math.abs(h),e)}`:"LIVE"},g(so,"props",{...hn.props,step:.1,keyStep:5,shiftKeyMultiplier:2,pauseWhileDragging:!1,noSwipeGesture:!1,seekingRequestThrottle:100}),g(so,"state",zc),so);const Wt=gi();function gw(i,s){const t=e$(i,s);for(const{el:e,top:n,left:a}of t)e.scroll({top:n,left:a,behavior:s.behavior})}function yw(i,s={}){gw(i,{scrollMode:"if-needed",block:"center",inline:"center",...s})}const bw=["a[href]","[tabindex]","input","select","button"].map(i=>`${i}:not([aria-hidden='true'])`).join(","),$w=new Set(["Escape","Tab","ArrowUp","ArrowDown","Home","PageUp","End","PageDown","Enter"," "]);var Ws,be,Bt,ra,Z,Ti,$h,$f,wh,wf,vf,ho,Tf;class ww{constructor(s){u(this,Z);u(this,Ws,-1);u(this,be,null);u(this,Bt,[]);u(this,ra);d(this,ra,s)}get items(){return r(this,Bt)}attachMenu(s){ae(s,"focus",o(this,Z,$f).bind(this)),d(this,be,s),q(()=>{d(this,be,null)})}listen(){r(this,be)&&(this.update(),new dt(r(this,be)).add("keyup",o(this,Z,wf).bind(this)).add("keydown",o(this,Z,vf).bind(this)),q(()=>{d(this,Ws,-1),d(this,Bt,[])}))}update(){d(this,Ws,0),d(this,Bt,o(this,Z,Tf).call(this))}scroll(s=o(this,Z,$h).call(this)){const t=r(this,Bt)[s];t&&requestAnimationFrame(()=>{requestAnimationFrame(()=>{yw(t,{behavior:"smooth",boundary:e=>!e.hasAttribute("data-root")})})})}focusActive(s=!0){const t=o(this,Z,$h).call(this);o(this,Z,Ti).call(this,t>=0?t:0,s)}}Ws=new WeakMap,be=new WeakMap,Bt=new WeakMap,ra=new WeakMap,Z=new WeakSet,Ti=function(s,t=!0){var e;d(this,Ws,s),r(this,Bt)[s]?(r(this,Bt)[s].focus({preventScroll:!0}),t&&this.scroll(s)):(e=r(this,be))==null||e.focus({preventScroll:!0})},$h=function(){return r(this,Bt).findIndex(s=>document.activeElement===s||s.getAttribute("role")==="menuitemradio"&&s.getAttribute("aria-checked")==="true")},$f=function(){r(this,Ws)>=0||(this.update(),this.focusActive())},wh=function(s){const t=s.target;if(Nb(s)&&t instanceof Element){const e=t.getAttribute("role");return!/a|input|select|button/.test(t.localName)&&!e}return $w.has(s.key)},wf=function(s){o(this,Z,wh).call(this,s)&&(s.stopPropagation(),s.preventDefault())},vf=function(s){if(o(this,Z,wh).call(this,s))switch(s.stopPropagation(),s.preventDefault(),s.key){case"Escape":r(this,ra).closeMenu(s);break;case"Tab":o(this,Z,Ti).call(this,o(this,Z,ho).call(this,s.shiftKey?-1:1));break;case"ArrowUp":o(this,Z,Ti).call(this,o(this,Z,ho).call(this,-1));break;case"ArrowDown":o(this,Z,Ti).call(this,o(this,Z,ho).call(this,1));break;case"Home":case"PageUp":o(this,Z,Ti).call(this,0);break;case"End":case"PageDown":o(this,Z,Ti).call(this,r(this,Bt).length-1);break}},ho=function(s){var e;let t=r(this,Ws);do t=(t+s+r(this,Bt).length)%r(this,Bt).length;while(((e=r(this,Bt)[t])==null?void 0:e.offsetParent)===null);return t},Tf=function(){if(!r(this,be))return[];const s=r(this,be).querySelectorAll(bw),t=[],e=n=>n.getAttribute("role")==="menu";for(const n of s)So(n)&&n.offsetParent!==null&&Ad(r(this,be),n,e)&&t.push(n);return t};var vw=Object.defineProperty,Tw=Object.getOwnPropertyDescriptor,Va=(i,s,t,e)=>{for(var n=Tw(s,t),a=i.length-1,l;a>=0;a--)(l=i[a])&&(n=l(s,t,n)||n);return n&&vw(s,t,n),n};let kw=0;var Vl,$e,Rn,Nn,Vt,aa,qe,vt,js,Qs,Di,Vi,hs,Ri,oa,Ni,_,kf,Sf,Af,Pf,_f,vh,Ef,Hn,xf,Th,Cf,Mr,Lf,Mf,If,qf,Of,Df,Ho,Vf,Fn,Fo,Rf,Bo,Nf,Bn,Un,Hf;let Sr=(Vl=class extends tt{constructor(){super();u(this,_);u(this,$e);u(this,Rn);u(this,Nn);u(this,Vt,O(!1));u(this,aa,O(!1));u(this,qe,O(null));u(this,vt,O(null));u(this,js);u(this,Qs,new Set);u(this,Di,null);u(this,Vi);u(this,hs);u(this,Ri,!1);u(this,oa,O(!1));u(this,Ni,new Set);u(this,Hn,!1);u(this,Ho,o(this,_,Vf).bind(this));u(this,Fn,!1);u(this,Fo,o(this,_,Rf).bind(this));u(this,Bo,o(this,_,Nf).bind(this));u(this,Bn,fn(()=>{const t=S(r(this,vt));if(!t)return;let e=0,n=getComputedStyle(t),a=[...t.children];for(const l of["paddingTop","paddingBottom","borderTopWidth","borderBottomWidth"])e+=parseFloat(n[l])||0;for(const l of a)if(So(l)&&l.style.display==="contents")a.push(...l.children);else if(l.nodeType===3)e+=parseFloat(getComputedStyle(l).fontSize);else if(So(l)){if(!kd(l))continue;const h=getComputedStyle(l);e+=l.offsetHeight+(parseFloat(h.marginTop)||0)+(parseFloat(h.marginBottom)||0)}Ps(t,"--menu-height",e+"px")}));u(this,Un,!1);const{showDelay:t}=this.$props;d(this,Vi,new iw({trigger:r(this,qe),content:r(this,vt),showDelay:t,listen:(e,n,a)=>{ln(e,h=>{r(this,Vt).call(this)?a(h):n(h)});const l=o(this,_,qf).call(this);l&&ln(l,h=>{h.stopPropagation(),a(h)})},onChange:o(this,_,xf).bind(this)}))}get triggerElement(){return r(this,qe).call(this)}get contentElement(){return r(this,vt).call(this)}get isSubmenu(){return!!r(this,js)}onSetup(){d(this,$e,D());const t=++kw;d(this,Rn,`media-menu-${t}`),d(this,Nn,`media-menu-button-${t}`),d(this,hs,new ww({closeMenu:this.close.bind(this)})),Be(Wt)&&d(this,js,Ot(Wt)),o(this,_,kf).call(this),this.setAttributes({"data-open":r(this,Vt),"data-root":!this.isSubmenu,"data-submenu":this.isSubmenu,"data-disabled":o(this,_,Mr).bind(this)}),xe(Wt,{button:r(this,qe),content:r(this,vt),expanded:r(this,Vt),hint:O(""),submenu:!!r(this,js),disable:o(this,_,Lf).bind(this),attachMenuButton:o(this,_,Af).bind(this),attachMenuItems:o(this,_,Pf).bind(this),attachObserver:o(this,_,_f).bind(this),disableMenuButton:o(this,_,Ef).bind(this),addSubmenu:o(this,_,Df).bind(this),onTransitionEvent:e=>{r(this,Ni).add(e),q(()=>{r(this,Ni).delete(e)})}})}onAttach(t){t.style.setProperty("display","contents")}onConnect(t){var e;y(o(this,_,Sf).bind(this)),this.isSubmenu&&((e=r(this,js))==null||e.addSubmenu(this))}onDestroy(){r(this,qe).set(null),r(this,vt).set(null),d(this,Di,null),r(this,Ni).clear()}open(t){S(r(this,Vt))||(r(this,Vi).show(t),ci())}close(t){S(r(this,Vt))&&(r(this,Vi).hide(t),ci())}},$e=new WeakMap,Rn=new WeakMap,Nn=new WeakMap,Vt=new WeakMap,aa=new WeakMap,qe=new WeakMap,vt=new WeakMap,js=new WeakMap,Qs=new WeakMap,Di=new WeakMap,Vi=new WeakMap,hs=new WeakMap,Ri=new WeakMap,oa=new WeakMap,Ni=new WeakMap,_=new WeakSet,kf=function(){let t=-1,e=Be(Nr)?Ot(Nr):null;xe(Nr,{onDragStart:()=>{var n;(n=e==null?void 0:e.onDragStart)==null||n.call(e),window.clearTimeout(t),t=-1,d(this,Ri,!0)},onDragEnd:()=>{var n;(n=e==null?void 0:e.onDragEnd)==null||n.call(e),t=window.setTimeout(()=>{d(this,Ri,!1),t=-1},300)}})},Sf=function(){const t=o(this,_,Cf).call(this);this.isSubmenu||r(this,Bn).call(this),o(this,_,vh).call(this,t),t&&(y(()=>{const{height:e}=r(this,$e).$state,n=r(this,vt).call(this);n&&Ps(n,"--player-height",e()+"px")}),r(this,hs).listen(),this.listen("pointerup",o(this,_,Mf).bind(this)),ae(window,"pointerup",o(this,_,If).bind(this)))},Af=function(t){const e=t.el,n=this.isSubmenu,a=Ue(o(this,_,Mr).bind(this));pt(e,"tabindex",n?"-1":"0"),pt(e,"role",n?"menuitem":"button"),C(e,"id",r(this,Nn)),C(e,"aria-haspopup","menu"),C(e,"aria-expanded","false"),C(e,"data-root",!this.isSubmenu),C(e,"data-submenu",this.isSubmenu),y(()=>{C(e,"data-open",r(this,Vt).call(this)),C(e,"aria-disabled",a())}),r(this,qe).set(e),q(()=>{r(this,qe).set(null)})},Pf=function(t){var l;const e=t.el;e.style.setProperty("display","none"),C(e,"id",r(this,Rn)),pt(e,"role","menu"),pt(e,"tabindex","-1"),C(e,"data-root",!this.isSubmenu),C(e,"data-submenu",this.isSubmenu),r(this,vt).set(e),q(()=>r(this,vt).set(null)),y(()=>C(e,"data-open",r(this,Vt).call(this))),r(this,hs).attachMenu(e),o(this,_,vh).call(this,!1);const a=o(this,_,Hf).bind(this);this.isSubmenu?(l=r(this,js))==null||l.onTransitionEvent(a):(t.listen("transitionstart",a),t.listen("transitionend",a),t.listen("animationend",r(this,Bn)),t.listen("vds-menu-resize",r(this,Bn)))},_f=function(t){d(this,Di,t)},vh=function(t){const e=S(r(this,vt));e&&C(e,"aria-hidden",ko(!t))},Ef=function(t){r(this,oa).set(t)},Hn=new WeakMap,xf=function(t,e){var l,h,c,p,f,m;if(d(this,Hn,Tr(e)),e==null||e.stopPropagation(),r(this,Vt).call(this)===t)return;if(o(this,_,Mr).call(this)){t&&r(this,Vi).hide(e);return}(l=this.el)==null||l.dispatchEvent(new Event("vds-menu-resize",{bubbles:!0,composed:!0}));const n=r(this,qe).call(this),a=r(this,vt).call(this);if(n&&(C(n,"aria-controls",t&&r(this,Rn)),C(n,"aria-expanded",ko(t))),a&&C(a,"aria-labelledby",t&&r(this,Nn)),r(this,Vt).set(t),o(this,_,Of).call(this,e),ci(),r(this,Hn)){t?a==null||a.focus():n==null||n.focus();for(const b of[this.el,a])b&&b.setAttribute("data-keyboard","")}else for(const b of[this.el,a])b&&b.removeAttribute("data-keyboard");if(this.dispatch(t?"open":"close",{trigger:e}),t)!this.isSubmenu&&r(this,$e).activeMenu!==this&&((h=r(this,$e).activeMenu)==null||h.close(e),r(this,$e).activeMenu=this),(p=(c=r(this,Di))==null?void 0:c.onOpen)==null||p.call(c,e);else{if(this.isSubmenu)for(const b of r(this,Qs))b.close(e);else r(this,$e).activeMenu=null;(m=(f=r(this,Di))==null?void 0:f.onClose)==null||m.call(f,e)}t&&requestAnimationFrame(o(this,_,Th).bind(this))},Th=function(){r(this,Un)||r(this,Fn)||(r(this,hs).update(),requestAnimationFrame(()=>{r(this,Hn)?r(this,hs).focusActive():r(this,hs).scroll()}))},Cf=function(){return!o(this,_,Mr).call(this)&&r(this,Vt).call(this)},Mr=function(){return r(this,aa).call(this)||r(this,oa).call(this)},Lf=function(t){r(this,aa).set(t)},Mf=function(t){const e=r(this,vt).call(this);r(this,Ri)||e&&Tu(e,t)||t.stopPropagation()},If=function(t){const e=r(this,vt).call(this);r(this,Ri)||e&&Tu(e,t)||this.close(t)},qf=function(){var e;const t=(e=this.el)==null?void 0:e.querySelector('[data-part="close-target"]');return this.el&&t&&Ad(this.el,t,n=>n.getAttribute("role")==="menu")?t:null},Of=function(t){this.isSubmenu||(r(this,Vt).call(this)?r(this,$e).remote.pauseControls(t):r(this,$e).remote.resumeControls(t))},Df=function(t){r(this,Qs).add(t),new dt(t).add("open",r(this,Fo)).add("close",r(this,Bo)),q(r(this,Ho))},Ho=new WeakMap,Vf=function(t){r(this,Qs).delete(t)},Fn=new WeakMap,Fo=new WeakMap,Rf=function(t){var n;d(this,Fn,!0);const e=r(this,vt).call(this);this.isSubmenu&&((n=this.triggerElement)==null||n.setAttribute("aria-hidden","true"));for(const a of r(this,Qs))if(a!==t.target)for(const l of[a.el,a.triggerElement])l==null||l.setAttribute("aria-hidden","true");if(e){const a=t.target.el;for(const l of e.children)l.contains(a)?l.setAttribute("data-open",""):l!==a&&l.setAttribute("data-hidden","")}},Bo=new WeakMap,Nf=function(t){var n;d(this,Fn,!1);const e=r(this,vt).call(this);this.isSubmenu&&((n=this.triggerElement)==null||n.setAttribute("aria-hidden","false"));for(const a of r(this,Qs))for(const l of[a.el,a.triggerElement])l==null||l.setAttribute("aria-hidden","false");if(e)for(const a of e.children)a.removeAttribute("data-open"),a.removeAttribute("data-hidden")},Bn=new WeakMap,Un=new WeakMap,Hf=function(t){const e=r(this,vt).call(this);e&&t.propertyName==="height"&&(d(this,Un,t.type==="transitionstart"),C(e,"data-transition",r(this,Un)?"height":null),r(this,Vt).call(this)&&o(this,_,Th).call(this));for(const n of r(this,Ni))n(t)},g(Vl,"props",{showDelay:0}),Vl);Va([z],Sr.prototype,"triggerElement");Va([z],Sr.prototype,"contentElement");Va([z],Sr.prototype,"isSubmenu");Va([$t],Sr.prototype,"open");Va([$t],Sr.prototype,"close");var Rl,zs,la,Cs,Ff,Bf,kh;let Jc=(Rl=class extends tt{constructor(){super();u(this,Cs);u(this,zs);u(this,la,O(null));new gn}get expanded(){var t;return((t=r(this,zs))==null?void 0:t.expanded())??!1}onSetup(){d(this,zs,Ot(Wt))}onAttach(t){r(this,zs).attachMenuButton(this),y(o(this,Cs,Ff).bind(this)),pt(t,"type","button")}onConnect(t){y(o(this,Cs,Bf).bind(this)),o(this,Cs,kh).call(this);const e=new MutationObserver(o(this,Cs,kh).bind(this));e.observe(t,{attributeFilter:["data-part"],childList:!0,subtree:!0}),q(()=>e.disconnect()),ln(t,n=>{this.dispatch("select",{trigger:n})})}},zs=new WeakMap,la=new WeakMap,Cs=new WeakSet,Ff=function(){r(this,zs).disableMenuButton(this.$props.disabled())},Bf=function(){const t=r(this,la).call(this);t&&y(()=>{const e=r(this,zs).hint();e&&(t.textContent=e)})},kh=function(){var e;const t=(e=this.el)==null?void 0:e.querySelector('[data-part="hint"]');r(this,la).set(t??null)},g(Rl,"props",{disabled:!1}),Rl);const Sw=Jc.prototype;z(Sw,"expanded");class Aw extends Jc{}const Pl=gi();var Hi,pi,Gf,Kf,Wf;class Uf extends tt{constructor(){super();u(this,pi);u(this,Hi);new gn;const{placement:t}=this.$props;this.setAttributes({"data-placement":t})}onAttach(t){if(d(this,Hi,Ot(Wt)),r(this,Hi).attachMenuItems(this),Be(Pl)){const e=Ot(Pl);e&&(xe(Pl,null),e.attach(t),q(()=>e.attach(null)))}}onConnect(t){y(o(this,pi,Gf).bind(this))}}Hi=new WeakMap,pi=new WeakSet,Gf=function(){const{expanded:t}=r(this,Hi);if(!this.el||!t())return;const e=this.$props.placement();if(!e)return;Object.assign(this.el.style,{position:"absolute",top:0,left:0,width:"max-content"});const{offset:n,alignOffset:a}=this.$props;q(b$(this.el,o(this,pi,Wf).call(this),e,{offsetVarName:"media-menu",xOffset:a(),yOffset:n()})),q(o(this,pi,Kf).bind(this))},Kf=function(){this.el&&(this.el.removeAttribute("style"),this.el.style.display="none")},Wf=function(){return r(this,Hi).button()},g(Uf,"props",{placement:null,offset:0,alignOffset:0});const Pw=gi();var cs,Ys,qc,oe,jf,Qf,Uo,Sh,Ah;class ll extends de{constructor(){super(...arguments);u(this,oe);u(this,cs,new Set);u(this,Ys,O(""));u(this,qc,null);g(this,"onValueChange");u(this,Uo,o(this,oe,Sh).bind(this))}get values(){return Array.from(r(this,cs)).map(t=>t.value())}get value(){return r(this,Ys).call(this)}set value(t){o(this,oe,Sh).call(this,t)}onSetup(){xe(Pw,{add:o(this,oe,jf).bind(this),remove:o(this,oe,Qf).bind(this)})}onAttach(t){Be(Wt)||pt(t,"role","radiogroup"),this.setAttributes({value:r(this,Ys)})}onDestroy(){r(this,cs).clear()}}cs=new WeakMap,Ys=new WeakMap,qc=new WeakMap,oe=new WeakSet,jf=function(t){r(this,cs).has(t)||(r(this,cs).add(t),t.onCheck=r(this,Uo),t.check(t.value()===r(this,Ys).call(this)))},Qf=function(t){t.onCheck=null,r(this,cs).delete(t)},Uo=new WeakMap,Sh=function(t,e){var h;const n=S(r(this,Ys));if(!t||t===n)return;const a=o(this,oe,Ah).call(this,n),l=o(this,oe,Ah).call(this,t);a==null||a.check(!1,e),l==null||l.check(!0,e),r(this,Ys).set(t),(h=this.onValueChange)==null||h.call(this,t,e)},Ah=function(t){for(const e of r(this,cs))if(t===S(e.value))return e;return null};var Nl,Gn,we,Fi,le,Yf,Xf,Jf,Zf,tm;let zf=(Nl=class extends tt{constructor(){super();u(this,le);u(this,Gn);u(this,we);u(this,Fi);d(this,Fi,new ll),r(this,Fi).onValueChange=o(this,le,tm).bind(this)}get value(){return r(this,Fi).value}get disabled(){const{audioTracks:t}=r(this,we).$state;return t().length<=1}onSetup(){d(this,we,D()),Be(Wt)&&d(this,Gn,Ot(Wt))}onConnect(t){y(o(this,le,Yf).bind(this)),y(o(this,le,Jf).bind(this)),y(o(this,le,Xf).bind(this))}getOptions(){const{audioTracks:t}=r(this,we).$state;return t().map(e=>({track:e,label:e.label,value:e.label.toLowerCase()}))}},Gn=new WeakMap,we=new WeakMap,Fi=new WeakMap,le=new WeakSet,Yf=function(){r(this,Fi).value=o(this,le,Zf).call(this)},Xf=function(){var a;const{emptyLabel:t}=this.$props,{audioTrack:e}=r(this,we).$state,n=e();(a=r(this,Gn))==null||a.hint.set((n==null?void 0:n.label)??t())},Jf=function(){var t;(t=r(this,Gn))==null||t.disable(this.disabled)},Zf=function(){const{audioTrack:t}=r(this,we).$state,e=t();return e?e.label.toLowerCase():""},tm=function(t,e){if(this.disabled)return;const n=r(this,we).audioTracks.toArray().findIndex(a=>a.label.toLowerCase()===t);if(n>=0){const a=r(this,we).audioTracks[n];r(this,we).remote.changeAudioTrack(n,e),this.dispatch("change",{detail:a,trigger:e})}},g(Nl,"props",{emptyLabel:"Default"}),Nl);const Zc=zf.prototype;z(Zc,"value");z(Zc,"disabled");$t(Zc,"getOptions");var Hl,Ut,Kn,Bi,Mt,sm,im,nm,rm,am,co;let em=(Hl=class extends tt{constructor(){super();u(this,Mt);u(this,Ut);u(this,Kn);u(this,Bi);d(this,Bi,new ll),r(this,Bi).onValueChange=o(this,Mt,am).bind(this)}get value(){return r(this,Bi).value}get disabled(){const{hasCaptions:t}=r(this,Ut).$state;return!t()}onSetup(){d(this,Ut,D()),Be(Wt)&&d(this,Kn,Ot(Wt))}onConnect(t){var e;(e=super.onConnect)==null||e.call(this,t),y(o(this,Mt,sm).bind(this)),y(o(this,Mt,nm).bind(this)),y(o(this,Mt,im).bind(this))}getOptions(){const{offLabel:t}=this.$props,{textTracks:e}=r(this,Ut).$state;return[{value:"off",label:t},...e().filter(Nt).map(n=>({track:n,label:n.label,value:o(this,Mt,co).call(this,n)}))]}},Ut=new WeakMap,Kn=new WeakMap,Bi=new WeakMap,Mt=new WeakSet,sm=function(){r(this,Bi).value=o(this,Mt,rm).call(this)},im=function(){var a;const{offLabel:t}=this.$props,{textTrack:e}=r(this,Ut).$state,n=e();(a=r(this,Kn))==null||a.hint.set(n&&Nt(n)&&n.mode==="showing"?n.label:t())},nm=function(){var t;(t=r(this,Kn))==null||t.disable(this.disabled)},rm=function(){const{textTrack:t}=r(this,Ut).$state,e=t();return e&&Nt(e)&&e.mode==="showing"?o(this,Mt,co).call(this,e):"off"},am=function(t,e){if(this.disabled)return;if(t==="off"){const a=r(this,Ut).textTracks.selected;if(a){const l=r(this,Ut).textTracks.indexOf(a);r(this,Ut).remote.changeTextTrackMode(l,"disabled",e),this.dispatch("change",{detail:null,trigger:e})}return}const n=r(this,Ut).textTracks.toArray().findIndex(a=>o(this,Mt,co).call(this,a)===t);if(n>=0){const a=r(this,Ut).textTracks[n];r(this,Ut).remote.changeTextTrackMode(n,"showing",e),this.dispatch("change",{detail:a,trigger:e})}},co=function(t){return t.id+":"+t.kind+"-"+t.label.toLowerCase()},g(Hl,"props",{offLabel:"Off"}),Hl);const tu=em.prototype;z(tu,"value");z(tu,"disabled");$t(tu,"getOptions");const _w=[.25,.5,.75,1,1.25,1.5,1.75,2];var Fl,Xs,Wn,Ui,he,lm,hm,cm,um,dm;let om=(Fl=class extends tt{constructor(){super();u(this,he);u(this,Xs);u(this,Wn);u(this,Ui);d(this,Ui,new ll),r(this,Ui).onValueChange=o(this,he,dm).bind(this)}get value(){return r(this,Ui).value}get disabled(){const{rates:t}=this.$props,{canSetPlaybackRate:e}=r(this,Xs).$state;return!e()||t().length===0}onSetup(){d(this,Xs,D()),Be(Wt)&&d(this,Wn,Ot(Wt))}onConnect(t){y(o(this,he,lm).bind(this)),y(o(this,he,hm).bind(this)),y(o(this,he,cm).bind(this))}getOptions(){const{rates:t,normalLabel:e}=this.$props;return t().map(n=>({label:n===1?e:n+"×",value:n.toString()}))}},Xs=new WeakMap,Wn=new WeakMap,Ui=new WeakMap,he=new WeakSet,lm=function(){r(this,Ui).value=o(this,he,um).call(this)},hm=function(){var a;const{normalLabel:t}=this.$props,{playbackRate:e}=r(this,Xs).$state,n=e();(a=r(this,Wn))==null||a.hint.set(n===1?t():n+"×")},cm=function(){var t;(t=r(this,Wn))==null||t.disable(this.disabled)},um=function(){const{playbackRate:t}=r(this,Xs).$state;return t().toString()},dm=function(t,e){if(this.disabled)return;const n=+t;r(this,Xs).remote.changePlaybackRate(n,e),this.dispatch("change",{detail:n,trigger:e})},g(Fl,"props",{normalLabel:"Normal",rates:_w}),Fl);const eu=om.prototype;z(eu,"value");z(eu,"disabled");$t(eu,"getOptions");var Bl,ve,jn,Gi,Go,It,fm,mm,gm,ym,bm,uo;let pm=(Bl=class extends tt{constructor(){super();u(this,It);u(this,ve);u(this,jn);u(this,Gi);u(this,Go,_s(()=>{const{sort:t}=this.$props,{qualities:e}=r(this,ve).$state;return w$(e(),t()==="descending")}));d(this,Gi,new ll),r(this,Gi).onValueChange=o(this,It,ym).bind(this)}get value(){return r(this,Gi).value}get disabled(){const{canSetQuality:t,qualities:e}=r(this,ve).$state;return!t()||e().length<=1}onSetup(){d(this,ve,D()),Be(Wt)&&d(this,jn,Ot(Wt))}onConnect(t){y(o(this,It,fm).bind(this)),y(o(this,It,gm).bind(this)),y(o(this,It,mm).bind(this))}getOptions(){const{autoLabel:t,hideBitrate:e}=this.$props;return[{value:"auto",label:t},...r(this,Go).call(this).map(n=>{const a=n.bitrate&&n.bitrate>=0?`${Ee(n.bitrate/1e6,2)} Mbps`:null;return{quality:n,label:n.height+"p",value:o(this,It,uo).call(this,n),bitrate:()=>e()?null:a}})]}},ve=new WeakMap,jn=new WeakMap,Gi=new WeakMap,Go=new WeakMap,It=new WeakSet,fm=function(){r(this,Gi).value=o(this,It,bm).call(this)},mm=function(){var l;const{autoLabel:t}=this.$props,{autoQuality:e,quality:n}=r(this,ve).$state,a=n()?n().height+"p":"";(l=r(this,jn))==null||l.hint.set(e()?t()+(a?` (${a})`:""):a)},gm=function(){var t;(t=r(this,jn))==null||t.disable(this.disabled)},ym=function(t,e){if(this.disabled)return;if(t==="auto"){r(this,ve).remote.changeQuality(-1,e),this.dispatch("change",{detail:"auto",trigger:e});return}const{qualities:n}=r(this,ve).$state,a=S(n).findIndex(l=>o(this,It,uo).call(this,l)===t);if(a>=0){const l=S(n)[a];r(this,ve).remote.changeQuality(a,e),this.dispatch("change",{detail:l,trigger:e})}},bm=function(){const{quality:t,autoQuality:e}=r(this,ve).$state;if(e())return"auto";const n=t();return n?o(this,It,uo).call(this,n):"auto"},uo=function(t){return t.height+"_"+t.bitrate},g(Bl,"props",{autoLabel:"Auto",hideBitrate:!1,sort:"descending"}),Bl);const su=pm.prototype;z(su,"value");z(su,"disabled");$t(su,"getOptions");var Qn,Js,ha,ca,bt,$m,wm,vm,_h,Tm,km,Eh,Sm;class Ph extends tt{constructor(){super(...arguments);u(this,bt);u(this,Qn);u(this,Js,O(null));u(this,ha,O(!0));u(this,ca,O(!0))}onSetup(){d(this,Qn,D()),o(this,bt,_h).call(this);const{type:t}=this.$props;this.setAttributes({"data-type":t,"data-remainder":o(this,bt,Eh).bind(this)}),new ap({callback:o(this,bt,$m).bind(this)}).attach(this)}onAttach(t){t.hasAttribute("role")||y(o(this,bt,Tm).bind(this)),y(o(this,bt,_h).bind(this))}onConnect(t){q(Sd(t,r(this,ha).set)),y(o(this,bt,wm).bind(this)),y(o(this,bt,vm).bind(this))}}Qn=new WeakMap,Js=new WeakMap,ha=new WeakMap,ca=new WeakMap,bt=new WeakSet,$m=function(t){r(this,ca).set(t[0].isIntersecting)},wm=function(){const{hidden:t}=this.$props;this.$state.hidden.set(t()||!r(this,ha).call(this)||!r(this,ca).call(this))},vm=function(){if(!this.$props.toggle()){r(this,Js).set(null);return}this.el&&ln(this.el,o(this,bt,Sm).bind(this))},_h=function(){const{hidden:t,timeText:e}=this.$state,{duration:n}=r(this,Qn).$state;if(t())return;const{type:a,padHours:l,padMinutes:h,showHours:c}=this.$props,p=o(this,bt,km).call(this,a()),f=n(),m=o(this,bt,Eh).call(this);if(!Number.isFinite(p+f)){e.set("LIVE");return}const b=m?Math.max(0,f-p):p,w=Qc(b,{padHrs:l(),padMins:h(),showHrs:c()});e.set((m?"-":"")+w)},Tm=function(){if(!this.el)return;const{toggle:t}=this.$props;C(this.el,"role",t()?"timer":null),C(this.el,"tabindex",t()?0:null)},km=function(t){const{bufferedEnd:e,duration:n,currentTime:a}=r(this,Qn).$state;switch(t){case"buffered":return e();case"duration":return n();default:return a()}},Eh=function(){return this.$props.remainder()&&r(this,Js).call(this)!==!1},Sm=function(t){if(t.preventDefault(),r(this,Js).call(this)===null){r(this,Js).set(!this.$props.remainder());return}r(this,Js).set(e=>!e)},g(Ph,"props",{type:"current",showHours:!1,padHours:null,padMinutes:null,remainder:!1,toggle:!1,hidden:!1}),g(Ph,"state",new kr({timeText:"",hidden:!1}));/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */var _l;const Po=window,br=Po.trustedTypes,_u=br?br.createPolicy("lit-html",{createHTML:i=>i}):void 0,xh="$lit$",Vs=`lit$${(Math.random()+"").slice(9)}$`,Am="?"+Vs,Ew=`<${Am}>`,cn=document,Kr=()=>cn.createComment(""),Wr=i=>i===null||typeof i!="object"&&typeof i!="function",Pm=Array.isArray,xw=i=>Pm(i)||typeof(i==null?void 0:i[Symbol.iterator])=="function",El=`[ 	
\f\r]`,Er=/<(?:(!--|\/[^a-zA-Z])|(\/?[a-zA-Z][^>\s]*)|(\/?$))/g,Eu=/-->/g,xu=/>/g,$i=RegExp(`>|${El}(?:([^\\s"'>=/]+)(${El}*=${El}*(?:[^ 	
\f\r"'\`<>=]|("|')|))|$)`,"g"),Cu=/'/g,Lu=/"/g,_m=/^(?:script|style|textarea|title)$/i,Cw=i=>(s,...t)=>({_$litType$:i,strings:s,values:t}),I=Cw(1),$r=Symbol.for("lit-noChange"),ut=Symbol.for("lit-nothing"),Mu=new WeakMap,Ai=cn.createTreeWalker(cn,129,null,!1);function Em(i,s){if(!Array.isArray(i)||!i.hasOwnProperty("raw"))throw Error("invalid template strings array");return _u!==void 0?_u.createHTML(s):s}const Lw=(i,s)=>{const t=i.length-1,e=[];let n,a=s===2?"<svg>":"",l=Er;for(let h=0;h<t;h++){const c=i[h];let p,f,m=-1,b=0;for(;b<c.length&&(l.lastIndex=b,f=l.exec(c),f!==null);)b=l.lastIndex,l===Er?f[1]==="!--"?l=Eu:f[1]!==void 0?l=xu:f[2]!==void 0?(_m.test(f[2])&&(n=RegExp("</"+f[2],"g")),l=$i):f[3]!==void 0&&(l=$i):l===$i?f[0]===">"?(l=n??Er,m=-1):f[1]===void 0?m=-2:(m=l.lastIndex-f[2].length,p=f[1],l=f[3]===void 0?$i:f[3]==='"'?Lu:Cu):l===Lu||l===Cu?l=$i:l===Eu||l===xu?l=Er:(l=$i,n=void 0);const w=l===$i&&i[h+1].startsWith("/>")?" ":"";a+=l===Er?c+Ew:m>=0?(e.push(p),c.slice(0,m)+xh+c.slice(m)+Vs+w):c+Vs+(m===-2?(e.push(void 0),h):w)}return[Em(i,a+(i[t]||"<?>")+(s===2?"</svg>":"")),e]};class jr{constructor({strings:s,_$litType$:t},e){let n;this.parts=[];let a=0,l=0;const h=s.length-1,c=this.parts,[p,f]=Lw(s,t);if(this.el=jr.createElement(p,e),Ai.currentNode=this.el.content,t===2){const m=this.el.content,b=m.firstChild;b.remove(),m.append(...b.childNodes)}for(;(n=Ai.nextNode())!==null&&c.length<h;){if(n.nodeType===1){if(n.hasAttributes()){const m=[];for(const b of n.getAttributeNames())if(b.endsWith(xh)||b.startsWith(Vs)){const w=f[l++];if(m.push(b),w!==void 0){const v=n.getAttribute(w.toLowerCase()+xh).split(Vs),k=/([.?@])?(.*)/.exec(w);c.push({type:1,index:a,name:k[2],strings:v,ctor:k[1]==="."?Iw:k[1]==="?"?Ow:k[1]==="@"?Dw:hl})}else c.push({type:6,index:a})}for(const b of m)n.removeAttribute(b)}if(_m.test(n.tagName)){const m=n.textContent.split(Vs),b=m.length-1;if(b>0){n.textContent=br?br.emptyScript:"";for(let w=0;w<b;w++)n.append(m[w],Kr()),Ai.nextNode(),c.push({type:2,index:++a});n.append(m[b],Kr())}}}else if(n.nodeType===8)if(n.data===Am)c.push({type:2,index:a});else{let m=-1;for(;(m=n.data.indexOf(Vs,m+1))!==-1;)c.push({type:7,index:a}),m+=Vs.length-1}a++}}static createElement(s,t){const e=cn.createElement("template");return e.innerHTML=s,e}}function wr(i,s,t=i,e){var n,a,l,h;if(s===$r)return s;let c=e!==void 0?(n=t._$Co)===null||n===void 0?void 0:n[e]:t._$Cl;const p=Wr(s)?void 0:s._$litDirective$;return(c==null?void 0:c.constructor)!==p&&((a=c==null?void 0:c._$AO)===null||a===void 0||a.call(c,!1),p===void 0?c=void 0:(c=new p(i),c._$AT(i,t,e)),e!==void 0?((l=(h=t)._$Co)!==null&&l!==void 0?l:h._$Co=[])[e]=c:t._$Cl=c),c!==void 0&&(s=wr(i,c._$AS(i,s.values),c,e)),s}class Mw{constructor(s,t){this._$AV=[],this._$AN=void 0,this._$AD=s,this._$AM=t}get parentNode(){return this._$AM.parentNode}get _$AU(){return this._$AM._$AU}u(s){var t;const{el:{content:e},parts:n}=this._$AD,a=((t=s==null?void 0:s.creationScope)!==null&&t!==void 0?t:cn).importNode(e,!0);Ai.currentNode=a;let l=Ai.nextNode(),h=0,c=0,p=n[0];for(;p!==void 0;){if(h===p.index){let f;p.type===2?f=new Ra(l,l.nextSibling,this,s):p.type===1?f=new p.ctor(l,p.name,p.strings,this,s):p.type===6&&(f=new Vw(l,this,s)),this._$AV.push(f),p=n[++c]}h!==(p==null?void 0:p.index)&&(l=Ai.nextNode(),h++)}return Ai.currentNode=cn,a}v(s){let t=0;for(const e of this._$AV)e!==void 0&&(e.strings!==void 0?(e._$AI(s,e,t),t+=e.strings.length-2):e._$AI(s[t])),t++}}class Ra{constructor(s,t,e,n){var a;this.type=2,this._$AH=ut,this._$AN=void 0,this._$AA=s,this._$AB=t,this._$AM=e,this.options=n,this._$Cp=(a=n==null?void 0:n.isConnected)===null||a===void 0||a}get _$AU(){var s,t;return(t=(s=this._$AM)===null||s===void 0?void 0:s._$AU)!==null&&t!==void 0?t:this._$Cp}get parentNode(){let s=this._$AA.parentNode;const t=this._$AM;return t!==void 0&&(s==null?void 0:s.nodeType)===11&&(s=t.parentNode),s}get startNode(){return this._$AA}get endNode(){return this._$AB}_$AI(s,t=this){s=wr(this,s,t),Wr(s)?s===ut||s==null||s===""?(this._$AH!==ut&&this._$AR(),this._$AH=ut):s!==this._$AH&&s!==$r&&this._(s):s._$litType$!==void 0?this.g(s):s.nodeType!==void 0?this.$(s):xw(s)?this.T(s):this._(s)}k(s){return this._$AA.parentNode.insertBefore(s,this._$AB)}$(s){this._$AH!==s&&(this._$AR(),this._$AH=this.k(s))}_(s){this._$AH!==ut&&Wr(this._$AH)?this._$AA.nextSibling.data=s:this.$(cn.createTextNode(s)),this._$AH=s}g(s){var t;const{values:e,_$litType$:n}=s,a=typeof n=="number"?this._$AC(s):(n.el===void 0&&(n.el=jr.createElement(Em(n.h,n.h[0]),this.options)),n);if(((t=this._$AH)===null||t===void 0?void 0:t._$AD)===a)this._$AH.v(e);else{const l=new Mw(a,this),h=l.u(this.options);l.v(e),this.$(h),this._$AH=l}}_$AC(s){let t=Mu.get(s.strings);return t===void 0&&Mu.set(s.strings,t=new jr(s)),t}T(s){Pm(this._$AH)||(this._$AH=[],this._$AR());const t=this._$AH;let e,n=0;for(const a of s)n===t.length?t.push(e=new Ra(this.k(Kr()),this.k(Kr()),this,this.options)):e=t[n],e._$AI(a),n++;n<t.length&&(this._$AR(e&&e._$AB.nextSibling,n),t.length=n)}_$AR(s=this._$AA.nextSibling,t){var e;for((e=this._$AP)===null||e===void 0||e.call(this,!1,!0,t);s&&s!==this._$AB;){const n=s.nextSibling;s.remove(),s=n}}setConnected(s){var t;this._$AM===void 0&&(this._$Cp=s,(t=this._$AP)===null||t===void 0||t.call(this,s))}}class hl{constructor(s,t,e,n,a){this.type=1,this._$AH=ut,this._$AN=void 0,this.element=s,this.name=t,this._$AM=n,this.options=a,e.length>2||e[0]!==""||e[1]!==""?(this._$AH=Array(e.length-1).fill(new String),this.strings=e):this._$AH=ut}get tagName(){return this.element.tagName}get _$AU(){return this._$AM._$AU}_$AI(s,t=this,e,n){const a=this.strings;let l=!1;if(a===void 0)s=wr(this,s,t,0),l=!Wr(s)||s!==this._$AH&&s!==$r,l&&(this._$AH=s);else{const h=s;let c,p;for(s=a[0],c=0;c<a.length-1;c++)p=wr(this,h[e+c],t,c),p===$r&&(p=this._$AH[c]),l||(l=!Wr(p)||p!==this._$AH[c]),p===ut?s=ut:s!==ut&&(s+=(p??"")+a[c+1]),this._$AH[c]=p}l&&!n&&this.j(s)}j(s){s===ut?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,s??"")}}class Iw extends hl{constructor(){super(...arguments),this.type=3}j(s){this.element[this.name]=s===ut?void 0:s}}const qw=br?br.emptyScript:"";class Ow extends hl{constructor(){super(...arguments),this.type=4}j(s){s&&s!==ut?this.element.setAttribute(this.name,qw):this.element.removeAttribute(this.name)}}class Dw extends hl{constructor(s,t,e,n,a){super(s,t,e,n,a),this.type=5}_$AI(s,t=this){var e;if((s=(e=wr(this,s,t,0))!==null&&e!==void 0?e:ut)===$r)return;const n=this._$AH,a=s===ut&&n!==ut||s.capture!==n.capture||s.once!==n.once||s.passive!==n.passive,l=s!==ut&&(n===ut||a);a&&this.element.removeEventListener(this.name,this,n),l&&this.element.addEventListener(this.name,this,s),this._$AH=s}handleEvent(s){var t,e;typeof this._$AH=="function"?this._$AH.call((e=(t=this.options)===null||t===void 0?void 0:t.host)!==null&&e!==void 0?e:this.element,s):this._$AH.handleEvent(s)}}class Vw{constructor(s,t,e){this.element=s,this.type=6,this._$AN=void 0,this._$AM=t,this.options=e}get _$AU(){return this._$AM._$AU}_$AI(s){wr(this,s)}}const Iu=Po.litHtmlPolyfillSupport;Iu==null||Iu(jr,Ra),((_l=Po.litHtmlVersions)!==null&&_l!==void 0?_l:Po.litHtmlVersions=[]).push("2.8.0");const _o=(i,s,t)=>{var e,n;const a=(e=t==null?void 0:t.renderBefore)!==null&&e!==void 0?e:s;let l=a._$litPart$;if(l===void 0){const h=(n=t==null?void 0:t.renderBefore)!==null&&n!==void 0?n:null;a._$litPart$=l=new Ra(s.insertBefore(Kr(),h),h,void 0,t??{})}return l._$AI(i),l};class Rw extends HTMLElement{constructor(){super(...arguments);g(this,"rootPart",null)}connectedCallback(){this.rootPart=_o(this.render(),this,{renderBefore:this.firstChild}),this.rootPart.setConnected(!0)}disconnectedCallback(){var t;(t=this.rootPart)==null||t.setConnected(!1),this.rootPart=null,_o(null,this)}}const Nw=g$('<img loading="eager" decoding="async" aria-hidden="true">');var Ko,Zs,Wo,xm;class Eo extends et(HTMLElement,dh){constructor(){super(...arguments);u(this,Wo);u(this,Ko);u(this,Zs,o(this,Wo,xm).call(this))}onSetup(){d(this,Ko,D()),this.$state.img.set(r(this,Zs))}onConnect(){const{src:t,crossOrigin:e}=this.$state;r(this,Zs).parentNode!==this&&this.prepend(r(this,Zs)),y(()=>{C(r(this,Zs),"src",t()),C(r(this,Zs),"crossorigin",e())})}}Ko=new WeakMap,Zs=new WeakMap,Wo=new WeakSet,xm=function(){return y$(Nw)},g(Eo,"tagName","media-thumbnail"),g(Eo,"attrs",{crossOrigin:"crossorigin"});class Cm extends et(HTMLElement,Ph){onConnect(){y(()=>{this.textContent=this.$state.timeText()})}}g(Cm,"tagName","media-time");class Lm extends et(HTMLElement,nw){}g(Lm,"tagName","media-airplay-button");class Mm extends et(HTMLElement,Wd){}g(Mm,"tagName","media-caption-button");class Im extends et(HTMLElement,aw){}g(Im,"tagName","media-fullscreen-button");class qm extends et(HTMLElement,np){}g(qm,"tagName","media-live-button");class Om extends et(HTMLElement,ow){}g(Om,"tagName","media-mute-button");class Dm extends et(HTMLElement,lw){}g(Dm,"tagName","media-pip-button");class Vm extends et(HTMLElement,rw){}g(Vm,"tagName","media-play-button");class Rm extends et(HTMLElement,tp){}g(Rm,"tagName","media-seek-button");function cl(i,s){f$(()=>{if(!i.connectScope)return;const t=i.querySelector("template");t&&y(()=>{const e=i.getOptions();m$(t,e.length,(n,a)=>{const{label:l,value:h}=e[a],c=n.querySelector('[data-part="label"]');n.setAttribute("value",h),c&&(x(l)?c.textContent=l:y(()=>{c.textContent=l()})),s==null||s(n,e[a],a)})})})}class Nm extends et(HTMLElement,zf){onConnect(){cl(this)}}g(Nm,"tagName","media-audio-radio-group");class Hm extends et(HTMLElement,em){onConnect(){cl(this)}}g(Hm,"tagName","media-captions-radio-group");class Fm extends et(HTMLElement,Sr){}g(Fm,"tagName","media-menu");class Bm extends et(HTMLElement,Jc){}g(Bm,"tagName","media-menu-button");class Um extends et(HTMLElement,Aw){}g(Um,"tagName","media-menu-item");class Gm extends et(HTMLElement,Uf){}g(Gm,"tagName","media-menu-items");class Km extends et(HTMLElement,om){onConnect(){cl(this)}}g(Km,"tagName","media-speed-radio-group");class Wm extends et(HTMLElement,pm){onConnect(){cl(this,(s,t)=>{const e=t.bitrate,n=s.querySelector('[data-part="bitrate"]');e&&n&&y(()=>{n.textContent=e()||""})})}}g(Wm,"tagName","media-quality-radio-group");var ua,da,jo,Qm;class jm extends Eo{constructor(){super(...arguments);u(this,jo);u(this,ua);u(this,da)}onSetup(){super.onSetup(),d(this,ua,D()),d(this,da,Bc(Gr.state))}onConnect(){super.onConnect(),y(o(this,jo,Qm).bind(this))}}ua=new WeakMap,da=new WeakMap,jo=new WeakSet,Qm=function(){const{duration:t,clipStartTime:e}=r(this,ua).$state;this.time=e()+r(this,da).pointerRate()*t()},g(jm,"tagName","media-slider-thumbnail");class Ch extends et(HTMLElement,Xc){onConnect(){y(()=>{this.textContent=this.getValueText()})}}g(Ch,"tagName","media-slider-value"),g(Ch,"attrs",{padMinutes:{converter:$d}});class zm extends et(HTMLElement,mw){}g(zm,"tagName","media-time-slider");class Ym extends et(HTMLElement,Kp){}g(Ym,"tagName","media-slider-preview");class Xm extends et(HTMLElement,fw){}g(Xm,"tagName","media-volume-slider");var us;class po{constructor(s,t){u(this,us);Lt(s)?d(this,us,s):!_e(s)&&!_e(t)?d(this,us,[[s,t]]):d(this,us,[])}get length(){return r(this,us).length}start(s){return r(this,us)[s][0]??1/0}end(s){return r(this,us)[s][1]??1/0}}us=new WeakMap;function qu(i){if(!i.length)return null;let s=i.start(0);for(let t=1;t<i.length;t++){const e=i.start(t);e<s&&(s=e)}return s}function Hr(i){if(!i.length)return null;let s=i.end(0);for(let t=1;t<i.length;t++){const e=i.end(t);e>s&&(s=e)}return s}function Hw(i){if(i.length<=1)return i;i.sort((e,n)=>e[0]-n[0]);let s=[],t=i[0];for(let e=1;e<i.length;e++){const n=i[e];t[1]>=n[0]-1?t=[t[0],Math.max(t[1],n[1])]:(s.push(t),t=n)}return s.push(t),s}function Fw(i,s,t){let e=s[0],n=s[1];return t<e?[t,-1]:t===e?s:e===-1?(s[0]=t,s):(t>e&&(s[1]=t,n===-1&&i.push(s)),Hw(i),s)}const Bw=Symbol(0),Uw=Symbol(0),Gw=Symbol(0),Kw=Symbol(0),Ww=Symbol(0),jw=Symbol(0),Qw=Symbol(0),zw=Symbol(0),Yw=Symbol(0),U={add:Bw,remove:Uw,reset:Gw,select:Kw,readonly:Ww,setReadonly:jw,onReset:Qw,onRemove:zw,onUserSelect:Yw},Xw=Symbol(0),Jw=Symbol(0),me={setAuto:Xw,enableAuto:Jw};var Ju;class Jm extends cd{constructor(){super(...arguments);g(this,"items",[]);g(this,Ju,!1)}get length(){return this.items.length}get readonly(){return this[U.readonly]}indexOf(t){return this.items.indexOf(t)}getById(t){return t===""?null:this.items.find(e=>e.id===t)??null}toArray(){return[...this.items]}[(Ju=U.readonly,Symbol.iterator)](){return this.items.values()}[U.add](t,e){const n=this.items.length;""+n in this||Object.defineProperty(this,n,{get(){return this.items[n]}}),!this.items.includes(t)&&(this.items.push(t),this.dispatchEvent(new rt("add",{detail:t,trigger:e})))}[U.remove](t,e){var a;const n=this.items.indexOf(t);n>=0&&((a=this[U.onRemove])==null||a.call(this,t,e),this.items.splice(n,1),this.dispatchEvent(new rt("remove",{detail:t,trigger:e})))}[U.reset](t){var e;for(const n of[...this.items])this[U.remove](n,t);this.items=[],this[U.setReadonly](!1,t),(e=this[U.onReset])==null||e.call(this)}[U.setReadonly](t,e){this[U.readonly]!==t&&(this[U.readonly]=t,this.dispatchEvent(new rt("readonly-change",{detail:t,trigger:e})))}}const Lh=an.fullscreenEnabled;var ti,zn,fi,Zm,tg,eg;class Zw extends de{constructor(){super(...arguments);u(this,fi);u(this,ti,!1);u(this,zn,!1)}get active(){return r(this,zn)}get supported(){return Lh}onConnect(){new dt(an).add("fullscreenchange",o(this,fi,tg).bind(this)).add("fullscreenerror",o(this,fi,eg).bind(this)),q(o(this,fi,Zm).bind(this))}async enter(){try{return d(this,ti,!0),!this.el||xl(this.el)?void 0:(Ou(),an.requestFullscreen(this.el))}catch(t){throw d(this,ti,!1),t}}async exit(){if(!(!this.el||!xl(this.el)))return Ou(),an.exitFullscreen()}}ti=new WeakMap,zn=new WeakMap,fi=new WeakSet,Zm=async function(){Lh&&await this.exit()},tg=function(t){const e=xl(this.el);e!==r(this,zn)&&(e||d(this,ti,!1),d(this,zn,e),this.dispatch("fullscreen-change",{detail:e,trigger:t}))},eg=function(t){r(this,ti)&&(this.dispatch("fullscreen-error",{detail:null,trigger:t}),d(this,ti,!1))};function xl(i){if(an.fullscreenElement===i)return!0;try{return i.matches(an.fullscreenPseudoClass)}catch{return!1}}function Ou(){if(!Lh)throw Error("[vidstack] no fullscreen API")}var ei,ds,Ki,Zt,sg,Mh,Ih,qh;const Qo=class Qo extends de{constructor(){super(...arguments);u(this,Zt);u(this,ei,O(o(this,Zt,qh).call(this)));u(this,ds,O(!1));u(this,Ki)}get type(){return r(this,ei).call(this)}get locked(){return r(this,ds).call(this)}get portrait(){return r(this,ei).call(this).startsWith("portrait")}get landscape(){return r(this,ei).call(this).startsWith("landscape")}get supported(){return Qo.supported}onConnect(){if(this.supported)ae(screen.orientation,"change",o(this,Zt,Mh).bind(this));else{const t=window.matchMedia("(orientation: landscape)");t.onchange=o(this,Zt,Mh).bind(this),q(()=>t.onchange=null)}q(o(this,Zt,sg).bind(this))}async lock(t){S(r(this,ds))||r(this,Ki)===t||(o(this,Zt,Ih).call(this),await screen.orientation.lock(t),r(this,ds).set(!0),d(this,Ki,t))}async unlock(){S(r(this,ds))&&(o(this,Zt,Ih).call(this),d(this,Ki,void 0),await screen.orientation.unlock(),r(this,ds).set(!1))}};ei=new WeakMap,ds=new WeakMap,Ki=new WeakMap,Zt=new WeakSet,sg=async function(){this.supported&&r(this,ds).call(this)&&await this.unlock()},Mh=function(t){r(this,ei).set(o(this,Zt,qh).call(this)),this.dispatch("orientation-change",{detail:{orientation:S(r(this,ei)),lock:r(this,Ki)},trigger:t})},Ih=function(){if(!this.supported)throw Error("[vidstack] no orientation API")},qh=function(){return this.supported?window.screen.orientation.type:window.innerWidth>=window.innerHeight?"landscape-primary":"portrait-primary"},g(Qo,"supported",xd());let xo=Qo;function Oh(i){return!x(i)&&"width"in i&&"height"in i&&Ae(i.width)&&Ae(i.height)}const ig=new kr({artist:"",artwork:null,audioTrack:null,audioTracks:[],autoPlay:!1,autoPlayError:null,audioGain:null,buffered:new po,canLoad:!1,canLoadPoster:!1,canFullscreen:!1,canOrientScreen:xd(),canPictureInPicture:!1,canPlay:!1,clipStartTime:0,clipEndTime:0,controls:!1,get iOSControls(){return Ed&&this.mediaType==="video"&&(!this.playsInline||!an.fullscreenEnabled&&this.fullscreen)},get nativeControls(){return this.controls||this.iOSControls},controlsVisible:!1,get controlsHidden(){return!this.controlsVisible},crossOrigin:null,ended:!1,error:null,fullscreen:!1,get loop(){return this.providedLoop||this.userPrefersLoop},logLevel:"silent",mediaType:"unknown",muted:!1,paused:!0,played:new po,playing:!1,playsInline:!1,pictureInPicture:!1,preload:"metadata",playbackRate:1,qualities:[],quality:null,autoQuality:!1,canSetQuality:!0,canSetPlaybackRate:!0,canSetVolume:!1,canSetAudioGain:!1,seekable:new po,seeking:!1,source:{src:"",type:""},sources:[],started:!1,textTracks:[],textTrack:null,get hasCaptions(){return this.textTracks.filter(Nt).length>0},volume:1,waiting:!1,realCurrentTime:0,get currentTime(){return this.ended?this.duration:this.clipStartTime>0?Math.max(0,Math.min(this.realCurrentTime-this.clipStartTime,this.duration)):this.realCurrentTime},providedDuration:-1,intrinsicDuration:0,get realDuration(){return this.providedDuration>0?this.providedDuration:this.intrinsicDuration},get duration(){return this.clipEndTime>0?this.clipEndTime-this.clipStartTime:Math.max(0,this.realDuration-this.clipStartTime)},get title(){return this.providedTitle||this.inferredTitle},get poster(){return this.providedPoster||this.inferredPoster},get viewType(){return this.providedViewType!=="unknown"?this.providedViewType:this.inferredViewType},get streamType(){return this.providedStreamType!=="unknown"?this.providedStreamType:this.inferredStreamType},get currentSrc(){return this.source},get bufferedStart(){const i=qu(this.buffered)??0;return Math.max(0,i-this.clipStartTime)},get bufferedEnd(){const i=Hr(this.buffered)??0;return Math.min(this.duration,Math.max(0,i-this.clipStartTime))},get seekableStart(){const i=qu(this.seekable)??0;return Math.max(0,Math.abs(i-this.clipStartTime))},get seekableEnd(){const i=this.canPlay?Hr(this.seekable)??1/0:0;return this.clipEndTime>0?Math.max(this.clipEndTime,Math.max(0,i-this.clipStartTime)):i},get seekableWindow(){return Math.max(0,this.seekableEnd-this.seekableStart)},canAirPlay:!1,canGoogleCast:!1,remotePlaybackState:"disconnected",remotePlaybackType:"none",remotePlaybackLoader:null,remotePlaybackInfo:null,get isAirPlayConnected(){return this.remotePlaybackType==="airplay"&&this.remotePlaybackState==="connected"},get isGoogleCastConnected(){return this.remotePlaybackType==="google-cast"&&this.remotePlaybackState==="connected"},pointer:"fine",orientation:"landscape",width:0,height:0,mediaWidth:0,mediaHeight:0,lastKeyboardAction:null,userBehindLiveEdge:!1,liveEdgeTolerance:10,minLiveDVRWindow:60,get canSeek(){return/unknown|on-demand|:dvr/.test(this.streamType)&&Number.isFinite(this.seekableWindow)&&(!this.live||/:dvr/.test(this.streamType)&&this.seekableWindow>=this.minLiveDVRWindow)},get live(){return this.streamType.includes("live")||!Number.isFinite(this.realDuration)},get liveEdgeStart(){return this.live&&Number.isFinite(this.seekableEnd)?Math.max(0,(this.liveSyncPosition??this.seekableEnd)-this.liveEdgeTolerance):0},get liveEdge(){return this.live&&(!this.canSeek||!this.userBehindLiveEdge&&this.currentTime>=this.liveEdgeStart)},get liveEdgeWindow(){return this.live&&Number.isFinite(this.seekableEnd)?this.seekableEnd-this.liveEdgeStart:0},autoPlaying:!1,providedTitle:"",inferredTitle:"",providedLoop:!1,userPrefersLoop:!1,providedPoster:"",inferredPoster:"",inferredViewType:"unknown",providedViewType:"unknown",providedStreamType:"unknown",inferredStreamType:"unknown",liveSyncPosition:null,savedState:null}),ng=new Set(["autoPlayError","autoPlaying","buffered","canPlay","error","paused","played","playing","seekable","seeking","waiting"]),tv=new Set([...ng,"ended","inferredPoster","inferredStreamType","inferredTitle","intrinsicDuration","liveSyncPosition","realCurrentTime","savedState","started","userBehindLiveEdge"]);function Du(i,s=!1){const t=s?ng:tv;ig.reset(i,e=>t.has(e)),ci()}var Wi,zt,Yn,zo,F,K,sv;class ev{constructor(s=void 0){u(this,F);u(this,Wi,null);u(this,zt,null);u(this,Yn,-1);u(this,zo);d(this,zo,s)}setTarget(s){d(this,Wi,s)}getPlayer(s){var t;return r(this,zt)?r(this,zt):((t=s??r(this,Wi))==null||t.dispatchEvent(new rt("find-media-player",{detail:e=>void d(this,zt,e),bubbles:!0,composed:!0})),r(this,zt))}setPlayer(s){d(this,zt,s)}startLoading(s){o(this,F,K).call(this,"media-start-loading",s)}startLoadingPoster(s){o(this,F,K).call(this,"media-poster-start-loading",s)}requestAirPlay(s){o(this,F,K).call(this,"media-airplay-request",s)}requestGoogleCast(s){o(this,F,K).call(this,"media-google-cast-request",s)}play(s){o(this,F,K).call(this,"media-play-request",s)}pause(s){o(this,F,K).call(this,"media-pause-request",s)}mute(s){o(this,F,K).call(this,"media-mute-request",s)}unmute(s){o(this,F,K).call(this,"media-unmute-request",s)}enterFullscreen(s,t){o(this,F,K).call(this,"media-enter-fullscreen-request",t,s)}exitFullscreen(s,t){o(this,F,K).call(this,"media-exit-fullscreen-request",t,s)}lockScreenOrientation(s,t){o(this,F,K).call(this,"media-orientation-lock-request",t,s)}unlockScreenOrientation(s){o(this,F,K).call(this,"media-orientation-unlock-request",s)}enterPictureInPicture(s){o(this,F,K).call(this,"media-enter-pip-request",s)}exitPictureInPicture(s){o(this,F,K).call(this,"media-exit-pip-request",s)}seeking(s,t){o(this,F,K).call(this,"media-seeking-request",t,s)}seek(s,t){o(this,F,K).call(this,"media-seek-request",t,s)}seekToLiveEdge(s){o(this,F,K).call(this,"media-live-edge-request",s)}changeDuration(s,t){o(this,F,K).call(this,"media-duration-change-request",t,s)}changeClipStart(s,t){o(this,F,K).call(this,"media-clip-start-change-request",t,s)}changeClipEnd(s,t){o(this,F,K).call(this,"media-clip-end-change-request",t,s)}changeVolume(s,t){o(this,F,K).call(this,"media-volume-change-request",t,Math.max(0,Math.min(1,s)))}changeAudioTrack(s,t){o(this,F,K).call(this,"media-audio-track-change-request",t,s)}changeQuality(s,t){o(this,F,K).call(this,"media-quality-change-request",t,s)}requestAutoQuality(s){this.changeQuality(-1,s)}changeTextTrackMode(s,t,e){o(this,F,K).call(this,"media-text-track-change-request",e,{index:s,mode:t})}changePlaybackRate(s,t){o(this,F,K).call(this,"media-rate-change-request",t,s)}changeAudioGain(s,t){o(this,F,K).call(this,"media-audio-gain-change-request",t,s)}resumeControls(s){o(this,F,K).call(this,"media-resume-controls-request",s)}pauseControls(s){o(this,F,K).call(this,"media-pause-controls-request",s)}togglePaused(s){const t=this.getPlayer(s==null?void 0:s.target);t&&(t.state.paused?this.play(s):this.pause(s))}toggleControls(s){const t=this.getPlayer(s==null?void 0:s.target);t&&(t.controls.showing?t.controls.hide(0,s):t.controls.show(0,s))}toggleMuted(s){const t=this.getPlayer(s==null?void 0:s.target);t&&(t.state.muted?this.unmute(s):this.mute(s))}toggleFullscreen(s,t){const e=this.getPlayer(t==null?void 0:t.target);e&&(e.state.fullscreen?this.exitFullscreen(s,t):this.enterFullscreen(s,t))}togglePictureInPicture(s){const t=this.getPlayer(s==null?void 0:s.target);t&&(t.state.pictureInPicture?this.exitPictureInPicture(s):this.enterPictureInPicture(s))}showCaptions(s){const t=this.getPlayer(s==null?void 0:s.target);if(!t)return;let e=t.state.textTracks,n=r(this,Yn);(!e[n]||!Nt(e[n]))&&(n=-1),n===-1&&(n=e.findIndex(a=>Nt(a)&&a.default)),n===-1&&(n=e.findIndex(a=>Nt(a))),n>=0&&this.changeTextTrackMode(n,"showing",s),d(this,Yn,-1)}disableCaptions(s){const t=this.getPlayer(s==null?void 0:s.target);if(!t)return;const e=t.state.textTracks,n=t.state.textTrack;if(n){const a=e.indexOf(n);this.changeTextTrackMode(a,"disabled",s),d(this,Yn,a)}}toggleCaptions(s){const t=this.getPlayer(s==null?void 0:s.target);t&&(t.state.textTrack?this.disableCaptions():this.showCaptions())}userPrefersLoopChange(s,t){o(this,F,K).call(this,"media-user-loop-change-request",t,s)}}Wi=new WeakMap,zt=new WeakMap,Yn=new WeakMap,zo=new WeakMap,F=new WeakSet,K=function(s,t,e){var h,c;const n=new rt(s,{bubbles:!0,composed:!0,cancelable:!0,detail:e,trigger:t});let a=(t==null?void 0:t.target)||null;a&&a instanceof tt&&(a=a.el),a=!a||a===document||a===window||a===document.body||((h=r(this,zt))==null?void 0:h.el)&&a instanceof Node&&!r(this,zt).el.contains(a)?r(this,Wi)??((c=this.getPlayer())==null?void 0:c.el):a??r(this,Wi),r(this,zt)?s==="media-play-request"&&!r(this,zt).state.canLoad?a==null||a.dispatchEvent(n):r(this,zt).canPlayQueue.enqueue(s,()=>a==null?void 0:a.dispatchEvent(n)):a==null||a.dispatchEvent(n)},sv=function(s){};var ct;class iv{constructor(){g(this,"playerId","vds-player");g(this,"mediaId",null);u(this,ct,{volume:null,muted:null,audioGain:null,time:null,lang:null,captions:null,rate:null,quality:null});g(this,"saveTimeThrottled",qa(this.saveTime.bind(this),1e3))}async getVolume(){return r(this,ct).volume}async setVolume(s){r(this,ct).volume=s,this.save()}async getMuted(){return r(this,ct).muted}async setMuted(s){r(this,ct).muted=s,this.save()}async getTime(){return r(this,ct).time}async setTime(s,t){const e=s<0;r(this,ct).time=e?null:s,e||t?this.saveTime():this.saveTimeThrottled()}async getLang(){return r(this,ct).lang}async setLang(s){r(this,ct).lang=s,this.save()}async getCaptions(){return r(this,ct).captions}async setCaptions(s){r(this,ct).captions=s,this.save()}async getPlaybackRate(){return r(this,ct).rate}async setPlaybackRate(s){r(this,ct).rate=s,this.save()}async getAudioGain(){return r(this,ct).audioGain}async setAudioGain(s){r(this,ct).audioGain=s,this.save()}async getVideoQuality(){return r(this,ct).quality}async setVideoQuality(s){r(this,ct).quality=s,this.save()}onChange(s,t,e="vds-player"){const n=e?localStorage.getItem(e):null,a=t?localStorage.getItem(t):null;this.playerId=e,this.mediaId=t,d(this,ct,{volume:null,muted:null,audioGain:null,lang:null,captions:null,rate:null,quality:null,...n?JSON.parse(n):{},time:a?+a:null})}save(){if(!this.playerId)return;const s=JSON.stringify({...r(this,ct),time:void 0});localStorage.setItem(this.playerId,s)}saveTime(){if(!this.mediaId)return;const s=(r(this,ct).time??0).toString();localStorage.setItem(this.mediaId,s)}}ct=new WeakMap;var pa,ps,fa,si,ce,rg,ag,Dh,Vh;class nv{constructor(){u(this,ce);g(this,"priority",0);u(this,pa,!0);u(this,ps,null);u(this,fa,null);u(this,si,new Set)}canRender(s,t){return!!t}attach(s){d(this,ps,s),s&&(s.textTracks.onchange=o(this,ce,Vh).bind(this))}addTrack(s){r(this,si).add(s),o(this,ce,rg).call(this,s)}removeTrack(s){var t,e;(e=(t=s[M.native])==null?void 0:t.remove)==null||e.call(t),s[M.native]=null,r(this,si).delete(s)}changeTrack(s){const t=s==null?void 0:s[M.native];t&&t.track.mode!=="showing"&&(t.track.mode="showing"),d(this,fa,s)}setDisplay(s){d(this,pa,s),o(this,ce,Vh).call(this)}detach(){r(this,ps)&&(r(this,ps).textTracks.onchange=null);for(const s of r(this,si))this.removeTrack(s);r(this,si).clear(),d(this,ps,null),d(this,fa,null)}}pa=new WeakMap,ps=new WeakMap,fa=new WeakMap,si=new WeakMap,ce=new WeakSet,rg=function(s){var e;if(!r(this,ps))return;const t=s[e=M.native]??(s[e]=o(this,ce,ag).call(this,s));So(t)&&(r(this,ps).append(t),t.track.mode=t.default?"showing":"disabled")},ag=function(s){const t=document.createElement("track"),e=s.default||s.mode==="showing",n=s.src&&s.type==="vtt";return t.id=s.id,t.src=n?s.src:"",t.label=s.label,t.kind=s.kind,t.default=e,s.language&&(t.srclang=s.language),e&&!n&&o(this,ce,Dh).call(this,s,t.track),t},Dh=function(s,t){var e;if(!(s.src&&s.type==="vtt"||(e=t.cues)!=null&&e.length))for(const n of s.cues)t.addCue(n)},Vh=function(s){for(const t of r(this,si)){const e=t[M.native];if(!e)continue;if(!r(this,pa)){e.track.mode=e.managed?"hidden":"disabled";continue}const n=e.track.mode==="showing";n&&o(this,ce,Dh).call(this,t,e.track),t.setMode(n?"showing":"disabled",s)}};var ji,Xn,Qi,ma,ga,Yt,Oe,ft,og,Rh,lg,hg,cg,vn,ug;class rv{constructor(s){u(this,ft);u(this,ji,null);u(this,Xn);u(this,Qi,[]);u(this,ma);u(this,ga,!1);u(this,Yt,null);u(this,Oe,null);d(this,ma,s);const t=s.textTracks;d(this,Xn,t),y(o(this,ft,og).bind(this)),q(o(this,ft,ug).bind(this)),new dt(t).add("add",o(this,ft,hg).bind(this)).add("remove",o(this,ft,cg).bind(this)).add("mode-change",o(this,ft,vn).bind(this))}add(s){r(this,Qi).push(s),Br(o(this,ft,vn).bind(this))}remove(s){s.detach(),r(this,Qi).splice(r(this,Qi).indexOf(s),1),Br(o(this,ft,vn).bind(this))}attachVideo(s){requestAnimationFrame(()=>{if(d(this,ji,s),s){d(this,Yt,new nv),r(this,Yt).attach(s);for(const t of r(this,Xn))o(this,ft,Rh).call(this,t)}o(this,ft,vn).call(this)})}}ji=new WeakMap,Xn=new WeakMap,Qi=new WeakMap,ma=new WeakMap,ga=new WeakMap,Yt=new WeakMap,Oe=new WeakMap,ft=new WeakSet,og=function(){const{nativeControls:s}=r(this,ma).$state;d(this,ga,s()),o(this,ft,vn).call(this)},Rh=function(s){var t;Nt(s)&&((t=r(this,Yt))==null||t.addTrack(s))},lg=function(s){var t;Nt(s)&&((t=r(this,Yt))==null||t.removeTrack(s))},hg=function(s){o(this,ft,Rh).call(this,s.detail)},cg=function(s){o(this,ft,lg).call(this,s.detail)},vn=function(){var e,n,a,l,h,c,p;const s=r(this,Xn).selected;if(r(this,ji)&&(r(this,ga)||s!=null&&s[M.nativeHLS])){(e=r(this,Oe))==null||e.changeTrack(null),(n=r(this,Yt))==null||n.setDisplay(!0),(a=r(this,Yt))==null||a.changeTrack(s);return}if((l=r(this,Yt))==null||l.setDisplay(!1),(h=r(this,Yt))==null||h.changeTrack(null),!s){(c=r(this,Oe))==null||c.changeTrack(null);return}const t=r(this,Qi).sort((f,m)=>f.priority-m.priority).find(f=>f.canRender(s,r(this,ji)));r(this,Oe)!==t&&((p=r(this,Oe))==null||p.detach(),t==null||t.attach(r(this,ji)),d(this,Oe,t??null)),t==null||t.changeTrack(s)},ug=function(){var s,t;(s=r(this,Yt))==null||s.detach(),d(this,Yt,null),(t=r(this,Oe))==null||t.detach(),d(this,Oe,null)};var Zu,zi,De,Ve,Re,ya,Jn,ba,Ye,dg,Nh,Hh;class av extends Jm{constructor(){super();u(this,Ye);u(this,zi,!1);u(this,De,{});u(this,Ve,null);u(this,Re,null);g(this,Zu);u(this,ya,bd(async()=>{var n;if(!r(this,zi))return;!r(this,Re)&&r(this,Ve)&&d(this,Re,await r(this,Ve).getLang());const t=await((n=r(this,Ve))==null?void 0:n.getCaptions()),e=[["captions","subtitles"],"chapters","descriptions","metadata"];for(const a of e){const l=this.getByKind(a);if(l.find(m=>m.mode==="showing"))continue;const h=r(this,Re)?l.find(m=>m.language===r(this,Re)):null,c=Lt(a)?r(this,De)[a.find(m=>r(this,De)[m])||""]:r(this,De)[a],p=h??c,f=p&&Nt(p);p&&(!f||t!==!1)&&(p.mode="showing",f&&o(this,Ye,Nh).call(this,p))}},300));u(this,Jn,null);u(this,ba,o(this,Ye,dg).bind(this))}get selected(){return this.items.find(e=>e.mode==="showing"&&Nt(e))??null}get selectedIndex(){const t=this.selected;return t?this.indexOf(t):-1}get preferredLang(){return r(this,Re)}set preferredLang(t){d(this,Re,t),o(this,Ye,Hh).call(this,t)}add(t,e){const n=t instanceof Ao,a=n?t:new Ao(t),l=t.kind==="captions"||t.kind==="subtitles"?"captions":t.kind;return r(this,De)[l]&&t.default&&delete t.default,a.addEventListener("mode-change",r(this,ba)),this[U.add](a,e),a[M.crossOrigin]=this[M.crossOrigin],r(this,zi)&&a[M.canLoad](),t.default&&(r(this,De)[l]=a),r(this,ya).call(this),this}remove(t,e){if(d(this,Jn,t),!!this.items.includes(t))return t===r(this,De)[t.kind]&&delete r(this,De)[t.kind],t.mode="disabled",t[M.onModeChange]=null,t.removeEventListener("mode-change",r(this,ba)),this[U.remove](t,e),d(this,Jn,null),this}clear(t){for(const e of[...this.items])this.remove(e,t);return this}getByKind(t){const e=Array.isArray(t)?t:[t];return this.items.filter(n=>e.includes(n.kind))}[(Zu=M.crossOrigin,M.canLoad)](){if(!r(this,zi)){for(const t of this.items)t[M.canLoad]();d(this,zi,!0),r(this,ya).call(this)}}setStorage(t){d(this,Ve,t)}}zi=new WeakMap,De=new WeakMap,Ve=new WeakMap,Re=new WeakMap,ya=new WeakMap,Jn=new WeakMap,ba=new WeakMap,Ye=new WeakSet,dg=function(t){const e=t.detail;if(r(this,Ve)&&Nt(e)&&e!==r(this,Jn)&&o(this,Ye,Nh).call(this,e),e.mode==="showing"){const n=Nt(e)?["captions","subtitles"]:[e.kind];for(const a of this.items)a.mode==="showing"&&a!=e&&n.includes(a.kind)&&(a.mode="disabled")}this.dispatchEvent(new rt("mode-change",{detail:t.detail,trigger:t}))},Nh=function(t){var e,n;t.mode!=="disabled"&&o(this,Ye,Hh).call(this,t.language),(n=(e=r(this,Ve))==null?void 0:e.setCaptions)==null||n.call(e,t.mode==="showing")},Hh=function(t){var e,n;(n=(e=r(this,Ve))==null?void 0:e.setLang)==null||n.call(e,d(this,Re,t))};const xr=Symbol(0);class pg extends Jm{get selected(){return this.items.find(s=>s.selected)??null}get selectedIndex(){return this.items.findIndex(s=>s.selected)}[U.onRemove](s,t){this[U.select](s,!1,t)}[U.add](s,t){s[xr]=!1,Object.defineProperty(s,"selected",{get(){return this[xr]},set:e=>{var n;this.readonly||((n=this[U.onUserSelect])==null||n.call(this),this[U.select](s,e))}}),super[U.add](s,t)}[U.select](s,t,e){if(t===(s==null?void 0:s[xr]))return;const n=this.selected;s&&(s[xr]=t),(t?n!==s:n===s)&&(n&&(n[xr]=!1),this.dispatchEvent(new rt("change",{detail:{prev:n,current:this.selected},trigger:e})))}}class ov extends pg{}var td,Yi;class lv extends pg{constructor(){super(...arguments);u(this,Yi,!1);g(this,"switch","current");g(this,td)}get auto(){return r(this,Yi)||this.readonly}[(td=me.enableAuto,U.onUserSelect)](){this[me.setAuto](!1)}[U.onReset](t){this[me.enableAuto]=void 0,this[me.setAuto](!1,t)}autoSelect(t){var e;this.readonly||r(this,Yi)||!this[me.enableAuto]||((e=this[me.enableAuto])==null||e.call(this,t),this[me.setAuto](!0,t))}getBySrc(t){return this.items.find(e=>e.src===t)}[me.setAuto](t,e){r(this,Yi)!==t&&(d(this,Yi,t),this.dispatchEvent(new rt("auto-change",{detail:t,trigger:e})))}}Yi=new WeakMap;function hv(i){return i instanceof HTMLAudioElement}function cv(i){return i instanceof HTMLVideoElement}function uv(i){return hv(i)||cv(i)}class yn extends de{}const dv={togglePaused:"k Space",toggleMuted:"m",toggleFullscreen:"f",togglePictureInPicture:"i",toggleCaptions:"c",seekBackward:"j J ArrowLeft",seekForward:"l L ArrowRight",volumeUp:"ArrowUp",volumeDown:"ArrowDown",speedUp:">",slowDown:"<"},Za=new Set(["Shift","Alt","Meta","Ctrl"]),pv='button, [role="button"]',Vu='input, textarea, select, [contenteditable], [role^="menuitem"], [role="timer"]';var Tt,gt,fg,mg,gg,yg,fo,Xi,bg,fs,Fh,$g;class fv extends yn{constructor(t){super();u(this,gt);u(this,Tt);u(this,Xi);u(this,fs,null);d(this,Tt,t)}onConnect(){y(o(this,gt,fg).bind(this))}}Tt=new WeakMap,gt=new WeakSet,fg=function(){const{keyDisabled:t,keyTarget:e}=this.$props;if(t())return;const n=e()==="player"?this.el:document,a=O(!1);n===this.el?new dt(this.el).add("focusin",()=>a.set(!0)).add("focusout",l=>{this.el.contains(l.target)||a.set(!1)}):(S(a)||a.set(document.querySelector("[data-media-player]")===this.el),ae(document,"focusin",l=>{const h=l.composedPath().find(c=>c instanceof Element&&c.localName==="media-player");h!==void 0&&a.set(this.el===h)})),y(()=>{a()&&new dt(n).add("keyup",o(this,gt,mg).bind(this)).add("keydown",o(this,gt,gg).bind(this)).add("keydown",o(this,gt,yg).bind(this),{capture:!0})})},mg=function(t){var l,h;const e=document.activeElement;if(!t.key||!this.$state.canSeek()||e!=null&&e.matches(Vu))return;let{method:n,value:a}=o(this,gt,fo).call(this,t);if(!x(a)&&!Lt(a)){(l=a==null?void 0:a.onKeyUp)==null||l.call(a,{event:t,player:r(this,Tt).player,remote:r(this,Tt).remote}),(h=a==null?void 0:a.callback)==null||h.call(a,t,r(this,Tt).remote);return}if(n!=null&&n.startsWith("seek")&&(t.preventDefault(),t.stopPropagation(),r(this,fs)?(o(this,gt,Fh).call(this,t,n==="seekForward"),d(this,fs,null)):(r(this,Tt).remote.seek(r(this,Xi),t),d(this,Xi,void 0))),n!=null&&n.startsWith("volume")){const c=this.el.querySelector("[data-media-volume-slider]");c==null||c.dispatchEvent(new KeyboardEvent("keyup",{key:n==="volumeUp"?"Up":"Down",shiftKey:t.shiftKey,trigger:t}))}},gg=function(t){var h,c,p,f;if(!t.key||Za.has(t.key))return;const e=document.activeElement;if(e!=null&&e.matches(Vu)||ol(t)&&(e!=null&&e.matches(pv)))return;let{method:n,value:a}=o(this,gt,fo).call(this,t),l=!t.metaKey&&/^[0-9]$/.test(t.key);if(!x(a)&&!Lt(a)&&!l){(h=a==null?void 0:a.onKeyDown)==null||h.call(a,{event:t,player:r(this,Tt).player,remote:r(this,Tt).remote}),(c=a==null?void 0:a.callback)==null||c.call(a,t,r(this,Tt).remote);return}if(!n&&l){t.preventDefault(),t.stopPropagation(),r(this,Tt).remote.seek(this.$state.duration()/10*Number(t.key),t);return}if(n){switch(t.preventDefault(),t.stopPropagation(),n){case"seekForward":case"seekBackward":o(this,gt,$g).call(this,t,n,n==="seekForward");break;case"volumeUp":case"volumeDown":const m=this.el.querySelector("[data-media-volume-slider]");if(m)m.dispatchEvent(new KeyboardEvent("keydown",{key:n==="volumeUp"?"Up":"Down",shiftKey:t.shiftKey,trigger:t}));else{const w=t.shiftKey?.1:.05;r(this,Tt).remote.changeVolume(this.$state.volume()+(n==="volumeUp"?+w:-w),t)}break;case"toggleFullscreen":r(this,Tt).remote.toggleFullscreen("prefer-media",t);break;case"speedUp":case"slowDown":const b=this.$state.playbackRate();r(this,Tt).remote.changePlaybackRate(Math.max(.25,Math.min(2,b+(n==="speedUp"?.25:-.25))),t);break;default:(f=(p=r(this,Tt).remote)[n])==null||f.call(p,t)}this.$state.lastKeyboardAction.set({action:n,event:t})}},yg=function(t){uv(t.target)&&o(this,gt,fo).call(this,t).method&&t.preventDefault()},fo=function(t){const e={...this.$props.keyShortcuts(),...r(this,Tt).ariaKeys},n=Object.keys(e).find(a=>{var p;const l=e[a],h=Lt(l)?l.join(" "):x(l)?l:l==null?void 0:l.keys,c=(p=Lt(h)?h:h==null?void 0:h.split(" "))==null?void 0:p.map(f=>gv(f).replace(/Control/g,"Ctrl").split("+"));return c==null?void 0:c.some(f=>{const m=new Set(f.filter(b=>Za.has(b)));for(const b of Za){const w=b.toLowerCase()+"Key";if(!m.has(b)&&t[w])return!1}return f.every(b=>Za.has(b)?t[b.toLowerCase()+"Key"]:t.key===b.replace("Space"," "))})});return{method:n,value:n?e[n]:null}},Xi=new WeakMap,bg=function(t,e){const n=t.shiftKey?10:5;return d(this,Xi,Math.max(0,Math.min((r(this,Xi)??this.$state.currentTime())+(e==="seekForward"?+n:-n),this.$state.duration())))},fs=new WeakMap,Fh=function(t,e){var n;(n=r(this,fs))==null||n.dispatchEvent(new KeyboardEvent(t.type,{key:e?"Right":"Left",shiftKey:t.shiftKey,trigger:t}))},$g=function(t,e,n){this.$state.canSeek()&&(r(this,fs)||d(this,fs,this.el.querySelector("[data-media-time-slider]")),r(this,fs)?o(this,gt,Fh).call(this,t,n):r(this,Tt).remote.seeking(o(this,gt,bg).call(this,t,e),t))};const mv=["!","@","#","$","%","^","&","*","(",")"];function gv(i){return i.replace(/Shift\+(\d)/g,(s,t)=>mv[t-1])}var Zn,ms,$a,tr,ii,er,B,wg,vg,Tg,kg,Sg,Ag,Pg,_g,mo,Bh,Ir,Uh;class yv extends yn{constructor(){super(...arguments);u(this,B);u(this,Zn,-2);u(this,ms,!1);u(this,$a,O(!1));u(this,tr,O(!1));u(this,ii,null);u(this,er,O(!0));g(this,"defaultDelay",2e3)}get canIdle(){return r(this,er).call(this)}set canIdle(t){r(this,er).set(t)}get hideOnMouseLeave(){const{hideControlsOnMouseLeave:t}=this.$props;return r(this,$a).call(this)||t()}set hideOnMouseLeave(t){r(this,$a).set(t)}get showing(){return this.$state.controlsVisible()}show(t=0,e){o(this,B,mo).call(this),r(this,ms)||o(this,B,Ir).call(this,!0,t,e)}hide(t=this.defaultDelay,e){o(this,B,mo).call(this),r(this,ms)||o(this,B,Ir).call(this,!1,t,e)}pause(t){d(this,ms,!0),o(this,B,mo).call(this),o(this,B,Ir).call(this,!0,0,t)}resume(t){d(this,ms,!1),!this.$state.paused()&&o(this,B,Ir).call(this,!1,this.defaultDelay,t)}onConnect(){y(o(this,B,wg).bind(this))}}Zn=new WeakMap,ms=new WeakMap,$a=new WeakMap,tr=new WeakMap,ii=new WeakMap,er=new WeakMap,B=new WeakSet,wg=function(){const{viewType:t}=this.$state;if(!this.el||!r(this,er).call(this))return;if(t()==="audio"){this.show();return}y(o(this,B,vg).bind(this)),y(o(this,B,Tg).bind(this));const e=o(this,B,kg).bind(this),n=o(this,B,Sg).bind(this),a=o(this,B,Ag).bind(this);new dt(this.el).add("can-play",l=>this.show(0,l)).add("play",e).add("pause",n).add("end",a).add("auto-play-fail",n)},vg=function(){if(!this.el)return;const{started:t,pointer:e,paused:n}=this.$state;if(!t()||e()!=="fine")return;const a=new dt(this.el),l=this.hideOnMouseLeave;(!l||!r(this,tr).call(this))&&y(()=>{n()||a.add("pointermove",o(this,B,Bh).bind(this))}),l&&a.add("mouseenter",o(this,B,Pg).bind(this)).add("mouseleave",o(this,B,_g).bind(this))},Tg=function(){const{paused:t,started:e,autoPlayError:n}=this.$state;if(t()||n()&&!e())return;const a=o(this,B,Bh).bind(this);y(()=>{if(!this.el)return;const l=this.$state.pointer(),h=l==="coarse",c=new dt(this.el),p=[h?"touchend":"pointerup","keydown"];for(const f of p)c.add(f,a,{passive:!1})})},kg=function(t){t.triggers.hasType("ended")||(this.show(0,t),this.hide(void 0,t))},Sg=function(t){this.show(0,t)},Ag=function(t){const{loop:e}=this.$state;e()&&this.hide(0,t)},Pg=function(t){r(this,tr).set(!1),this.show(0,t),this.hide(void 0,t)},_g=function(t){r(this,tr).set(!0),this.hide(0,t)},mo=function(){window.clearTimeout(r(this,Zn)),d(this,Zn,-1)},Bh=function(t){var e;t.MEDIA_GESTURE||r(this,ms)||Pd(t)||(Tr(t)&&(t.key==="Escape"?((e=this.el)==null||e.focus(),d(this,ii,null)):r(this,ii)&&(t.preventDefault(),requestAnimationFrame(()=>{var n;(n=r(this,ii))==null||n.focus(),d(this,ii,null)}))),this.show(0,t),this.hide(this.defaultDelay,t))},Ir=function(t,e,n){if(e===0){o(this,B,Uh).call(this,t,n);return}d(this,Zn,window.setTimeout(()=>{this.scope&&o(this,B,Uh).call(this,t&&!r(this,ms),n)},e))},Uh=function(t,e){var n;this.$state.controlsVisible()!==t&&(this.$state.controlsVisible.set(t),!t&&document.activeElement&&((n=this.el)!=null&&n.contains(document.activeElement))&&(d(this,ii,document.activeElement),requestAnimationFrame(()=>{var a;(a=this.el)==null||a.focus({preventScroll:!0})})),this.dispatch("controls-change",{detail:t,trigger:e}))};class bv{constructor(){g(this,"name","audio");g(this,"target")}canPlay(s){return Gc(s)?!x(s.src)||s.type==="?"||_$(this.target,s.type):!1}mediaType(){return"audio"}async load(s){return new(await qt(async()=>{const{AudioProvider:t}=await import("./vidstack-audio-PDku_PuW.js");return{AudioProvider:t}},__vite__mapDeps([5,6,7,1,2,3,4,8]))).AudioProvider(this.target,s)}}class iu{constructor(){g(this,"name","video");g(this,"target")}canPlay(s){return Kc(s)?!x(s.src)||s.type==="?"||E$(this.target,s.type):!1}mediaType(){return"video"}async load(s){return new(await qt(async()=>{const{VideoProvider:t}=await import("./vidstack-video-pINelbIi.js");return{VideoProvider:t}},__vite__mapDeps([9,6,7,1,2,3,4,8]))).VideoProvider(this.target,s)}}const Yo=class Yo extends iu{constructor(){super(...arguments);g(this,"name","hls")}canPlay(t){return Yo.supported&&Oa(t)}async load(t){return new(await qt(async()=>{const{HLSProvider:e}=await import("./vidstack-hls-D9povyGH.js");return{HLSProvider:e}},__vite__mapDeps([10,9,6,7,1,2,3,4,8]))).HLSProvider(this.target,t)}};g(Yo,"supported",Uc());let Gh=Yo;const Xo=class Xo extends iu{constructor(){super(...arguments);g(this,"name","dash")}canPlay(t){return Xo.supported&&Wc(t)}async load(t){return new(await qt(async()=>{const{DASHProvider:e}=await import("./vidstack-dash-8tV-zgwF.js");return{DASHProvider:e}},__vite__mapDeps([11,9,6,7,1,2,3,4,8]))).DASHProvider(this.target,t)}};g(Xo,"supported",I$());let Kh=Xo;class $v{constructor(){g(this,"name","vimeo");g(this,"target")}preconnect(){const s=["https://i.vimeocdn.com","https://f.vimeocdn.com","https://fresnel.vimeocdn.com"];for(const t of s)Da(t)}canPlay(s){return x(s.src)&&s.type==="video/vimeo"}mediaType(){return"video"}async load(s){return new(await qt(async()=>{const{VimeoProvider:t}=await import("./vidstack-vimeo-DnI42Inb.js");return{VimeoProvider:t}},__vite__mapDeps([12,7,13,14,1,2,3,4,8]))).VimeoProvider(this.target,s)}async loadPoster(s,t,e){const{resolveVimeoVideoId:n,getVimeoVideoInfo:a}=await qt(async()=>{const{resolveVimeoVideoId:c,getVimeoVideoInfo:p}=await import("./vidstack-krOAtKMi-C3UUF7YD.js");return{resolveVimeoVideoId:c,getVimeoVideoInfo:p}},[]);if(!x(s.src))return null;const{videoId:l,hash:h}=n(s.src);return l?a(l,e,h).then(c=>c?c.poster:null):null}}class wv{constructor(){g(this,"name","youtube");g(this,"target")}preconnect(){const s=["https://www.google.com","https://i.ytimg.com","https://googleads.g.doubleclick.net","https://static.doubleclick.net"];for(const t of s)Da(t)}canPlay(s){return x(s.src)&&s.type==="video/youtube"}mediaType(){return"video"}async load(s){return new(await qt(async()=>{const{YouTubeProvider:t}=await import("./vidstack-youtube-gaw-ZHsi.js");return{YouTubeProvider:t}},__vite__mapDeps([15,13,16,1,2,3,4,8]))).YouTubeProvider(this.target,s)}async loadPoster(s,t,e){const{findYouTubePoster:n,resolveYouTubeVideoId:a}=await qt(async()=>{const{findYouTubePoster:h,resolveYouTubeVideoId:c}=await import("./vidstack-Zc3I7oOd-CA6XwpqT.js");return{findYouTubePoster:h,resolveYouTubeVideoId:c}},[]),l=x(s.src)&&a(s.src);return l?n(l,e):null}}const Cl=Symbol(0),vv=["autoPlay","canAirPlay","canFullscreen","canGoogleCast","canLoad","canLoadPoster","canPictureInPicture","canPlay","canSeek","ended","fullscreen","isAirPlayConnected","isGoogleCastConnected","live","liveEdge","loop","mediaType","muted","paused","pictureInPicture","playing","playsInline","remotePlaybackState","remotePlaybackType","seeking","started","streamType","viewType","waiting"],Tv={artist:"",artwork:null,autoplay:!1,autoPlay:!1,clipStartTime:0,clipEndTime:0,controls:!1,currentTime:0,crossorigin:null,crossOrigin:null,duration:-1,fullscreenOrientation:"landscape",googleCast:{},load:"visible",posterLoad:"visible",logLevel:"silent",loop:!1,muted:!1,paused:!0,playsinline:!1,playsInline:!1,playbackRate:1,poster:"",preload:"metadata",preferNativeHLS:!1,src:"",title:"",controlsDelay:2e3,hideControlsOnMouseLeave:!1,viewType:"unknown",streamType:"unknown",volume:1,liveEdgeTolerance:10,minLiveDVRWindow:60,keyDisabled:!1,keyTarget:"player",keyShortcuts:dv,storage:null};var wa,Ji;class Ru extends yn{constructor(t,e){super();u(this,wa);u(this,Ji);d(this,wa,t),d(this,Ji,e)}async onAttach(t){const e=this.$props[r(this,wa)]();if(e==="eager")requestAnimationFrame(r(this,Ji));else if(e==="idle")Xb(r(this,Ji));else if(e==="visible"){let n,a=new IntersectionObserver(l=>{this.scope&&l[0].isIntersecting&&(n==null||n(),n=void 0,r(this,Ji).call(this))});a.observe(t),n=q(()=>a.disconnect())}}}wa=new WeakMap,Ji=new WeakMap;var va,Te,Jo,Eg;class kv{constructor(s,t){u(this,Jo);u(this,va);u(this,Te);d(this,va,s),d(this,Te,t)}notify(s,...t){r(this,va).call(this,new rt(s,{detail:t==null?void 0:t[0],trigger:t==null?void 0:t[1]}))}async ready(s,t){return Br(async()=>{var Ar,Pr,Ht,Ct,bn,Me,J;r(this,Te);const{autoPlay:e,canPlay:n,started:a,duration:l,seekable:h,buffered:c,remotePlaybackInfo:p,playsInline:f,savedState:m,source:b}=r(this,Te).$state;if(n())return;const w={duration:(s==null?void 0:s.duration)??l(),seekable:(s==null?void 0:s.seekable)??h(),buffered:(s==null?void 0:s.buffered)??c(),provider:r(this,Te).$provider()};this.notify("can-play",w,t),ci();let v=r(this,Te).$provider(),{storage:k,qualities:G}=r(this,Te),{muted:ht,volume:wt,clipStartTime:pe,playbackRate:Dt}=r(this,Te).$props;await((Ar=k==null?void 0:k.onLoad)==null?void 0:Ar.call(k,b()));const Ce=(Pr=m())==null?void 0:Pr.currentTime,Ze=(Ht=m())==null?void 0:Ht.paused,Le=await(k==null?void 0:k.getTime()),yi=Ce??Le??pe(),Na=Ze||Ze!==!1&&!a()&&e();if(v){v.setVolume(await(k==null?void 0:k.getVolume())??wt()),v.setMuted(ht()||!!await(k==null?void 0:k.getMuted()));const fe=await(k==null?void 0:k.getAudioGain())??1;fe>1&&((bn=(Ct=v.audioGain)==null?void 0:Ct.setGain)==null||bn.call(Ct,fe)),(Me=v.setPlaybackRate)==null||Me.call(v,await(k==null?void 0:k.getPlaybackRate())??Dt()),(J=v.setPlaysInline)==null||J.call(v,f()),yi>0&&v.setCurrentTime(yi)}const Ls=await(k==null?void 0:k.getVideoQuality());if(Ls&&G.length){let fe=null,bi=1/0;for(const ts of G){const $n=Math.abs(Ls.width-ts.width)+Math.abs(Ls.height-ts.height)+(Ls.bitrate?Math.abs(Ls.bitrate-(ts.bitrate??0)):0);$n<bi&&(fe=ts,bi=$n)}fe&&(fe.selected=!0)}n()&&Na?await o(this,Jo,Eg).call(this,t):Le&&Le>0&&this.notify("started",void 0,t),p.set(null)})}}va=new WeakMap,Te=new WeakMap,Jo=new WeakSet,Eg=async function(s){const{player:t,$state:{autoPlaying:e,muted:n}}=r(this,Te);e.set(!0);const a=new rt("auto-play-attempt",{trigger:s});try{await t.play(a)}catch{}};var ni;class Sv{constructor(){u(this,ni,new Map)}enqueue(s,t){r(this,ni).set(s,t)}serve(s){const t=this.peek(s);return r(this,ni).delete(s),t}peek(s){return r(this,ni).get(s)}delete(s){r(this,ni).delete(s)}clear(){r(this,ni).clear()}}ni=new WeakMap;var ri,sr,ke,mi,Wh,jh;class xg{constructor(){u(this,mi);u(this,ri,!1);u(this,sr,Wl());u(this,ke,new Map)}get size(){return r(this,ke).size}get isServing(){return r(this,ri)}async waitForFlush(){r(this,ri)||await r(this,sr).promise}enqueue(s,t){if(r(this,ri)){t();return}r(this,ke).delete(s),r(this,ke).set(s,t)}serve(s){var t;(t=r(this,ke).get(s))==null||t(),r(this,ke).delete(s)}start(){o(this,mi,Wh).call(this),d(this,ri,!0),r(this,ke).size>0&&o(this,mi,Wh).call(this)}stop(){d(this,ri,!1)}reset(){this.stop(),r(this,ke).clear(),o(this,mi,jh).call(this)}}ri=new WeakMap,sr=new WeakMap,ke=new WeakMap,mi=new WeakSet,Wh=function(){for(const s of r(this,ke).keys())this.serve(s);o(this,mi,jh).call(this)},jh=function(){r(this,sr).resolve(),d(this,sr,Wl())};var gs,E,ys,Zi,bs,nt,ai,L,Cg,Lg,Mg,Qh,ir,zh,Yh,Ig,qg,Og,Dg,Vg,Rg,tn,Ng,Xh,Jh,Pv;class Av extends yn{constructor(t,e,n){super();u(this,L);u(this,gs);u(this,E);u(this,ys);g(this,"controls");u(this,Zi);u(this,bs);u(this,nt);u(this,ai,new xg);u(this,ir,!1);u(this,tn);d(this,gs,t),d(this,E,e),d(this,ys,n),d(this,nt,n.$provider),this.controls=new yv,d(this,Zi,new Zw),d(this,bs,new xo)}onAttach(){this.listen("fullscreen-change",o(this,L,Ng).bind(this))}onConnect(t){const e=Object.getOwnPropertyNames(Object.getPrototypeOf(this)),n=new dt(t),a=o(this,L,Mg).bind(this);for(const l of e)l.startsWith("media-")&&n.add(l,a);o(this,L,Cg).call(this),y(o(this,L,Lg).bind(this)),y(o(this,L,Ig).bind(this)),y(o(this,L,qg).bind(this)),y(o(this,L,Og).bind(this)),y(o(this,L,Dg).bind(this)),y(o(this,L,Vg).bind(this)),y(o(this,L,Rg).bind(this))}onDestroy(){try{const t=this.createEvent("destroy"),{pictureInPicture:e,fullscreen:n}=this.$state;n()&&this.exitFullscreen("prefer-media",t),e()&&this.exitPictureInPicture(t)}catch{}r(this,ai).reset()}async play(t){const{canPlay:e,paused:n,autoPlaying:a}=this.$state;if(o(this,L,Qh).call(this,t)||!S(n))return;t&&r(this,E).queue.enqueue("media-play-request",t);const l=S(a);try{const h=S(r(this,nt));return Ll(h,S(e)),await h.play()}catch(h){const c=this.createEvent("play-fail",{detail:kl(h),trigger:t});throw c.autoPlay=l,r(this,gs).handle(c),h}}async pause(t){const{canPlay:e,paused:n}=this.$state;if(!S(n)){t&&r(this,E).queue.enqueue("media-pause-request",t);try{const a=S(r(this,nt));return Ll(a,S(e)),await a.pause()}catch(a){throw r(this,E).queue.delete("media-pause-request"),a}}}setAudioGain(t,e){const{audioGain:n,canSetAudioGain:a}=this.$state;if(n()===t)return;const l=r(this,nt).call(this);if(!(l!=null&&l.audioGain)||!a())throw Error("[vidstack] audio gain api not available");e&&r(this,E).queue.enqueue("media-audio-gain-change-request",e),l.audioGain.setGain(t)}seekToLiveEdge(t){const{canPlay:e,live:n,liveEdge:a,canSeek:l,liveSyncPosition:h,seekableEnd:c,userBehindLiveEdge:p}=this.$state;if(p.set(!1),S(()=>!n()||a()||!l()))return;const f=S(r(this,nt));Ll(f,S(e)),t&&r(this,E).queue.enqueue("media-seek-request",t);const m=c()-2;f.setCurrentTime(Math.min(m,h()??m))}async enterFullscreen(t="prefer-media",e){const n=o(this,L,zh).call(this,t);if(Nu(t,n),!n.active)return S(this.$state.pictureInPicture)&&(d(this,ir,!0),await this.exitPictureInPicture(e)),e&&r(this,E).queue.enqueue("media-enter-fullscreen-request",e),n.enter()}async exitFullscreen(t="prefer-media",e){const n=o(this,L,zh).call(this,t);if(Nu(t,n),!!n.active){e&&r(this,E).queue.enqueue("media-exit-fullscreen-request",e);try{const a=await n.exit();return r(this,ir)&&S(this.$state.canPictureInPicture)&&await this.enterPictureInPicture(),a}finally{d(this,ir,!1)}}}async enterPictureInPicture(t){if(o(this,L,Yh).call(this),!this.$state.pictureInPicture())return t&&r(this,E).queue.enqueue("media-enter-pip-request",t),await r(this,nt).call(this).pictureInPicture.enter()}async exitPictureInPicture(t){if(o(this,L,Yh).call(this),!!this.$state.pictureInPicture())return t&&r(this,E).queue.enqueue("media-exit-pip-request",t),await r(this,nt).call(this).pictureInPicture.exit()}async"media-airplay-request"(t){try{await this.requestAirPlay(t)}catch{}}async requestAirPlay(t){var e;try{const n=(e=r(this,nt).call(this))==null?void 0:e.airPlay;if(!(n!=null&&n.supported))throw Error("No AirPlay adapter.");return t&&r(this,E).queue.enqueue("media-airplay-request",t),await n.prompt()}catch(n){throw r(this,E).queue.delete("media-airplay-request"),n}}async"media-google-cast-request"(t){try{await this.requestGoogleCast(t)}catch{}}async requestGoogleCast(t){try{const{canGoogleCast:e}=this.$state;if(!S(e)){const a=Error("Cast not available.");throw a.code="CAST_NOT_AVAILABLE",a}if(Da("https://www.gstatic.com"),!r(this,tn)){const a=await qt(()=>import("./vidstack-kV1-bfkY-DghwAJ0s.js").then(l=>l.v),__vite__mapDeps([17,1,2,3,4]));d(this,tn,new a.GoogleCastLoader)}await r(this,tn).prompt(r(this,ys)),t&&r(this,E).queue.enqueue("media-google-cast-request",t);const n=S(this.$state.remotePlaybackState)!=="disconnected";n&&this.$state.savedState.set({paused:S(this.$state.paused),currentTime:S(this.$state.currentTime)}),this.$state.remotePlaybackLoader.set(n?r(this,tn):null)}catch(e){throw r(this,E).queue.delete("media-google-cast-request"),e}}"media-clip-start-change-request"(t){const{clipStartTime:e}=this.$state;e.set(t.detail)}"media-clip-end-change-request"(t){const{clipEndTime:e}=this.$state;e.set(t.detail),this.dispatch("duration-change",{detail:t.detail,trigger:t})}"media-duration-change-request"(t){const{providedDuration:e,clipEndTime:n}=this.$state;e.set(t.detail),n()<=0&&this.dispatch("duration-change",{detail:t.detail,trigger:t})}"media-audio-track-change-request"(t){const{logger:e,audioTracks:n}=r(this,ys);if(n.readonly)return;const a=t.detail,l=n[a];if(l){const h=t.type;r(this,E).queue.enqueue(h,t),l.selected=!0}}async"media-enter-fullscreen-request"(t){try{await this.enterFullscreen(t.detail,t)}catch(e){o(this,L,Xh).call(this,e,t)}}async"media-exit-fullscreen-request"(t){try{await this.exitFullscreen(t.detail,t)}catch(e){o(this,L,Xh).call(this,e,t)}}async"media-orientation-lock-request"(t){const e=t.type;try{r(this,E).queue.enqueue(e,t),await r(this,bs).lock(t.detail)}catch{r(this,E).queue.delete(e)}}async"media-orientation-unlock-request"(t){const e=t.type;try{r(this,E).queue.enqueue(e,t),await r(this,bs).unlock()}catch{r(this,E).queue.delete(e)}}async"media-enter-pip-request"(t){try{await this.enterPictureInPicture(t)}catch(e){o(this,L,Jh).call(this,e,t)}}async"media-exit-pip-request"(t){try{await this.exitPictureInPicture(t)}catch(e){o(this,L,Jh).call(this,e,t)}}"media-live-edge-request"(t){const{live:e,liveEdge:n,canSeek:a}=this.$state;if(!(!e()||n()||!a())){r(this,E).queue.enqueue("media-seek-request",t);try{this.seekToLiveEdge()}catch{r(this,E).queue.delete("media-seek-request")}}}async"media-loop-request"(t){try{r(this,E).looping=!0,r(this,E).replaying=!0,await this.play(t)}catch{r(this,E).looping=!1}}"media-user-loop-change-request"(t){this.$state.userPrefersLoop.set(t.detail)}async"media-pause-request"(t){if(!this.$state.paused())try{await this.pause(t)}catch{}}async"media-play-request"(t){if(this.$state.paused())try{await this.play(t)}catch{}}"media-rate-change-request"(t){const{playbackRate:e,canSetPlaybackRate:n}=this.$state;if(e()===t.detail||!n())return;const a=r(this,nt).call(this);a!=null&&a.setPlaybackRate&&(r(this,E).queue.enqueue("media-rate-change-request",t),a.setPlaybackRate(t.detail))}"media-audio-gain-change-request"(t){try{this.setAudioGain(t.detail,t)}catch{}}"media-quality-change-request"(t){var h,c;const{qualities:e,storage:n,logger:a}=r(this,ys);if(e.readonly)return;r(this,E).queue.enqueue("media-quality-change-request",t);const l=t.detail;if(l<0)e.autoSelect(t),t.isOriginTrusted&&((h=n==null?void 0:n.setVideoQuality)==null||h.call(n,null));else{const p=e[l];p&&(p.selected=!0,t.isOriginTrusted&&((c=n==null?void 0:n.setVideoQuality)==null||c.call(n,{id:p.id,width:p.width,height:p.height,bitrate:p.bitrate})))}}"media-pause-controls-request"(t){const e=t.type;r(this,E).queue.enqueue(e,t),this.controls.pause(t)}"media-resume-controls-request"(t){const e=t.type;r(this,E).queue.enqueue(e,t),this.controls.resume(t)}"media-seek-request"(t){const{seekableStart:e,seekableEnd:n,ended:a,canSeek:l,live:h,userBehindLiveEdge:c,clipStartTime:p}=this.$state,f=t.detail;a()&&(r(this,E).replaying=!0);const m=t.type;r(this,E).seeking=!1,r(this,E).queue.delete(m);const b=f+p(),w=Math.floor(f)===Math.floor(e()),v=Math.floor(b)===Math.floor(n()),k=w?e():v?n():Math.min(Math.max(e()+.1,b),n()-.1);!Number.isFinite(k)||!l()||(r(this,E).queue.enqueue(m,t),r(this,nt).call(this).setCurrentTime(k),h()&&t.isOriginTrusted&&Math.abs(n()-k)>=2&&c.set(!0))}"media-seeking-request"(t){const e=t.type;r(this,E).queue.enqueue(e,t),this.$state.seeking.set(!0),r(this,E).seeking=!0}"media-start-loading"(t){if(this.$state.canLoad())return;const e=t.type;r(this,E).queue.enqueue(e,t),r(this,gs).handle(this.createEvent("can-load"))}"media-poster-start-loading"(t){if(this.$state.canLoadPoster())return;const e=t.type;r(this,E).queue.enqueue(e,t),r(this,gs).handle(this.createEvent("can-load-poster"))}"media-text-track-change-request"(t){const{index:e,mode:n}=t.detail,a=r(this,ys).textTracks[e];if(a){const l=t.type;r(this,E).queue.enqueue(l,t),a.setMode(n,t)}}"media-mute-request"(t){if(this.$state.muted())return;const e=t.type;r(this,E).queue.enqueue(e,t),r(this,nt).call(this).setMuted(!0)}"media-unmute-request"(t){const{muted:e,volume:n}=this.$state;if(!e())return;const a=t.type;r(this,E).queue.enqueue(a,t),r(this,ys).$provider().setMuted(!1),n()===0&&(r(this,E).queue.enqueue(a,t),r(this,nt).call(this).setVolume(.25))}"media-volume-change-request"(t){const{muted:e,volume:n}=this.$state,a=t.detail;if(n()===a)return;const l=t.type;r(this,E).queue.enqueue(l,t),r(this,nt).call(this).setVolume(a),a>0&&e()&&(r(this,E).queue.enqueue(l,t),r(this,nt).call(this).setMuted(!1))}}gs=new WeakMap,E=new WeakMap,ys=new WeakMap,Zi=new WeakMap,bs=new WeakMap,nt=new WeakMap,ai=new WeakMap,L=new WeakSet,Cg=function(){const{load:t}=this.$props,{canLoad:e}=this.$state;if(t()!=="play"||e())return;const n=this.listen("media-play-request",a=>{o(this,L,Qh).call(this,a),n()})},Lg=function(){const t=r(this,nt).call(this),e=this.$state.canPlay();return t&&e&&r(this,ai).start(),()=>{r(this,ai).stop()}},Mg=function(t){t.stopPropagation(),!t.defaultPrevented&&this[t.type]&&(S(r(this,nt))?this[t.type](t):r(this,ai).enqueue(t.type,()=>{S(r(this,nt))&&this[t.type](t)}))},Qh=function(t){const{load:e}=this.$props,{canLoad:n}=this.$state;if(e()==="play"&&!n()){const a=this.createEvent("media-start-loading",{trigger:t});return this.dispatchEvent(a),r(this,ai).enqueue("media-play-request",async()=>{try{await this.play(a)}catch{}}),!0}return!1},ir=new WeakMap,zh=function(t){const e=S(r(this,nt));return t==="prefer-media"&&r(this,Zi).supported||t==="media"?r(this,Zi):e==null?void 0:e.fullscreen},Yh=function(){if(!this.$state.canPictureInPicture())throw Error("[vidstack] no pip support")},Ig=function(){this.controls.defaultDelay=this.$props.controlsDelay()},qg=function(){var n,a;const{canSetAudioGain:t}=this.$state,e=!!((a=(n=r(this,nt).call(this))==null?void 0:n.audioGain)!=null&&a.supported);t.set(e)},Og=function(){var n,a;const{canAirPlay:t}=this.$state,e=!!((a=(n=r(this,nt).call(this))==null?void 0:n.airPlay)!=null&&a.supported);t.set(e)},Dg=function(){const{canGoogleCast:t,source:e}=this.$state,n=A$&&!_d&&B$(e());t.set(n)},Vg=function(){var n,a;const{canFullscreen:t}=this.$state,e=r(this,Zi).supported||!!((a=(n=r(this,nt).call(this))==null?void 0:n.fullscreen)!=null&&a.supported);t.set(e)},Rg=function(){var n,a;const{canPictureInPicture:t}=this.$state,e=!!((a=(n=r(this,nt).call(this))==null?void 0:n.pictureInPicture)!=null&&a.supported);t.set(e)},tn=new WeakMap,Ng=async function(t){const e=S(this.$props.fullscreenOrientation),n=t.detail;if(!(_e(e)||e==="none"||!r(this,bs).supported))if(n){if(r(this,bs).locked)return;this.dispatch("media-orientation-lock-request",{detail:e,trigger:t})}else r(this,bs).locked&&this.dispatch("media-orientation-unlock-request",{trigger:t})},Xh=function(t,e){r(this,gs).handle(this.createEvent("fullscreen-error",{detail:kl(t)}))},Jh=function(t,e){r(this,gs).handle(this.createEvent("picture-in-picture-error",{detail:kl(t)}))},Pv=function(t,e,n){};function Ll(i,s){if(!(i&&s))throw Error("[vidstack] media not ready")}function Nu(i,s){if(!(s!=null&&s.supported))throw Error("[vidstack] no fullscreen support")}class _v{constructor(){g(this,"seeking",!1);g(this,"looping",!1);g(this,"replaying",!1);g(this,"queue",new Sv)}}const Ev=new Set(["auto-play","auto-play-fail","can-load","sources-change","source-change","load-start","abort","error","loaded-metadata","loaded-data","can-play","play","play-fail","pause","playing","seeking","seeked","waiting"]);var Rt,R,Q,en,nr,sn,nn,$s,oi,$,Hg,Fg,Ds,lt,Bg,Ug,Gg,go,Zh,tc,Kg,ec,Wg,jg,rr,sc,yo,Qg,zg,Yg,ic,nc,rc,Xg,ac,Jg,ar,Zg,oc;class xv extends yn{constructor(t,e){super();u(this,$);u(this,Rt);u(this,R);u(this,Q,new Map);u(this,en,!1);u(this,nr,[]);u(this,sn,[-1,-1]);u(this,nn,!1);u(this,$s);u(this,oi,!1);u(this,rr,null);g(this,"seeking",qa(t=>{const{seeking:e,realCurrentTime:n,paused:a}=this.$state;e.set(!0),n.set(t.detail),o(this,$,lt).call(this,"media-seeking-request",t),a()&&(d(this,$s,t),r(this,ar).call(this)),d(this,sn,[-1,-1])},150,{leading:!0}));u(this,ar,bd(()=>{if(!r(this,$s))return;d(this,nn,!0);const{waiting:t,playing:e}=this.$state;t.set(!0),e.set(!1);const n=this.createEvent("waiting",{trigger:r(this,$s)});r(this,Q).set("waiting",n),this.dispatch(n),d(this,$s,void 0),d(this,nn,!1)},300));d(this,Rt,t),d(this,R,e)}onAttach(t){t.setAttribute("aria-busy","true"),new dt(this).add("fullscreen-change",this["fullscreen-change"].bind(this)).add("fullscreen-error",this["fullscreen-error"].bind(this)).add("orientation-change",this["orientation-change"].bind(this))}onConnect(t){y(o(this,$,zg).bind(this)),o(this,$,Bg).call(this),o(this,$,Ug).call(this),o(this,$,Gg).call(this),o(this,$,Hg).call(this),q(o(this,$,Fg).bind(this))}onDestroy(){const{audioTracks:t,qualities:e,textTracks:n}=r(this,R);t[U.reset](),e[U.reset](),n[U.reset](),o(this,$,yo).call(this)}handle(t){if(!this.scope)return;const e=t.type;Br(()=>{var n;return(n=this[t.type])==null?void 0:n.call(this,t)}),Ev.has(e)&&r(this,Q).set(e,t),this.dispatch(t)}"provider-change"(t){var a,l;const e=r(this,R).$provider(),n=t.detail;(e==null?void 0:e.type)!==(n==null?void 0:n.type)&&((a=e==null?void 0:e.destroy)==null||a.call(e),(l=e==null?void 0:e.scope)==null||l.dispose(),r(this,R).$provider.set(t.detail),e&&t.detail===null&&o(this,$,ic).call(this,t))}"provider-loader-change"(t){}"auto-play"(t){this.$state.autoPlayError.set(null)}"auto-play-fail"(t){this.$state.autoPlayError.set(t.detail),o(this,$,Ds).call(this)}"can-load"(t){this.$state.canLoad.set(!0),r(this,Q).set("can-load",t),r(this,R).textTracks[M.canLoad](),o(this,$,lt).call(this,"media-start-loading",t)}"can-load-poster"(t){this.$state.canLoadPoster.set(!0),r(this,Q).set("can-load-poster",t),o(this,$,lt).call(this,"media-poster-start-loading",t)}"media-type-change"(t){const e=r(this,Q).get("source-change");e&&t.triggers.add(e);const n=this.$state.viewType();this.$state.mediaType.set(t.detail);const a=this.$state.providedViewType(),l=a==="unknown"?t.detail:a;n!==l&&setTimeout(()=>{requestAnimationFrame(()=>{this.scope&&(this.$state.inferredViewType.set(t.detail),this.dispatch("view-type-change",{detail:l,trigger:t}))})},0)}"stream-type-change"(t){const e=r(this,Q).get("source-change");e&&t.triggers.add(e);const{streamType:n,inferredStreamType:a}=this.$state;a.set(t.detail),t.detail=n()}"rate-change"(t){var a;const{storage:e}=r(this,R),{canPlay:n}=this.$state;this.$state.playbackRate.set(t.detail),o(this,$,lt).call(this,"media-rate-change-request",t),n()&&((a=e==null?void 0:e.setPlaybackRate)==null||a.call(e,t.detail))}"remote-playback-change"(t){const{remotePlaybackState:e,remotePlaybackType:n}=this.$state,{type:a,state:l}=t.detail,h=l==="connected";n.set(a),e.set(l);const c=a==="airplay"?"media-airplay-request":"media-google-cast-request";if(h)o(this,$,lt).call(this,c,t);else{const p=r(this,Rt).queue.peek(c);p&&(t.request=p,t.triggers.add(p))}}"sources-change"(t){const e=this.$state.sources(),n=t.detail;this.$state.sources.set(n),o(this,$,Yg).call(this,e,n,t)}"source-change"(t){var n,a;t.isQualityChange=((n=t.originEvent)==null?void 0:n.type)==="quality-change";const e=t.detail;o(this,$,ic).call(this,t,t.isQualityChange),r(this,Q).set(t.type,t),this.$state.source.set(e),(a=this.el)==null||a.setAttribute("aria-busy","true")}abort(t){const e=r(this,Q).get("source-change");e&&t.triggers.add(e);const n=r(this,Q).get("can-load");n&&!t.triggers.hasType("can-load")&&t.triggers.add(n)}"load-start"(t){const e=r(this,Q).get("source-change");e&&t.triggers.add(e)}error(t){this.$state.error.set(t.detail);const e=r(this,Q).get("abort");e&&t.triggers.add(e)}"loaded-metadata"(t){const e=r(this,Q).get("load-start");e&&t.triggers.add(e)}"loaded-data"(t){const e=r(this,Q).get("load-start");e&&t.triggers.add(e)}"can-play"(t){var n;const e=r(this,Q).get("loaded-metadata");e&&t.triggers.add(e),o(this,$,nc).call(this,t.detail),(n=this.el)==null||n.setAttribute("aria-busy","false")}"can-play-through"(t){o(this,$,nc).call(this,t.detail);const e=r(this,Q).get("can-play");e&&t.triggers.add(e)}"duration-change"(t){const{live:e,intrinsicDuration:n,providedDuration:a,clipEndTime:l,ended:h}=this.$state,c=t.detail;if(!e()){const p=Number.isNaN(c)?0:c;n.set(p),h()&&o(this,$,ac).call(this,t)}(a()>0||l()>0)&&t.stopImmediatePropagation()}progress(t){const{buffered:e,bufferedEnd:n,seekable:a,seekableEnd:l,live:h,intrinsicDuration:c}=this.$state,{buffered:p,seekable:f}=t.detail,m=Hr(p)??1/0,b=p.length!==e().length,w=m>n(),v=Hr(f)??1/0,k=f.length!==a().length,G=v>l();(b||w)&&e.set(p),(k||G)&&a.set(f),h()&&(c.set(v),this.dispatch("duration-change",{detail:v,trigger:t}))}play(t){const{paused:e,autoPlayError:n,ended:a,autoPlaying:l,playsInline:h,pointer:c,muted:p,viewType:f,live:m,userBehindLiveEdge:b}=this.$state;if(o(this,$,rc).call(this),!e()){t.stopImmediatePropagation();return}t.autoPlay=l();const w=r(this,Q).get("waiting");w&&t.triggers.add(w),o(this,$,lt).call(this,"media-play-request",t),r(this,Q).set("play",t),e.set(!1),n.set(null),t.autoPlay&&(this.handle(this.createEvent("auto-play",{detail:{muted:p()},trigger:t})),l.set(!1)),(a()||r(this,Rt).replaying)&&(r(this,Rt).replaying=!1,a.set(!1),this.handle(this.createEvent("replay",{trigger:t}))),!h()&&f()==="video"&&c()==="coarse"&&r(this,R).remote.enterFullscreen("prefer-media",t),m()&&!b()&&r(this,R).remote.seekToLiveEdge(t)}"play-fail"(t){const{muted:e,autoPlaying:n}=this.$state,a=r(this,Q).get("play");a&&t.triggers.add(a),o(this,$,lt).call(this,"media-play-request",t);const{paused:l,playing:h}=this.$state;l.set(!0),h.set(!1),o(this,$,Ds).call(this),r(this,Q).set("play-fail",t),t.autoPlay&&(this.handle(this.createEvent("auto-play-fail",{detail:{muted:e(),error:t.detail},trigger:t})),n.set(!1))}playing(t){const e=r(this,Q).get("play"),n=r(this,Q).get("seeked");e?t.triggers.add(e):n&&t.triggers.add(n),setTimeout(()=>o(this,$,Ds).call(this),0);const{paused:a,playing:l,live:h,liveSyncPosition:c,seekableEnd:p,started:f,currentTime:m,seeking:b,ended:w}=this.$state;if(a.set(!1),l.set(!0),b.set(!1),w.set(!1),r(this,Rt).looping){r(this,Rt).looping=!1;return}if(h()&&!f()&&m()===0){const v=c()??p()-2;Number.isFinite(v)&&r(this,R).$provider().setCurrentTime(v)}this.started(t)}started(t){const{started:e}=this.$state;e()||(e.set(!0),this.handle(this.createEvent("started",{trigger:t})))}pause(t){var l;(l=this.el)!=null&&l.isConnected||d(this,oi,!0),o(this,$,lt).call(this,"media-pause-request",t);const e=r(this,Q).get("seeked");e&&t.triggers.add(e);const{paused:n,playing:a}=this.$state;n.set(!0),a.set(!1),r(this,en)&&setTimeout(()=>{this.handle(this.createEvent("end",{trigger:t})),d(this,en,!1)},0),o(this,$,Ds).call(this)}"time-change"(t){if(r(this,Rt).looping){t.stopImmediatePropagation();return}let{waiting:e,played:n,clipEndTime:a,realCurrentTime:l,currentTime:h}=this.$state,c=t.detail,p=a();l.set(c),o(this,$,Xg).call(this),e.set(!1);for(const f of r(this,R).textTracks)f[M.updateActiveCues](c,t);p>0&&c>=p&&(d(this,en,!0),this.dispatch("media-pause-request",{trigger:t})),o(this,$,Jg).call(this),this.dispatch("time-update",{detail:{currentTime:h(),played:n()},trigger:t})}"audio-gain-change"(t){var l;const{storage:e}=r(this,R),{canPlay:n,audioGain:a}=this.$state;a.set(t.detail),o(this,$,lt).call(this,"media-audio-gain-change-request",t),n()&&((l=e==null?void 0:e.setAudioGain)==null||l.call(e,a()))}"volume-change"(t){var c,p;const{storage:e}=r(this,R),{volume:n,muted:a,canPlay:l}=this.$state,h=t.detail;n.set(h.volume),a.set(h.muted||h.volume===0),o(this,$,lt).call(this,"media-volume-change-request",t),o(this,$,lt).call(this,h.muted?"media-mute-request":"media-unmute-request",t),l()&&((c=e==null?void 0:e.setVolume)==null||c.call(e,n()),(p=e==null?void 0:e.setMuted)==null||p.call(e,a()))}seeked(t){const{seeking:e,currentTime:n,realCurrentTime:a,paused:l,seekableEnd:h,ended:c}=this.$state;if(r(this,Rt).seeking)e.set(!0),t.stopImmediatePropagation();else if(e()){const p=r(this,Q).get("waiting");p&&t.triggers.add(p);const f=r(this,Q).get("seeking");f&&!t.triggers.has(f)&&t.triggers.add(f),l()&&o(this,$,oc).call(this),e.set(!1),a.set(t.detail),o(this,$,lt).call(this,"media-seek-request",t);const m=t==null?void 0:t.originEvent;m!=null&&m.isTrusted&&!(m instanceof MessageEvent)&&!/seek/.test(m.type)&&this.started(t)}Math.floor(n())!==Math.floor(h())?c.set(!1):this.end(t)}waiting(t){r(this,nn)||r(this,Rt).seeking||(t.stopImmediatePropagation(),d(this,$s,t),r(this,ar).call(this))}end(t){const{loop:e,ended:n}=this.$state;if(!(!e()&&n())){if(e()){setTimeout(()=>{requestAnimationFrame(()=>{o(this,$,rc).call(this,t),this.dispatch("media-loop-request",{trigger:t})})},10);return}setTimeout(()=>o(this,$,Zg).call(this,t),0)}}"fullscreen-change"(t){const e=t.detail;this.$state.fullscreen.set(e),o(this,$,lt).call(this,e?"media-enter-fullscreen-request":"media-exit-fullscreen-request",t)}"fullscreen-error"(t){o(this,$,lt).call(this,"media-enter-fullscreen-request",t),o(this,$,lt).call(this,"media-exit-fullscreen-request",t)}"orientation-change"(t){const e=t.detail.lock;o(this,$,lt).call(this,e?"media-orientation-lock-request":"media-orientation-unlock-request",t)}"picture-in-picture-change"(t){const e=t.detail;this.$state.pictureInPicture.set(e),o(this,$,lt).call(this,e?"media-enter-pip-request":"media-exit-pip-request",t)}"picture-in-picture-error"(t){o(this,$,lt).call(this,"media-enter-pip-request",t),o(this,$,lt).call(this,"media-exit-pip-request",t)}"title-change"(t){t.trigger&&(t.stopImmediatePropagation(),this.$state.inferredTitle.set(t.detail))}"poster-change"(t){t.trigger&&(t.stopImmediatePropagation(),this.$state.inferredPoster.set(t.detail))}}Rt=new WeakMap,R=new WeakMap,Q=new WeakMap,en=new WeakMap,nr=new WeakMap,sn=new WeakMap,nn=new WeakMap,$s=new WeakMap,oi=new WeakMap,$=new WeakSet,Hg=function(){r(this,oi)&&(requestAnimationFrame(()=>{this.scope&&r(this,R).remote.play(new rt("dom-connect"))}),d(this,oi,!1))},Fg=function(){var t;r(this,oi)||(d(this,oi,!this.$state.paused()),(t=r(this,R).$provider())==null||t.pause())},Ds=function(){o(this,$,oc).call(this),d(this,en,!1),r(this,Rt).replaying=!1,r(this,Rt).looping=!1,d(this,nn,!1),d(this,$s,void 0),r(this,Q).clear()},lt=function(t,e){const n=r(this,Rt).queue.serve(t);n&&(e.request=n,e.triggers.add(n))},Bg=function(){o(this,$,go).call(this),o(this,$,Zh).call(this);const t=r(this,R).textTracks;new dt(t).add("add",o(this,$,go).bind(this)).add("remove",o(this,$,go).bind(this)).add("mode-change",o(this,$,Zh).bind(this))},Ug=function(){const t=r(this,R).qualities;new dt(t).add("add",o(this,$,ec).bind(this)).add("remove",o(this,$,ec).bind(this)).add("change",o(this,$,Wg).bind(this)).add("auto-change",o(this,$,jg).bind(this)).add("readonly-change",o(this,$,Qg).bind(this))},Gg=function(){const t=r(this,R).audioTracks;new dt(t).add("add",o(this,$,tc).bind(this)).add("remove",o(this,$,tc).bind(this)).add("change",o(this,$,Kg).bind(this))},go=function(t){const{textTracks:e}=this.$state;e.set(r(this,R).textTracks.toArray()),this.dispatch("text-tracks-change",{detail:e(),trigger:t})},Zh=function(t){t&&o(this,$,lt).call(this,"media-text-track-change-request",t);const e=r(this,R).textTracks.selected,{textTrack:n}=this.$state;n()!==e&&(n.set(e),this.dispatch("text-track-change",{detail:e,trigger:t}))},tc=function(t){const{audioTracks:e}=this.$state;e.set(r(this,R).audioTracks.toArray()),this.dispatch("audio-tracks-change",{detail:e(),trigger:t})},Kg=function(t){const{audioTrack:e}=this.$state;e.set(r(this,R).audioTracks.selected),t&&o(this,$,lt).call(this,"media-audio-track-change-request",t),this.dispatch("audio-track-change",{detail:e(),trigger:t})},ec=function(t){const{qualities:e}=this.$state;e.set(r(this,R).qualities.toArray()),this.dispatch("qualities-change",{detail:e(),trigger:t})},Wg=function(t){const{quality:e}=this.$state;e.set(r(this,R).qualities.selected),t&&o(this,$,lt).call(this,"media-quality-change-request",t),this.dispatch("quality-change",{detail:e(),trigger:t})},jg=function(){const{qualities:t}=r(this,R),e=t.auto;this.$state.autoQuality.set(e),e||o(this,$,yo).call(this)},rr=new WeakMap,sc=function(){o(this,$,yo).call(this),d(this,rr,y(()=>{const{qualities:t}=r(this,R),{mediaWidth:e,mediaHeight:n}=this.$state,a=e(),l=n();if(a===0||l===0)return;let h=null,c=1/0;for(const p of t){const f=Math.abs(p.width-a)+Math.abs(p.height-l);f<c&&(c=f,h=p)}h&&t[U.select](h,!0,new rt("resize",{detail:{width:a,height:l}}))}))},yo=function(){var t;(t=r(this,rr))==null||t.call(this),d(this,rr,null)},Qg=function(){this.$state.canSetQuality.set(!r(this,R).qualities.readonly)},zg=function(){const{canSetVolume:t,isGoogleCastConnected:e}=this.$state;if(e()){t.set(!1);return}C$().then(t.set)},Yg=function(t,e,n){let{qualities:a}=r(this,R),l=!1,h=!1;for(const c of t){if(!Oh(c))continue;if(!e.some(f=>f.src===c.src)){const f=a.getBySrc(c.src);f&&(a[U.remove](f,n),h=!0)}}h&&!a.length&&(this.$state.savedState.set(null),a[U.reset](n));for(const c of e){if(!Oh(c)||a.getBySrc(c.src))continue;const p={id:c.id??c.height+"p",bitrate:null,codec:null,...c,selected:!1};a[U.add](p,n),l=!0}l&&!a[me.enableAuto]&&(o(this,$,sc).call(this),a[me.enableAuto]=o(this,$,sc).bind(this),a[me.setAuto](!0,n))},ic=function(t,e=!1){const{audioTracks:n,qualities:a}=r(this,R);if(!e){d(this,nr,[]),d(this,sn,[-1,-1]),n[U.reset](t),a[U.reset](t),Du(this.$state,e),o(this,$,Ds).call(this);return}Du(this.$state,e),o(this,$,Ds).call(this)},nc=function(t){const{seekable:e,buffered:n,intrinsicDuration:a,canPlay:l}=this.$state;l.set(!0),n.set(t.buffered),e.set(t.seekable);const h=Hr(t.seekable)??1/0;a.set(h)},rc=function(t){if(!S(r(this,R).$provider))return;const{ended:n,seekableStart:a,clipStartTime:l,clipEndTime:h,currentTime:c,realCurrentTime:p,duration:f}=this.$state,m=n()||p()<l()||h()>0&&p()>=h()||Math.abs(c()-f())<.1;return m&&this.dispatch("media-seek-request",{detail:a(),trigger:t}),m},Xg=function(){const{currentTime:t,played:e,paused:n}=this.$state;n()||(d(this,sn,Fw(r(this,nr),r(this,sn),t())),e.set(new po(r(this,nr))))},ac=function(t){const{clipStartTime:e,clipEndTime:n,duration:a}=this.$state;e()>0||n()>0||this.handle(this.createEvent("time-change",{detail:a(),trigger:t}))},Jg=function(){var a;const{storage:t}=r(this,R),{canPlay:e,realCurrentTime:n}=this.$state;e()&&((a=t==null?void 0:t.setTime)==null||a.call(t,n()))},ar=new WeakMap,Zg=function(t){var c;const{storage:e}=r(this,R),{paused:n,seeking:a,ended:l,duration:h}=this.$state;o(this,$,ac).call(this,t),n()||this.dispatch("pause",{trigger:t}),a()&&this.dispatch("seeked",{detail:h(),trigger:t}),l.set(!0),o(this,$,Ds).call(this),(c=e==null?void 0:e.setTime)==null||c.call(e,h(),!0),this.dispatch("ended",{trigger:t})},oc=function(){r(this,ar).cancel(),this.$state.waiting.set(!1)};var V,ty,ey,Lv,sy,iy,ny,ry,ay,oy,ly,hy,cy,uy,dy,py,fy,my;class Cv extends yn{constructor(){super(...arguments);u(this,V)}onSetup(){o(this,V,ty).call(this);const t=[o(this,V,sy),o(this,V,ny),o(this,V,uy),o(this,V,dy),o(this,V,ay),o(this,V,ly),o(this,V,hy),o(this,V,py),o(this,V,my),o(this,V,fy),o(this,V,ry),o(this,V,cy),o(this,V,oy),o(this,V,ey),o(this,V,iy)];for(const e of t)y(e.bind(this))}}V=new WeakSet,ty=function(){var n;const t={duration:"providedDuration",loop:"providedLoop",poster:"providedPoster",streamType:"providedStreamType",title:"providedTitle",viewType:"providedViewType"},e=new Set(["currentTime","paused","playbackRate","volume"]);for(const a of Object.keys(this.$props))e.has(a)||(n=this.$state[t[a]??a])==null||n.set(this.$props[a]());this.$state.muted.set(this.$props.muted()||this.$props.volume()===0)},ey=function(){const{viewType:t,streamType:e,title:n,poster:a,loop:l}=this.$props,h=this.$state;h.providedPoster.set(a()),h.providedStreamType.set(e()),h.providedViewType.set(t()),h.providedTitle.set(n()),h.providedLoop.set(l())},Lv=function(){},sy=function(){const{artist:t,artwork:e}=this.$props;this.$state.artist.set(t()),this.$state.artwork.set(e())},iy=function(){const{title:t}=this.$state;this.dispatch("title-change",{detail:t()})},ny=function(){const t=this.$props.autoPlay()||this.$props.autoplay();this.$state.autoPlay.set(t),this.dispatch("auto-play-change",{detail:t})},ry=function(){const t=this.$state.loop();this.dispatch("loop-change",{detail:t})},ay=function(){const t=this.$props.controls();this.$state.controls.set(t)},oy=function(){const{poster:t}=this.$state;this.dispatch("poster-change",{detail:t()})},ly=function(){const t=this.$props.crossOrigin()??this.$props.crossorigin(),e=t===!0?"":t;this.$state.crossOrigin.set(e)},hy=function(){const{duration:t}=this.$props;this.dispatch("media-duration-change-request",{detail:t()})},cy=function(){const t=this.$props.playsInline()||this.$props.playsinline();this.$state.playsInline.set(t),this.dispatch("plays-inline-change",{detail:t})},uy=function(){const{clipStartTime:t}=this.$props;this.dispatch("media-clip-start-change-request",{detail:t()})},dy=function(){const{clipEndTime:t}=this.$props;this.dispatch("media-clip-end-change-request",{detail:t()})},py=function(){this.dispatch("live-change",{detail:this.$state.live()})},fy=function(){this.$state.liveEdgeTolerance.set(this.$props.liveEdgeTolerance()),this.$state.minLiveDVRWindow.set(this.$props.minLiveDVRWindow())},my=function(){this.dispatch("live-edge-change",{detail:this.$state.liveEdge()})};const Hu=["play","pause","seekforward","seekbackward","seekto"];var Xe,gy,yy,by,$y;class Mv extends yn{constructor(){super(...arguments);u(this,Xe)}onConnect(){y(o(this,Xe,yy).bind(this)),y(o(this,Xe,by).bind(this));const t=o(this,Xe,$y).bind(this);for(const e of Hu)navigator.mediaSession.setActionHandler(e,t);q(o(this,Xe,gy).bind(this))}}Xe=new WeakSet,gy=function(){for(const t of Hu)navigator.mediaSession.setActionHandler(t,null)},yy=function(){const{title:t,artist:e,artwork:n,poster:a}=this.$state;navigator.mediaSession.metadata=new MediaMetadata({title:t(),artist:e(),artwork:n()??[{src:a()}]})},by=function(){const{canPlay:t,paused:e}=this.$state;navigator.mediaSession.playbackState=t()?e()?"paused":"playing":"none"},$y=function(t){const e=new rt("media-session-action",{detail:t});switch(t.action){case"play":this.dispatch("media-play-request",{trigger:e});break;case"pause":this.dispatch("media-pause-request",{trigger:e});break;case"seekto":case"seekforward":case"seekbackward":this.dispatch("media-seek-request",{detail:Ae(t.seekTime)?t.seekTime:this.$state.currentTime()+(t.seekOffset??(t.action==="seekforward"?10:-10)),trigger:e});break}};var _t,rn,Et,T,Qt,bo,or,wy,vy,Ty,ky,Sy,qr,lc,Ay,hc,Py,cc,_y,uc,Ey,dc,xy,pc,Cy,Ly,My,Iy;const ki=class ki extends tt{constructor(){super();u(this,T);u(this,_t);u(this,rn);u(this,Et);g(this,"canPlayQueue",new xg);g(this,"remoteControl");u(this,or,!1);g(this,"orientation");new Cv;const t={player:this,qualities:new lv,audioTracks:new ov,storage:null,$provider:O(null),$providerSetup:O(!1),$props:this.$props,$state:this.$state};t.remote=this.remoteControl=new ev(void 0),t.remote.setPlayer(this),t.textTracks=new av,t.textTracks[M.crossOrigin]=this.$state.crossOrigin,t.textRenderers=new rv(t),t.ariaKeys={},d(this,_t,t),xe(Td,t),this.orientation=new xo,new gn,new fv(t);const e=new _v;d(this,rn,new xv(e,t)),d(this,Et,new Av(r(this,rn),e,t)),t.delegate=new kv(r(this,rn).handle.bind(r(this,rn)),t),t.notify=t.delegate.notify.bind(t.delegate),typeof navigator<"u"&&"mediaSession"in navigator&&new Mv,new Ru("load",this.startLoading.bind(this)),new Ru("posterLoad",this.startLoadingPoster.bind(this))}onSetup(){o(this,T,ky).call(this),y(o(this,T,Ty).bind(this)),y(o(this,T,Py).bind(this)),y(o(this,T,Ay).bind(this)),y(o(this,T,Ey).bind(this)),y(o(this,T,_y).bind(this)),y(o(this,T,Cy).bind(this)),y(o(this,T,xy).bind(this))}onAttach(t){t.setAttribute("data-media-player",""),pt(t,"tabindex","0"),pt(t,"role","region"),y(o(this,T,My).bind(this)),y(o(this,T,wy).bind(this)),y(o(this,T,vy).bind(this)),ae(t,"find-media-player",o(this,T,Sy).bind(this))}onConnect(t){Ed&&C(t,"data-iphone","");const e=window.matchMedia("(pointer: coarse)");o(this,T,lc).call(this,e),e.onchange=o(this,T,lc).bind(this);const n=new ResizeObserver(fn(o(this,T,qr).bind(this)));n.observe(t),y(o(this,T,qr).bind(this)),this.dispatch("media-player-connect",{detail:this,bubbles:!0,composed:!0}),q(()=>{n.disconnect(),e.onchange=null})}onDestroy(){r(this,_t).player=null,this.canPlayQueue.reset()}get provider(){return r(this,T,Qt)}get controls(){return r(this,Et).controls}set controls(t){r(this,T,bo).controls.set(t)}get title(){return S(this.$state.title)}set title(t){if(r(this,or)){d(this,or,!1);return}r(this,T,bo).title.set(t)}get qualities(){return r(this,_t).qualities}get audioTracks(){return r(this,_t).audioTracks}get textTracks(){return r(this,_t).textTracks}get textRenderers(){return r(this,_t).textRenderers}get duration(){return this.$state.duration()}set duration(t){r(this,T,bo).duration.set(t)}get paused(){return S(this.$state.paused)}set paused(t){o(this,T,hc).call(this,t)}get muted(){return S(this.$state.muted)}set muted(t){o(this,T,cc).call(this,t)}get currentTime(){return S(this.$state.currentTime)}set currentTime(t){o(this,T,uc).call(this,t)}get volume(){return S(this.$state.volume)}set volume(t){o(this,T,dc).call(this,t)}get playbackRate(){return S(this.$state.playbackRate)}set playbackRate(t){o(this,T,pc).call(this,t)}async play(t){return r(this,Et).play(t)}async pause(t){return r(this,Et).pause(t)}async enterFullscreen(t,e){return r(this,Et).enterFullscreen(t,e)}async exitFullscreen(t,e){return r(this,Et).exitFullscreen(t,e)}enterPictureInPicture(t){return r(this,Et).enterPictureInPicture(t)}exitPictureInPicture(t){return r(this,Et).exitPictureInPicture(t)}seekToLiveEdge(t){r(this,Et).seekToLiveEdge(t)}startLoading(t){r(this,_t).notify("can-load",void 0,t)}startLoadingPoster(t){r(this,_t).notify("can-load-poster",void 0,t)}requestAirPlay(t){return r(this,Et).requestAirPlay(t)}requestGoogleCast(t){return r(this,Et).requestGoogleCast(t)}setAudioGain(t,e){return r(this,Et).setAudioGain(t,e)}destroy(){super.destroy(),r(this,_t).remote.setPlayer(null),this.dispatch("destroy")}};_t=new WeakMap,rn=new WeakMap,Et=new WeakMap,T=new WeakSet,Qt=function(){return r(this,_t).$provider()},bo=function(){return this.$props},or=new WeakMap,wy=function(){const t=this.$el,{title:e,live:n,viewType:a,providedTitle:l}=this.$state,h=n(),c=jb(a()),p=c!=="Unknown"?`${h?"Live ":""}${c}`:h?"Live":"Media",f=e();C(this.el,"aria-label",`${p} Player`+(f?` - ${f}`:"")),t!=null&&t.hasAttribute("title")&&(d(this,or,!0),t==null||t.removeAttribute("title"))},vy=function(){const t=this.orientation.landscape?"landscape":"portrait";this.$state.orientation.set(t),C(this.el,"data-orientation",t),o(this,T,qr).call(this)},Ty=function(){this.$state.canPlay()&&r(this,T,Qt)?this.canPlayQueue.start():this.canPlayQueue.stop()},ky=function(){if(ki[Cl]){this.setAttributes(ki[Cl]);return}const t={"data-load":function(){return this.$props.load()},"data-captions":function(){const n=this.$state.textTrack();return!!n&&Nt(n)},"data-ios-controls":function(){return this.$state.iOSControls()},"data-controls":function(){return this.controls.showing},"data-buffering":function(){const{canLoad:n,canPlay:a,waiting:l}=this.$state;return n()&&(!a()||l())},"data-error":function(){const{error:n}=this.$state;return!!n()},"data-autoplay-error":function(){const{autoPlayError:n}=this.$state;return!!n()}},e={autoPlay:"autoplay",canAirPlay:"can-airplay",canPictureInPicture:"can-pip",pictureInPicture:"pip",playsInline:"playsinline",remotePlaybackState:"remote-state",remotePlaybackType:"remote-type",isAirPlayConnected:"airplay",isGoogleCastConnected:"google-cast"};for(const n of vv){const a="data-"+(e[n]??yd(n));t[a]=function(){return this.$state[n]()}}delete t.title,ki[Cl]=t,this.setAttributes(t)},Sy=function(t){t.detail(this)},qr=function(){if(!this.el)return;const t=this.el.clientWidth,e=this.el.clientHeight;this.$state.width.set(t),this.$state.height.set(e),Ps(this.el,"--player-width",t+"px"),Ps(this.el,"--player-height",e+"px")},lc=function(t){const e=t.matches?"coarse":"fine";C(this.el,"data-pointer",e),this.$state.pointer.set(e),o(this,T,qr).call(this)},Ay=function(){o(this,T,hc).call(this,this.$props.paused())},hc=function(t){t?this.canPlayQueue.enqueue("paused",()=>r(this,Et).pause()):this.canPlayQueue.enqueue("paused",()=>r(this,Et).play())},Py=function(){o(this,T,cc).call(this,this.$props.muted())},cc=function(t){this.canPlayQueue.enqueue("muted",()=>{r(this,T,Qt)&&r(this,T,Qt).setMuted(t)})},_y=function(){o(this,T,uc).call(this,this.$props.currentTime())},uc=function(t){this.canPlayQueue.enqueue("currentTime",()=>{const{currentTime:e,clipStartTime:n,seekableStart:a,seekableEnd:l}=this.$state;t!==S(e)&&S(()=>{if(!r(this,T,Qt))return;const h=t+n(),c=Math.floor(t)===Math.floor(a()),p=Math.floor(h)===Math.floor(l()),f=c?a():p?l():Math.min(Math.max(a()+.1,h),l()-.1);Number.isFinite(f)&&r(this,T,Qt).setCurrentTime(f)})})},Ey=function(){o(this,T,dc).call(this,this.$props.volume())},dc=function(t){const e=jc(0,t,1);this.canPlayQueue.enqueue("volume",()=>{r(this,T,Qt)&&r(this,T,Qt).setVolume(e)})},xy=function(){o(this,T,pc).call(this,this.$props.playbackRate())},pc=function(t){this.canPlayQueue.enqueue("rate",()=>{var e,n;r(this,T,Qt)&&((n=(e=r(this,T,Qt)).setPlaybackRate)==null||n.call(e,t))})},Cy=function(){o(this,T,Ly).call(this,this.$props.playsInline())},Ly=function(t){this.canPlayQueue.enqueue("playsinline",()=>{var e,n;r(this,T,Qt)&&((n=(e=r(this,T,Qt)).setPlaysInline)==null||n.call(e,t))})},My=function(){var n;let t=this.$props.storage(),e=x(t)?new iv:t;if(e!=null&&e.onChange){const{source:a}=this.$state,l=x(t)?t:(n=this.el)==null?void 0:n.id,h=_s(o(this,T,Iy).bind(this));y(()=>e.onChange(a(),h(),l||void 0))}r(this,_t).storage=e,r(this,_t).textTracks.setStorage(e),q(()=>{var a;(a=e==null?void 0:e.onDestroy)==null||a.call(e),r(this,_t).storage=null,r(this,_t).textTracks.setStorage(null)})},Iy=function(){const{clipStartTime:t,clipEndTime:e}=this.$props,{source:n}=this.$state,a=n();return a.src?`${a.src}:${t()}:${e()}`:null},g(ki,"props",Tv),g(ki,"state",ig);let Co=ki;const X=Co.prototype;z(X,"canPlayQueue");z(X,"remoteControl");z(X,"provider");z(X,"controls");z(X,"orientation");z(X,"title");z(X,"qualities");z(X,"audioTracks");z(X,"textTracks");z(X,"textRenderers");z(X,"duration");z(X,"paused");z(X,"muted");z(X,"currentTime");z(X,"volume");z(X,"playbackRate");$t(X,"play");$t(X,"pause");$t(X,"enterFullscreen");$t(X,"exitFullscreen");$t(X,"enterPictureInPicture");$t(X,"exitPictureInPicture");$t(X,"seekToLiveEdge");$t(X,"startLoading");$t(X,"startLoadingPoster");$t(X,"requestAirPlay");$t(X,"requestGoogleCast");$t(X,"setAudioGain");function Iv(i,s){return fetch(i,s).then(t=>t.text()).then(t=>/type="static"/.test(t)?"on-demand":"live")}function qy(i,s){return fetch(i,s).then(t=>t.text()).then(t=>{const e=qv(t);if(e)return qy(/^https?:/.test(e)?e:new URL(e,i).href,s);const n=/EXT-X-PLAYLIST-TYPE:\s*VOD/.test(t)?"on-demand":"live";return n==="live"&&Ov(t)>=10&&(/#EXT-X-DVR-ENABLED:\s*true/.test(t)||t.includes("#EXT-X-DISCONTINUITY"))?"live:dvr":n})}function qv(i){const s=i.match(/#EXT-X-STREAM-INF:[^\n]+(\n[^\n]+)*/g);return s?s[0].split(`
`)[1].trim():null}function Ov(i){const s=i.split(`
`);for(const t of s)if(t.startsWith("#EXT-X-TARGETDURATION")){const e=parseFloat(t.split(":")[1]);if(!isNaN(e))return e}return-1}const fc=new Map;var lr,hr,Ta,N,ws,yt,Oy,Dy,mc,gc,yc,Vy,Ry,Ny;class Dv{constructor(s,t,e,n=[]){u(this,yt);u(this,lr,!1);u(this,hr);u(this,Ta);u(this,N);u(this,ws);d(this,Ta,s),d(this,N,t),d(this,ws,e);const a=new Kh,l=new Gh,h=new iu,c=new bv,p=new wv,f=new $v,m=[p,f];d(this,hr,_s(()=>{const w=t.$state.remotePlaybackLoader(),v=t.$props.preferNativeHLS()?[h,c,a,l,...m,...n]:[l,h,c,a,...m,...n];return w?[w,...v]:v}));const{$state:b}=t;b.sources.set(Fu(t.$props.src()));for(const w of b.sources()){const v=r(this,hr).call(this).find(G=>G.canPlay(w));if(!v)continue;const k=v.mediaType(w);t.$state.source.set(w),t.$state.mediaType.set(k),t.$state.inferredViewType.set(k),r(this,ws).set(v),d(this,lr,!0);break}}connect(){const s=r(this,ws).call(this);r(this,lr)&&(o(this,yt,gc).call(this,r(this,N).$state.source(),s),o(this,yt,yc).call(this,s),d(this,lr,!1)),y(o(this,yt,Oy).bind(this)),y(o(this,yt,Dy).bind(this)),y(o(this,yt,Vy).bind(this)),y(o(this,yt,Ry).bind(this)),y(o(this,yt,Ny).bind(this))}}lr=new WeakMap,hr=new WeakMap,Ta=new WeakMap,N=new WeakMap,ws=new WeakMap,yt=new WeakSet,Oy=function(){r(this,N).notify("sources-change",[...Fu(r(this,N).$props.src()),...r(this,Ta).call(this)])},Dy=function(){var l;const{$state:s}=r(this,N),t=s.sources(),e=S(s.source),n=o(this,yt,mc).call(this,e,t);if(((l=t[0])==null?void 0:l.src)&&!n.src&&!n.type){const{crossOrigin:h}=s,c=Rr(h()),p=new AbortController;return Promise.all(t.map(f=>x(f.src)&&f.type==="?"?fetch(f.src,{method:"HEAD",credentials:c,signal:p.signal}).then(m=>(f.type=m.headers.get("content-type")||"??",fc.set(f.src,f.type),f)).catch(()=>f):f)).then(f=>{if(p.signal.aborted)return;const m=o(this,yt,mc).call(this,S(s.source),f);ci(),m.src||r(this,N).notify("error",{message:"Failed to load resource.",code:4})}),()=>p.abort()}ci()},mc=function(s,t){let e={src:"",type:""},n=null,a=new rt("sources-change",{detail:{sources:t}}),l=r(this,hr).call(this),{started:h,paused:c,currentTime:p,quality:f,savedState:m}=r(this,N).$state;for(const b of t){const w=l.find(v=>v.canPlay(b));if(w){e=b,n=w;break}}if(Oh(e)){const b=f(),w=t.find(v=>v.src===(b==null?void 0:b.src));S(h)?m.set({paused:S(c),currentTime:S(p)}):m.set(null),w&&(e=w,a=new rt("quality-change",{detail:{quality:b}}))}return Uu(s,e)||o(this,yt,gc).call(this,e,n,a),n!==S(r(this,ws))&&o(this,yt,yc).call(this,n,a),e},gc=function(s,t,e){r(this,N).notify("source-change",s,e),r(this,N).notify("media-type-change",(t==null?void 0:t.mediaType(s))||"unknown",e)},yc=function(s,t){r(this,N).$providerSetup.set(!1),r(this,N).notify("provider-change",null,t),s&&S(()=>{var e;return(e=s.preconnect)==null?void 0:e.call(s,r(this,N))}),r(this,ws).set(s),r(this,N).notify("provider-loader-change",s,t)},Vy=function(){const s=r(this,N).$provider();if(!(!s||S(r(this,N).$providerSetup))){if(r(this,N).$state.canLoad()){ne(()=>s.setup(),s.scope),r(this,N).$providerSetup.set(!0);return}S(()=>{var t;return(t=s.preconnect)==null?void 0:t.call(s)})}},Ry=function(){if(!r(this,N).$providerSetup())return;const s=r(this,N).$provider(),t=r(this,N).$state.source(),e=S(r(this,N).$state.crossOrigin),n=S(r(this,N).$props.preferNativeHLS);if(!Uu(s==null?void 0:s.currentSrc,t)){if(r(this,N).$state.canLoad()){const a=new AbortController;return Oa(t)?(n||!Uc())&&qy(t.src,{credentials:Rr(e),signal:a.signal}).then(l=>{r(this,N).notify("stream-type-change",l)}).catch(To):Wc(t)?Iv(t.src,{credentials:Rr(e),signal:a.signal}).then(l=>{r(this,N).notify("stream-type-change",l)}).catch(To):r(this,N).notify("stream-type-change","on-demand"),S(()=>{const l=S(r(this,N).$state.preload);return s==null?void 0:s.loadSource(t,l).catch(h=>{})}),()=>a.abort()}try{x(t.src)&&Da(new URL(t.src).origin)}catch{}}},Ny=function(){const s=r(this,ws).call(this),{providedPoster:t,source:e,canLoadPoster:n}=r(this,N).$state;if(!s||!s.loadPoster||!e()||!n()||t())return;const a=new AbortController,l=new rt("source-change",{detail:e});return s.loadPoster(e(),r(this,N),a).then(h=>{r(this,N).notify("poster-change",h||"",l)}).catch(()=>{r(this,N).notify("poster-change","",l)}),()=>{a.abort()}};function Fu(i){return(Lt(i)?i:[i]).map(s=>x(s)?{src:s,type:Bu(s)}:{...s,type:Bu(s.src,s.type)})}function Bu(i,s){return x(s)&&s.length?s:x(i)&&fc.has(i)?fc.get(i):!s&&Oa({src:i,type:""})?"application/x-mpegurl":!s&&Wc({src:i,type:""})?"application/dash+xml":!x(i)||i.startsWith("blob:")?"video/object":i.includes("youtube")||i.includes("youtu.be")?"video/youtube":i.includes("vimeo")&&!i.includes("progressive_redirect")&&!i.includes(".m3u8")?"video/vimeo":"?"}function Uu(i,s){return(i==null?void 0:i.src)===(s==null?void 0:s.src)&&(i==null?void 0:i.type)===(s==null?void 0:s.type)}var ka,li,Sa,Zo,Hy;class Vv{constructor(s,t){u(this,Zo);u(this,ka);u(this,li);u(this,Sa,[]);d(this,ka,s),d(this,li,t),y(o(this,Zo,Hy).bind(this))}}ka=new WeakMap,li=new WeakMap,Sa=new WeakMap,Zo=new WeakSet,Hy=function(){const s=r(this,ka).call(this);for(const t of r(this,Sa))if(!s.some(e=>e.id===t.id)){const e=t.id&&r(this,li).textTracks.getById(t.id);e&&r(this,li).textTracks.remove(e)}for(const t of s){const e=t.id||Ao.createId(t);r(this,li).textTracks.getById(e)||(t.id=e,r(this,li).textTracks.add(t))}d(this,Sa,s)};var Se,Aa,Pa,_a,cr,ur,te,Fy,bc,$c,wc;class Lo extends tt{constructor(){super(...arguments);u(this,te);u(this,Se);u(this,Aa);u(this,Pa,O([]));u(this,_a,O([]));u(this,cr,null);u(this,ur,-1)}onSetup(){d(this,Se,D()),d(this,Aa,new Dv(r(this,Pa),r(this,Se),this.$state.loader,this.$props.loaders()))}onAttach(t){t.setAttribute("data-media-provider","")}onConnect(t){r(this,Aa).connect(),new Vv(r(this,_a),r(this,Se));const e=new ResizeObserver(fn(o(this,te,$c).bind(this)));e.observe(t);const n=new MutationObserver(o(this,te,wc).bind(this));n.observe(t,{attributes:!0,childList:!0}),o(this,te,$c).call(this),o(this,te,wc).call(this),q(()=>{e.disconnect(),n.disconnect()})}load(t){t==null||t.setAttribute("aria-hidden","true"),window.cancelAnimationFrame(r(this,ur)),d(this,ur,requestAnimationFrame(()=>o(this,te,Fy).call(this,t))),q(()=>{window.cancelAnimationFrame(r(this,ur))})}onDestroy(){d(this,cr,null),o(this,te,bc).call(this)}}Se=new WeakMap,Aa=new WeakMap,Pa=new WeakMap,_a=new WeakMap,cr=new WeakMap,ur=new WeakMap,te=new WeakSet,Fy=function(t){if(!this.scope)return;const e=this.$state.loader(),{$provider:n}=r(this,Se);r(this,cr)===e&&(e==null?void 0:e.target)===t&&S(n)||(o(this,te,bc).call(this),d(this,cr,e),e&&(e.target=t||null),!(!e||!t)&&e.load(r(this,Se)).then(a=>{this.scope&&S(this.$state.loader)===e&&r(this,Se).notify("provider-change",a)}))},bc=function(){var t;(t=r(this,Se))==null||t.notify("provider-change",null)},$c=function(){if(!this.el)return;const{player:t,$state:e}=r(this,Se),n=this.el.offsetWidth,a=this.el.offsetHeight;t&&(e.mediaWidth.set(n),e.mediaHeight.set(a),t.el&&(Ps(t.el,"--media-width",n+"px"),Ps(t.el,"--media-height",a+"px")))},wc=function(){const t=[],e=[],n=this.el.children;for(const a of n)if(!a.hasAttribute("data-vds")){if(a instanceof HTMLSourceElement){const l={id:a.id,src:a.src,type:a.type};for(const h of["id","src","width","height","bitrate","codec"]){const c=a.getAttribute(`data-${h}`);x(c)&&(l[h]=/id|src|codec/.test(h)?c:Number(c))}t.push(l)}else if(a instanceof HTMLTrackElement){const l={src:a.src,kind:a.track.kind,language:a.srclang,label:a.label,default:a.default,type:a.getAttribute("data-type")};e.push({id:a.id||Ao.createId(l),...l})}}r(this,Pa).set(t),r(this,_a).set(e),ci()},g(Lo,"props",{loaders:[]}),g(Lo,"state",new kr({loader:null}));const Rv=Lo.prototype;$t(Rv,"load");var vs,xt,Gt,Je,Uy,Gy,Ky,Wy;class By extends et(HTMLElement,Lo){constructor(){super(...arguments);u(this,Je);u(this,vs);u(this,xt,null);u(this,Gt,null)}onSetup(){d(this,vs,D()),this.setAttribute("keep-alive","")}onDestroy(){var t,e;(t=r(this,Gt))==null||t.remove(),d(this,Gt,null),(e=r(this,xt))==null||e.remove(),d(this,xt,null)}onConnect(){y(()=>{var c,p,f;const t=this.$state.loader(),e=(t==null?void 0:t.name)==="youtube",n=(t==null?void 0:t.name)==="vimeo",a=e||n,l=(t==null?void 0:t.name)==="google-cast",h=t?l?o(this,Je,Wy).call(this):a?o(this,Je,Ky).call(this):t.mediaType()==="audio"?o(this,Je,Uy).call(this):o(this,Je,Gy).call(this):null;if(r(this,xt)!==h){const m=((c=r(this,xt))==null?void 0:c.parentElement)??this;(p=r(this,xt))==null||p.remove(),d(this,xt,h),h&&m.prepend(h),a&&h&&y(()=>{var ht;const{nativeControls:b,viewType:w}=r(this,vs).$state,v=b(),k=w()==="audio";!v&&!k?(d(this,Gt,this.querySelector(".vds-blocker")),r(this,Gt)||(d(this,Gt,document.createElement("div")),r(this,Gt).classList.add("vds-blocker"),h.after(r(this,Gt)))):((ht=r(this,Gt))==null||ht.remove(),d(this,Gt,null)),C(h,"data-no-controls",!v)})}e?h==null||h.classList.add("vds-youtube"):n&&(h==null||h.classList.add("vds-vimeo")),a||((f=r(this,Gt))==null||f.remove(),d(this,Gt,null)),this.load(h)})}}vs=new WeakMap,xt=new WeakMap,Gt=new WeakMap,Je=new WeakSet,Uy=function(){const t=r(this,xt)instanceof HTMLAudioElement?r(this,xt):document.createElement("audio"),{controls:e,crossOrigin:n}=r(this,vs).$state;return y(()=>{C(t,"controls",e()),C(t,"crossorigin",n())}),t},Gy=function(){const t=r(this,xt)instanceof HTMLVideoElement?r(this,xt):document.createElement("video"),{crossOrigin:e,poster:n,nativeControls:a}=r(this,vs).$state,l=_s(()=>a()?"true":null),h=_s(()=>n()&&a()?n():null);return y(()=>{C(t,"controls",l()),C(t,"crossorigin",e()),C(t,"poster",h())}),t},Ky=function(){const t=r(this,xt)instanceof HTMLIFrameElement?r(this,xt):document.createElement("iframe"),{nativeControls:e}=r(this,vs).$state;return y(()=>C(t,"tabindex",e()?null:-1)),t},Wy=function(){var e;if((e=r(this,xt))!=null&&e.classList.contains("vds-google-cast"))return r(this,xt);const t=document.createElement("div");return t.classList.add("vds-google-cast"),qt(async()=>{const{insertContent:n}=await import("./vidstack-DJTshtlu-BA2WJqWV.js");return{insertContent:n}},__vite__mapDeps([18,1,2,3,4,8])).then(({insertContent:n})=>{n(t,r(this,vs).$state)}),t},g(By,"tagName","media-provider");class vc extends et(HTMLElement,Co){}g(vc,"tagName","media-player"),g(vc,"attrs",{autoPlay:"autoplay",crossOrigin:"crossorigin",playsInline:"playsinline",preferNativeHLS:"prefer-native-hls",minLiveDVRWindow:"min-live-dvr-window"});var io,ie,W,Tc,jy,kc,Qy,zy,Ea,Sc,Ac,Pc,Yy,_c,Xy;let Nv=(io=class extends tt{constructor(){super(...arguments);u(this,W);u(this,ie);u(this,Ea,"")}onSetup(){d(this,ie,D()),o(this,W,Sc).call(this),o(this,W,Ac).call(this),o(this,W,Pc).call(this),o(this,W,kc).call(this)}onAttach(t){t.style.setProperty("pointer-events","none"),y(o(this,W,zy).bind(this)),y(o(this,W,Sc).bind(this)),y(o(this,W,Ac).bind(this)),y(o(this,W,Pc).bind(this)),y(o(this,W,kc).bind(this));const{started:e}=r(this,ie).$state;this.setAttributes({"data-visible":()=>!e()&&!this.$state.hidden(),"data-loading":o(this,W,Qy).bind(this),"data-error":o(this,W,Tc).bind(this),"data-hidden":this.$state.hidden})}onConnect(t){y(o(this,W,jy).bind(this)),y(o(this,W,Yy).bind(this))}},ie=new WeakMap,W=new WeakSet,Tc=function(){const{error:t}=this.$state;return!ks(t())},jy=function(){const{canLoadPoster:t,poster:e}=r(this,ie).$state;!t()&&e()&&Da(e(),"preconnect")},kc=function(){const{src:t}=this.$props,{poster:e,nativeControls:n}=r(this,ie).$state;this.el&&C(this.el,"display",n()?"none":null),this.$state.hidden.set(o(this,W,Tc).call(this)||!(t()||e())||n())},Qy=function(){const{loading:t,hidden:e}=this.$state;return!e()&&t()},zy=function(){const t=this.$state.img();t&&(new dt(t).add("load",o(this,W,_c).bind(this)).add("error",o(this,W,Xy).bind(this)),t.complete&&o(this,W,_c).call(this))},Ea=new WeakMap,Sc=function(){const{poster:t}=r(this,ie).$props,{canLoadPoster:e,providedPoster:n,inferredPoster:a}=r(this,ie).$state,l=this.$props.src()||"",h=l||t()||a();r(this,Ea)===n()&&n.set(l),this.$state.src.set(e()&&h.length?h:null),d(this,Ea,l)},Ac=function(){const{src:t}=this.$props,{alt:e}=this.$state,{poster:n}=r(this,ie).$state;e.set(t()||n()?this.$props.alt():null)},Pc=function(){const{crossOrigin:t}=this.$props,{crossOrigin:e}=this.$state,{crossOrigin:n,poster:a}=r(this,ie).$state,l=t()!==null?t():n();e.set(/ytimg\.com|vimeo/.test(a()||"")?null:l===!0?"anonymous":l)},Yy=function(){const{loading:t,error:e}=this.$state,{canLoadPoster:n,poster:a}=r(this,ie).$state;t.set(n()&&!!a()),e.set(null)},_c=function(){const{loading:t,error:e}=this.$state;t.set(!1),e.set(null)},Xy=function(t){const{loading:e,error:n}=this.$state;e.set(!1),n.set(t)},g(io,"props",{src:null,alt:null,crossOrigin:null}),g(io,"state",new kr({img:null,src:null,alt:null,crossOrigin:null,loading:!0,error:null,hidden:!1})),io);var Ne;class Ec extends et(HTMLElement,Nv){constructor(){super(...arguments);u(this,Ne,document.createElement("img"))}onSetup(){this.$state.img.set(r(this,Ne))}onConnect(){const{src:t,alt:e,crossOrigin:n}=this.$state;y(()=>{const{loading:a,hidden:l}=this.$state;r(this,Ne).style.display=a()||l()?"none":""}),y(()=>{C(r(this,Ne),"alt",e()),C(r(this,Ne),"crossorigin",n()),C(r(this,Ne),"src",t())}),r(this,Ne).parentNode!==this&&this.prepend(r(this,Ne))}}Ne=new WeakMap,g(Ec,"tagName","media-poster"),g(Ec,"attrs",{crossOrigin:"crossorigin"});/**
 * @license
 * Copyright 2018 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const Jy=i=>i??ut;/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const Mo={ATTRIBUTE:1,CHILD:2,PROPERTY:3,BOOLEAN_ATTRIBUTE:4,EVENT:5,ELEMENT:6},nu=i=>(...s)=>({_$litDirective$:i,values:s});class Zy{constructor(s){}get _$AU(){return this._$AM._$AU}_$AT(s,t,e){this._$Ct=s,this._$AM=t,this._$Ci=e}_$AS(s,t){return this.update(s,t)}update(s,t){return this.render(...t)}}/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */let Io=class extends Zy{constructor(s){if(super(s),this.et=ut,s.type!==Mo.CHILD)throw Error(this.constructor.directiveName+"() can only be used in child bindings")}render(s){if(s===ut||s==null)return this.ft=void 0,this.et=s;if(s===$r)return s;if(typeof s!="string")throw Error(this.constructor.directiveName+"() called with a non-string value");if(s===this.et)return this.ft;this.et=s;const t=[s];return t.raw=t,this.ft={_$litType$:this.constructor.resultType,strings:t,values:[]}}};Io.directiveName="unsafeHTML",Io.resultType=1;const tb=nu(Io);/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */class xc extends Io{}xc.directiveName="unsafeSVG",xc.resultType=2;const Hv=nu(xc);/**
 * @license
 * Copyright 2020 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const Fv=i=>i.strings===void 0;/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const Fr=(i,s)=>{var t,e;const n=i._$AN;if(n===void 0)return!1;for(const a of n)(e=(t=a)._$AO)===null||e===void 0||e.call(t,s,!1),Fr(a,s);return!0},qo=i=>{let s,t;do{if((s=i._$AM)===void 0)break;t=s._$AN,t.delete(i),i=s}while((t==null?void 0:t.size)===0)},eb=i=>{for(let s;s=i._$AM;i=s){let t=s._$AN;if(t===void 0)s._$AN=t=new Set;else if(t.has(i))break;t.add(i),Gv(s)}};function Bv(i){this._$AN!==void 0?(qo(this),this._$AM=i,eb(this)):this._$AM=i}function Uv(i,s=!1,t=0){const e=this._$AH,n=this._$AN;if(n!==void 0&&n.size!==0)if(s)if(Array.isArray(e))for(let a=t;a<e.length;a++)Fr(e[a],!1),qo(e[a]);else e!=null&&(Fr(e,!1),qo(e));else Fr(this,i)}const Gv=i=>{var s,t,e,n;i.type==Mo.CHILD&&((s=(e=i)._$AP)!==null&&s!==void 0||(e._$AP=Uv),(t=(n=i)._$AQ)!==null&&t!==void 0||(n._$AQ=Bv))};class Kv extends Zy{constructor(){super(...arguments),this._$AN=void 0}_$AT(s,t,e){super._$AT(s,t,e),eb(this),this.isConnected=s._$AU}_$AO(s,t=!0){var e,n;s!==this.isConnected&&(this.isConnected=s,s?(e=this.reconnected)===null||e===void 0||e.call(this):(n=this.disconnected)===null||n===void 0||n.call(this)),t&&(Fr(this,s),qo(this))}setValue(s){if(Fv(this._$Ct))this._$Ct._$AI(s,this);else{const t=[...this._$Ct._$AH];t[this._$Ci]=s,this._$Ct._$AI(t,this,0)}}disconnected(){}reconnected(){}}var Ts,xa,dr,ue,Cc,Lc,sb,ib;class Wv extends Kv{constructor(t){super(t);u(this,ue);u(this,Ts,null);u(this,xa,!1);u(this,dr,null);d(this,xa,t.type===Mo.ATTRIBUTE||t.type===Mo.BOOLEAN_ATTRIBUTE)}render(t){return t!==r(this,Ts)&&(this.disconnected(),d(this,Ts,t),this.isConnected&&o(this,ue,Cc).call(this)),r(this,Ts)?o(this,ue,Lc).call(this,S(r(this,Ts))):ut}reconnected(){o(this,ue,Cc).call(this)}disconnected(){var t;(t=r(this,dr))==null||t.call(this),d(this,dr,null)}}Ts=new WeakMap,xa=new WeakMap,dr=new WeakMap,ue=new WeakSet,Cc=function(){r(this,Ts)&&d(this,dr,y(o(this,ue,ib).bind(this)))},Lc=function(t){return r(this,xa)?Jy(t):t},sb=function(t){this.setValue(o(this,ue,Lc).call(this,t))},ib=function(){var t;o(this,ue,sb).call(this,(t=r(this,Ts))==null?void 0:t.call(this))};function j(i){return nu(Wv)(_s(i))}var pr,Ca,tl,La,Mc;class nb{constructor(s,t){u(this,La);u(this,pr);u(this,Ca);g(this,"elements",new Set);u(this,tl,fn(o(this,La,Mc).bind(this)));d(this,pr,s),d(this,Ca,t)}connect(){o(this,La,Mc).call(this);const s=new MutationObserver(r(this,tl));for(const t of r(this,pr))s.observe(t,{childList:!0,subtree:!0});q(()=>s.disconnect()),q(this.disconnect.bind(this))}disconnect(){this.elements.clear()}assign(s,t){ud(s)?(t.textContent="",t.append(s)):(_o(null,t),_o(s,t)),t.style.display||(t.style.display="contents");const e=t.firstElementChild;if(!e)return;const n=t.getAttribute("data-class");n&&e.classList.add(...n.split(" "))}}pr=new WeakMap,Ca=new WeakMap,tl=new WeakMap,La=new WeakSet,Mc=function(s){if(s&&!s.some(n=>n.addedNodes.length))return;let t=!1,e=r(this,pr).flatMap(n=>[...n.querySelectorAll("slot")]);for(const n of e)!n.hasAttribute("name")||this.elements.has(n)||(this.elements.add(n),t=!0);t&&r(this,Ca).call(this,this.elements)};let jv=0,to="data-slot-id";var fr,el,mr,$o;class Qv{constructor(s){u(this,mr);u(this,fr);g(this,"slots");u(this,el,fn(o(this,mr,$o).bind(this)));d(this,fr,s),this.slots=new nb(s,o(this,mr,$o).bind(this))}connect(){this.slots.connect(),o(this,mr,$o).call(this);const s=new MutationObserver(r(this,el));for(const t of r(this,fr))s.observe(t,{childList:!0});q(()=>s.disconnect())}}fr=new WeakMap,el=new WeakMap,mr=new WeakSet,$o=function(){for(const s of r(this,fr))for(const t of s.children){if(t.nodeType!==1)continue;const e=t.getAttribute("slot");if(!e)continue;t.style.display="none";let n=t.getAttribute(to);n||t.setAttribute(to,n=++jv+"");for(const a of this.slots.elements){if(a.getAttribute("name")!==e||a.getAttribute(to)===n)continue;const l=document.importNode(t,!0);e.includes("-icon")&&l.classList.add("vds-icon"),l.style.display="",l.removeAttribute("slot"),this.slots.assign(l,a),a.setAttribute(to,n)}}};function zv({name:i,class:s,state:t,paths:e,viewBox:n="0 0 32 32"}){return I`<svg
    class="${"vds-icon"+(s?` ${s}`:"")}"
    viewBox="${n}"
    fill="none"
    aria-hidden="true"
    focusable="false"
    xmlns="http://www.w3.org/2000/svg"
    data-icon=${Jy(i??t)}
  >
    ${x(e)?Hv(e):j(e)}
  </svg>`}var gr,Ma,dn,rb,Ic;class Yv{constructor(s){u(this,dn);u(this,gr,{});u(this,Ma,!1);g(this,"slots");this.slots=new nb(s,o(this,dn,Ic).bind(this))}connect(){this.slots.connect()}load(){this.loadIcons().then(s=>{d(this,gr,s),d(this,Ma,!0),o(this,dn,Ic).call(this)})}}gr=new WeakMap,Ma=new WeakMap,dn=new WeakSet,rb=function*(){for(const s of Object.keys(r(this,gr))){const t=`${s}-icon`;for(const e of this.slots.elements)e.name===t&&(yield{icon:r(this,gr)[s],slot:e})}},Ic=function(){if(r(this,Ma))for(const{icon:s,slot:t}of o(this,dn,rb).call(this))this.slots.assign(s,t)};class Xv extends Yv{connect(){super.connect();const{player:s}=D();if(!s.el)return;let t,e=new IntersectionObserver(n=>{var a;(a=n[0])!=null&&a.isIntersecting&&(t==null||t(),t=void 0,this.load())});e.observe(s.el),t=q(()=>e.disconnect())}}const ab=gi();function st(){return Ot(ab)}const Jv={clickToPlay:!0,clickToFullscreen:!0,controls:["play-large","play","progress","current-time","mute+volume","captions","settings","pip","airplay","fullscreen"],customIcons:!1,displayDuration:!1,download:null,markers:null,invertTime:!0,thumbnails:null,toggleTime:!0,translations:null,seekTime:10,speed:[.5,.75,1,1.25,1.5,1.75,2,4]};var sl;class ob extends tt{constructor(){super(...arguments);u(this,sl)}onSetup(){d(this,sl,D()),xe(ab,{...this.$props,previewTime:O(0)})}}sl=new WeakMap,g(ob,"props",Jv);function Zv(i,s){const{canAirPlay:t,canFullscreen:e,canPictureInPicture:n,controlsHidden:a,currentTime:l,fullscreen:h,hasCaptions:c,isAirPlayConnected:p,paused:f,pictureInPicture:m,playing:b,pointer:w,poster:v,textTrack:k,viewType:G,waiting:ht}=s.$state;i.classList.add("plyr"),i.classList.add("plyr--full-ui");const wt={"plyr--airplay-active":p,"plyr--airplay-supported":t,"plyr--fullscreen-active":h,"plyr--fullscreen-enabled":e,"plyr--hide-controls":a,"plyr--is-touch":()=>w()==="coarse","plyr--loading":ht,"plyr--paused":f,"plyr--pip-active":m,"plyr--pip-enabled":n,"plyr--playing":b,"plyr__poster-enabled":v,"plyr--stopped":()=>f()&&l()===0,"plyr--captions-active":k,"plyr--captions-enabled":c},pe=Qb();for(const Dt of Object.keys(wt))pe.add(y(()=>void i.classList.toggle(Dt,!!wt[Dt]())));return pe.add(y(()=>{const Dt=`plyr--${G()}`;return i.classList.add(Dt),()=>i.classList.remove(Dt)}),y(()=>{var Le;const{$provider:Dt}=s,Ce=(Le=Dt())==null?void 0:Le.type,Ze=`plyr--${tT(Ce)?"html5":Ce}`;return i.classList.toggle(Ze,!!Ce),()=>i.classList.remove(Ze)})),()=>pe.empty()}function tT(i){return i==="audio"||i==="video"}class eT extends Xv{async loadIcons(){const s=(await qt(async()=>{const{icons:e}=await import("./vidstack-DXxIKXmd-Dge3KT8k.js");return{icons:e}},[])).icons,t={};for(const e of Object.keys(s))t[e]=zv({name:e,paths:s[e],viewBox:"0 0 18 18"});return t}}function ul(i,s){var t;return((t=i())==null?void 0:t[s])??s}function sT(){return aT()}function iT(){const i=D(),{load:s}=i.$props,{canLoad:t}=i.$state;return _s(()=>s()==="play"&&!t())()?[lb(),Gu()]:[nT(),rT(),Gu(),oT(),TT(),kT()]}function lb(){const i=D(),{translations:s}=st(),{title:t}=i.$state,e=j(()=>`${ul(s,"Play")}, ${t()}`);return I`
    <media-play-button
      class="plyr__control plyr__control--overlaid"
      aria-label=${e}
      data-plyr="play"
    >
      <slot name="play-icon"></slot>
    </button>
  `}function nT(){const{controls:i}=st();return j(()=>i().includes("play-large")?lb():null)}function rT(){const{thumbnails:i,previewTime:s}=st();return I`
    <media-thumbnail
      .src=${j(i)}
      class="plyr__preview-scrubbing"
      time=${j(()=>s())}
    ></media-thumbnail>
  `}function Gu(){const i=D(),{poster:s}=i.$state,t=j(()=>`background-image: url("${s()}");`);return I`<div class="plyr__poster" style=${t}></div>`}function aT(){const i=new Set(["captions","pip","airplay","fullscreen"]),{controls:s}=st(),t=j(()=>s().filter(e=>!i.has(e)).map(hb));return I`<div class="plyr__controls">${t}</div>`}function oT(){const{controls:i}=st(),s=j(()=>i().map(hb));return I`<div class="plyr__controls">${s}</div>`}function hb(i){switch(i){case"airplay":return lT();case"captions":return hT();case"current-time":return wT();case"download":return vT();case"duration":return cb();case"fast-forward":return gT();case"fullscreen":return cT();case"mute":case"volume":case"mute+volume":return bT(i);case"pip":return dT();case"play":return pT();case"progress":return yT();case"restart":return fT();case"rewind":return mT();case"settings":return ST();default:return null}}function lT(){const{translations:i}=st();return I`
    <media-airplay-button class="plyr__controls__item plyr__control" data-plyr="airplay">
      <slot name="airplay-icon"></slot>
      <span class="plyr__tooltip">${at(i,"AirPlay")}</span>
    </media-airplay-button>
  `}function hT(){const{translations:i}=st(),s=at(i,"Disable captions"),t=at(i,"Enable captions");return I`
    <media-caption-button
      class="plyr__controls__item plyr__control"
      data-no-label
      data-plyr="captions"
    >
      <slot name="captions-on-icon" data-class="icon--pressed"></slot>
      <slot name="captions-off-icon" data-class="icon--not-pressed"></slot>
      <span class="label--pressed plyr__tooltip">${s}</span>
      <span class="label--not-pressed plyr__tooltip">${t}</span>
    </media-caption-button>
  `}function cT(){const{translations:i}=st(),s=at(i,"Enter Fullscreen"),t=at(i,"Exit Fullscreen");return I`
    <media-fullscreen-button
      class="plyr__controls__item plyr__control"
      data-no-label
      data-plyr="fullscreen"
    >
      <slot name="enter-fullscreen-icon" data-class="icon--pressed"></slot>
      <slot name="exit-fullscreen-icon" data-class="icon--not-pressed"></slot>
      <span class="label--pressed plyr__tooltip">${t}</span>
      <span class="label--not-pressed plyr__tooltip">${s}</span>
    </media-fullscreen-button>
  `}function uT(){const{translations:i}=st(),s=at(i,"Mute"),t=at(i,"Unmute");return I`
    <media-mute-button class="plyr__control" data-no-label data-plyr="mute">
      <slot name="muted-icon" data-class="icon--pressed"></slot>
      <slot name="volume-icon" data-class="icon--not-pressed"></slot>
      <span class="label--pressed plyr__tooltip">${t}</span>
      <span class="label--not-pressed plyr__tooltip">${s}</span>
    </media-mute-button>
  `}function dT(){const{translations:i}=st(),s=at(i,"Enter PiP"),t=at(i,"Exit PiP");return I`
    <media-pip-button class="plyr__controls__item plyr__control" data-no-label data-plyr="pip">
      <slot name="pip-icon"></slot>
      <slot name="enter-pip-icon" data-class="icon--pressed"></slot>
      <slot name="exit-pip-icon" data-class="icon--not-pressed"></slot>
      <span class="label--pressed plyr__tooltip">${t}</span>
      <span class="label--not-pressed plyr__tooltip">${s}</span>
    </media-pip-button>
  `}function pT(){const{translations:i}=st(),s=at(i,"Play"),t=at(i,"Pause");return I`
    <media-play-button class="plyr__controls__item plyr__control" data-no-label data-plyr="play">
      <slot name="pause-icon" data-class="icon--pressed"></slot>
      <slot name="play-icon" data-class="icon--not-pressed"></slot>
      <span class="label--pressed plyr__tooltip">${t}</span>
      <span class="label--not-pressed plyr__tooltip">${s}</span>
    </media-play-button>
  `}function fT(){const{translations:i}=st(),{remote:s}=D(),t=at(i,"Restart");function e(n){Tr(n)&&!ol(n)||s.seek(0,n)}return I`
    <button
      type="button"
      class="plyr__control"
      data-plyr="restart"
      @pointerup=${e}
      @keydown=${e}
    >
      <slot name="restart-icon"></slot>
      <span class="plyr__tooltip">${t}</span>
    </button>
  `}function mT(){const{translations:i,seekTime:s}=st(),t=j(()=>`${ul(i,"Rewind")} ${s()}s`),e=j(()=>-1*s());return I`
    <media-seek-button
      class="plyr__controls__item plyr__control"
      seconds=${e}
      data-no-label
      data-plyr="rewind"
    >
      <slot name="rewind-icon"></slot>
      <span class="plyr__tooltip">${t}</span>
    </media-seek-button>
  `}function gT(){const{translations:i,seekTime:s}=st(),t=j(()=>`${ul(i,"Forward")} ${s()}s`),e=j(s);return I`
    <media-seek-button
      class="plyr__controls__item plyr__control"
      seconds=${e}
      data-no-label
      data-plyr="fast-forward"
    >
      <slot name="fast-forward-icon"></slot>
      <span class="plyr__tooltip">${t}</span>
    </media-seek-button>
  `}function yT(){let i=D(),{duration:s,viewType:t}=i.$state,{translations:e,markers:n,thumbnails:a,seekTime:l,previewTime:h}=st(),c=at(e,"Seek"),p=O(null),f=j(()=>{const G=p();return G?I`<span class="plyr__progress__marker-label">${tb(G.label)}<br /></span>`:null});function m(G){h.set(G.detail)}function b(){p.set(this)}function w(){p.set(null)}function v(){const G=a(),ht=j(()=>t()==="audio");return G?I`
          <media-slider-preview class="plyr__slider__preview" ?no-clamp=${ht}>
            <media-slider-thumbnail .src=${G} class="plyr__slider__preview__thumbnail">
              <span class="plyr__slider__preview__time-container">
                ${f}
                <media-slider-value class="plyr__slider__preview__time"></media-slider-value>
              </span>
            </media-slider-thumbnail>
          </media-slider-preview>
        `:I`
          <span class="plyr__tooltip">
            ${f}
            <media-slider-value></media-slider-value>
          </span>
        `}function k(){var ht;const G=s();return Number.isFinite(G)?(ht=n())==null?void 0:ht.map(wt=>I`
        <span
          class="plyr__progress__marker"
          @mouseenter=${b.bind(wt)}
          @mouseleave=${w}
          style=${`left: ${wt.time/G*100}%;`}
        ></span>
      `):null}return I`
    <div class="plyr__controls__item plyr__progress__container">
      <div class="plyr__progress">
        <media-time-slider
          class="plyr__slider"
          data-plyr="seek"
          pause-while-dragging
          key-step=${j(l)}
          aria-label=${c}
          @media-seeking-request=${m}
        >
          <div class="plyr__slider__track"></div>
          <div class="plyr__slider__thumb"></div>
          <div class="plyr__slider__buffer"></div>
          ${j(v)}${j(k)}
        </media-time-slider>
      </div>
    </div>
  `}function bT(i){return j(()=>{const s=i==="mute"||i==="mute+volume",t=i==="volume"||i==="mute+volume";return I`
      <div class="plyr__controls__item plyr__volume">
        ${[s?uT():null,t?$T():null]}
      </div>
    `})}function $T(){const{translations:i}=st(),s=at(i,"Volume");return I`
    <media-volume-slider class="plyr__slider" data-plyr="volume" aria-label=${s}>
      <div class="plyr__slider__track"></div>
      <div class="plyr__slider__thumb"></div>
    </media-volume-slider>
  `}function wT(){const i=D(),{translations:s,invertTime:t,toggleTime:e,displayDuration:n}=st(),a=O(S(t));function l(c){!e()||n()||Tr(c)&&!ol(c)||a.set(p=>!p)}function h(){return j(()=>n()?cb():null)}return j(()=>{const{streamType:c}=i.$state,p=at(s,"LIVE"),f=at(s,"Current time"),m=j(()=>!n()&&a());return c()==="live"||c()==="ll-live"?I`
          <media-live-button
            class="plyr__controls__item plyr__control plyr__live-button"
            data-plyr="live"
          >
            <span class="plyr__live-button__text">${p}</span>
          </media-live-button>
        `:I`
          <media-time
            type="current"
            class="plyr__controls__item plyr__time plyr__time--current"
            tabindex="0"
            role="timer"
            aria-label=${f}
            ?remainder=${m}
            @pointerup=${l}
            @keydown=${l}
          ></media-time>
          ${h()}
        `})}function cb(){const{translations:i}=st(),s=at(i,"Duration");return I`
    <media-time
      type="duration"
      class="plyr__controls__item plyr__time plyr__time--duration"
      role="timer"
      tabindex="0"
      aria-label=${s}
    ></media-time>
  `}function vT(){return j(()=>{const i=D(),{translations:s,download:t}=st(),{title:e,source:n}=i.$state,a=n(),l=t(),h=U$({title:e(),src:a,download:l}),c=at(s,"Download");return h?I`
          <a
            class="plyr__controls__item plyr__control"
            href=${h.url+`?download=${h.name}`}
            download=${h.name}
            target="_blank"
          >
            <slot name="download-icon" />
            <span class="plyr__tooltip">${c}</span>
          </a>
        `:null})}function TT(){return j(()=>{const{clickToPlay:i,clickToFullscreen:s}=st();return[i()?I`
            <media-gesture
              class="plyr__gesture"
              event="pointerup"
              action="toggle:paused"
            ></media-gesture>
          `:null,s()?I`
            <media-gesture
              class="plyr__gesture"
              event="dblpointerup"
              action="toggle:fullscreen"
            ></media-gesture>
          `:null]})}function kT(){const i=D(),s=O(void 0),t=j(()=>{var e;return tb((e=s())==null?void 0:e.text)});return y(()=>{const e=i.$state.textTrack();if(!e)return;function n(){s.set(e==null?void 0:e.activeCues[0])}return n(),ae(e,"cue-change",n)}),I`
    <div class="plyr__captions" dir="auto">
      <span class="plyr__caption">${t}</span>
    </div>
  `}function ST(){const{translations:i}=st(),s=at(i,"Settings");return I`
    <div class="plyr__controls__item plyr__menu">
      <media-menu>
        <media-menu-button class="plyr__control" data-plyr="settings">
          <slot name="settings-icon" />
          <span class="plyr__tooltip">${s}</span>
        </media-menu-button>
        <media-menu-items class="plyr__menu__container" placement="top end">
          <div><div>${[PT(),CT(),MT(),ET()]}</div></div>
        </media-menu-items>
      </media-menu>
    </div>
  `}function dl({label:i,children:s}){const t=O(!1);return I`
    <media-menu @open=${()=>t.set(!0)} @close=${()=>t.set(!1)}>
      ${AT({label:i,open:t})}
      <media-menu-items>${s}</media-menu-items>
    </media-menu>
  `}function AT({open:i,label:s}){const{translations:t}=st(),e=j(()=>`plyr__control plyr__control--${i()?"back":"forward"}`);function n(){const a=at(t,"Go back to previous menu");return j(()=>i()?I`<span class="plyr__sr-only">${a}</span>`:null)}return I`
    <media-menu-button class=${e} data-plyr="settings">
      <span class="plyr__menu__label" aria-hidden=${qT(i)}>
        ${at(t,s)}
      </span>
      <span class="plyr__menu__value" data-part="hint"></span>
      ${n()}
    </media-menu-button>
  `}function PT(){return dl({label:"Audio",children:_T()})}function _T(){const{translations:i}=st();return I`
    <media-audio-radio-group empty-label=${at(i,"Default")}>
      <template>
        <media-radio class="plyr__control" data-plyr="audio">
          <span data-part="label"></span>
        </media-radio>
      </template>
    </media-audio-radio-group>
  `}function ET(){return dl({label:"Speed",children:xT()})}function xT(){const{translations:i,speed:s}=st();return I`
    <media-speed-radio-group .rates=${s} normal-label=${at(i,"Normal")}>
      <template>
        <media-radio class="plyr__control" data-plyr="speed">
          <span data-part="label"></span>
        </media-radio>
      </template>
    </media-speed-radio-group>
  `}function CT(){return dl({label:"Captions",children:LT()})}function LT(){const{translations:i}=st();return I`
    <media-captions-radio-group off-label=${at(i,"Disabled")}>
      <template>
        <media-radio class="plyr__control" data-plyr="captions">
          <span data-part="label"></span>
        </media-radio>
      </template>
    </media-captions-radio-group>
  `}function MT(){return dl({label:"Quality",children:IT()})}function IT(){const{translations:i}=st();return I`
    <media-quality-radio-group auto-label=${at(i,"Auto")}>
      <template>
        <media-radio class="plyr__control" data-plyr="quality">
          <span data-part="label"></span>
        </media-radio>
      </template>
    </media-quality-radio-group>
  `}function qT(i){return j(()=>i()?"true":"false")}function at(i,s){return j(()=>ul(i,s))}var hi,il,ub;class ru extends et(Rw,ob){constructor(){super(...arguments);u(this,il);u(this,hi)}onSetup(){this.forwardKeepAlive=!1,d(this,hi,D())}onConnect(){var t;(t=r(this,hi).player.el)==null||t.setAttribute("data-layout","plyr"),q(()=>{var e;return(e=r(this,hi).player.el)==null?void 0:e.removeAttribute("data-layout")}),Zv(this,r(this,hi)),y(()=>{this.$props.customIcons()?new Qv([this]).connect():new eT([this]).connect()})}render(){return j(o(this,il,ub).bind(this))}}hi=new WeakMap,il=new WeakSet,ub=function(){const{viewType:t}=r(this,hi).$state;return t()==="audio"?sT():t()==="video"?iT():null},g(ru,"tagName","media-plyr-layout");Y(ru);Y(vc);Y(By);Y(ru);Y(Ec);Y(Vm);Y(Om);Y(Mm);Y(Dm);Y(Im);Y(Rm);Y(Lm);Y(qm);Y(Xm);Y(zm);Y(Ym);Y(jm);Y(Ch);Y(Fm);Y(Bm);Y(Gm);Y(Um);Y(Nm);Y(Hm);Y(Km);Y(Wm);Y(Cm);Y(Eo);const OT=["title","src","autoplay"],DT=wb({__name:"index",setup(i){const s=yl(),t=yl(!1),e=h=>{t.value=!0,s.value=h;const{paused:c}=n.value;c?n.value.play():n.value.pause()},n=yl(),a=Object.assign({"/src/assets/vocal/wind copy.wav":()=>qt(()=>import("./wind copy-CtxV3Q2i.js"),[]),"/src/assets/vocal/wind.wav":()=>qt(()=>import("./wind-CtxV3Q2i.js"),[])});vb(()=>{s.value=Object.keys(a)[0],n.value=document.querySelector("media-player")});const l=h=>h&&h.substring(h.lastIndexOf("/")+1,h.lastIndexOf("."));return(h,c)=>{const p=bb,f=$b;return bl(),cu(du,null,[uu(p,null,{header:Qa(()=>[pu(" 当前播放："+fu(l(_r(s))),1)]),default:Qa(()=>[$l("media-player",{title:l(_r(s)),src:_r(s),viewType:"audio",autoplay:_r(t)},c[0]||(c[0]=[$l("media-provider",null,null,-1),$l("media-plyr-layout",{translations:{Normal:"1×",Speed:"倍速",Mute:"静音",Pause:"暂停",Play:"播放",Settings:"设置",Unmute:"取消静音"}},null,-1)]),8,OT)]),_:1}),uu(p,null,{default:Qa(()=>[(bl(!0),cu(du,null,Tb(_r(a),(m,b)=>(bl(),kb(f,{onClick:w=>e(b)},{default:Qa(()=>[pu(fu(l(b)),1)]),_:2},1032,["onClick"]))),256))]),_:1})],64)}}}),VT=Sb(DT,[["__scopeId","data-v-6115ff51"]]),pk=Object.freeze(Object.defineProperty({__proto__:null,default:VT},Symbol.toStringTag,{value:"Module"}));export{zT as A,WT as B,_d as C,rt as D,dt as E,Oa as F,UT as G,ew as H,KT as I,O as J,po as K,U as L,Wl as M,Lt as N,Ib as O,gu as P,me as Q,YT as R,B$ as S,Ao as T,GT as U,Br as V,pk as W,g$ as a,x as b,y$ as c,S as d,y as e,M as f,A$ as g,_e as h,Uc as i,kl as j,XT as k,ae as l,Ss as m,yd as n,I$ as o,Da as p,E$ as q,_$ as r,ne as s,Ae as t,QT as u,jT as v,x$ as w,q as x,Gl as y,C as z};
